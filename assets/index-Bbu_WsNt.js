const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Home-D85xov10.js","assets/index-CU_NjgJ4.js","assets/iconBase-DEd7Qj57.js","assets/index-ChxYVHwZ.js","assets/index-CzmOlg0T.js","assets/firestore-CPQkVXqL.js","assets/Inventory-D-_t2SLa.js","assets/Navigation-BJLDpNqM.js","assets/Storages-BllkgiJK.js","assets/index.esm-CwNO7wZ2.js","assets/api-BFyl0Vxo.js","assets/Signup-Cyfsnqle.js","assets/Profile-Pe-kFbA8.js"])))=>i.map(i=>d[i]);
function ow(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();const VI="modulepreload",MI=function(t){return"/farmers-warehous/"+t},_g={},li=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(u=>{if(u=MI(u),u in _g)return;_g[u]=!0;const d=u.endsWith(".css"),p=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${p}`))return;const y=document.createElement("link");if(y.rel=d?"stylesheet":VI,d||(y.as="script"),y.crossOrigin="",y.href=u,l&&y.setAttribute("nonce",l),document.head.appendChild(y),d)return new Promise((w,S)=>{y.addEventListener("load",w),y.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${u}`)))})}))}function s(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return i.then(o=>{for(const l of o||[])l.status==="rejected"&&s(l.reason);return e().catch(s)})};var Vt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ep(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var aw={exports:{}},fd={},lw={exports:{}},Ce={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zl=Symbol.for("react.element"),FI=Symbol.for("react.portal"),UI=Symbol.for("react.fragment"),BI=Symbol.for("react.strict_mode"),jI=Symbol.for("react.profiler"),zI=Symbol.for("react.provider"),$I=Symbol.for("react.context"),HI=Symbol.for("react.forward_ref"),WI=Symbol.for("react.suspense"),qI=Symbol.for("react.memo"),KI=Symbol.for("react.lazy"),Eg=Symbol.iterator;function GI(t){return t===null||typeof t!="object"?null:(t=Eg&&t[Eg]||t["@@iterator"],typeof t=="function"?t:null)}var uw={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},cw=Object.assign,dw={};function da(t,e,n){this.props=t,this.context=e,this.refs=dw,this.updater=n||uw}da.prototype.isReactComponent={};da.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};da.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function hw(){}hw.prototype=da.prototype;function Tp(t,e,n){this.props=t,this.context=e,this.refs=dw,this.updater=n||uw}var Ip=Tp.prototype=new hw;Ip.constructor=Tp;cw(Ip,da.prototype);Ip.isPureReactComponent=!0;var Tg=Array.isArray,fw=Object.prototype.hasOwnProperty,Sp={current:null},pw={key:!0,ref:!0,__self:!0,__source:!0};function mw(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)fw.call(e,r)&&!pw.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var u=Array(l),d=0;d<l;d++)u[d]=arguments[d+2];i.children=u}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:zl,type:t,key:s,ref:o,props:i,_owner:Sp.current}}function QI(t,e){return{$$typeof:zl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Cp(t){return typeof t=="object"&&t!==null&&t.$$typeof===zl}function YI(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Ig=/\/+/g;function ph(t,e){return typeof t=="object"&&t!==null&&t.key!=null?YI(""+t.key):e.toString(36)}function Xu(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case zl:case FI:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+ph(o,0):r,Tg(i)?(n="",t!=null&&(n=t.replace(Ig,"$&/")+"/"),Xu(i,e,n,"",function(d){return d})):i!=null&&(Cp(i)&&(i=QI(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Ig,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Tg(t))for(var l=0;l<t.length;l++){s=t[l];var u=r+ph(s,l);o+=Xu(s,e,n,u,i)}else if(u=GI(t),typeof u=="function")for(t=u.call(t),l=0;!(s=t.next()).done;)s=s.value,u=r+ph(s,l++),o+=Xu(s,e,n,u,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Pu(t,e,n){if(t==null)return t;var r=[],i=0;return Xu(t,r,"","",function(s){return e.call(n,s,i++)}),r}function XI(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var un={current:null},Ju={transition:null},JI={ReactCurrentDispatcher:un,ReactCurrentBatchConfig:Ju,ReactCurrentOwner:Sp};function gw(){throw Error("act(...) is not supported in production builds of React.")}Ce.Children={map:Pu,forEach:function(t,e,n){Pu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Pu(t,function(){e++}),e},toArray:function(t){return Pu(t,function(e){return e})||[]},only:function(t){if(!Cp(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ce.Component=da;Ce.Fragment=UI;Ce.Profiler=jI;Ce.PureComponent=Tp;Ce.StrictMode=BI;Ce.Suspense=WI;Ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=JI;Ce.act=gw;Ce.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=cw({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Sp.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(u in e)fw.call(e,u)&&!pw.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&l!==void 0?l[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){l=Array(u);for(var d=0;d<u;d++)l[d]=arguments[d+2];r.children=l}return{$$typeof:zl,type:t.type,key:i,ref:s,props:r,_owner:o}};Ce.createContext=function(t){return t={$$typeof:$I,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:zI,_context:t},t.Consumer=t};Ce.createElement=mw;Ce.createFactory=function(t){var e=mw.bind(null,t);return e.type=t,e};Ce.createRef=function(){return{current:null}};Ce.forwardRef=function(t){return{$$typeof:HI,render:t}};Ce.isValidElement=Cp;Ce.lazy=function(t){return{$$typeof:KI,_payload:{_status:-1,_result:t},_init:XI}};Ce.memo=function(t,e){return{$$typeof:qI,type:t,compare:e===void 0?null:e}};Ce.startTransition=function(t){var e=Ju.transition;Ju.transition={};try{t()}finally{Ju.transition=e}};Ce.unstable_act=gw;Ce.useCallback=function(t,e){return un.current.useCallback(t,e)};Ce.useContext=function(t){return un.current.useContext(t)};Ce.useDebugValue=function(){};Ce.useDeferredValue=function(t){return un.current.useDeferredValue(t)};Ce.useEffect=function(t,e){return un.current.useEffect(t,e)};Ce.useId=function(){return un.current.useId()};Ce.useImperativeHandle=function(t,e,n){return un.current.useImperativeHandle(t,e,n)};Ce.useInsertionEffect=function(t,e){return un.current.useInsertionEffect(t,e)};Ce.useLayoutEffect=function(t,e){return un.current.useLayoutEffect(t,e)};Ce.useMemo=function(t,e){return un.current.useMemo(t,e)};Ce.useReducer=function(t,e,n){return un.current.useReducer(t,e,n)};Ce.useRef=function(t){return un.current.useRef(t)};Ce.useState=function(t){return un.current.useState(t)};Ce.useSyncExternalStore=function(t,e,n){return un.current.useSyncExternalStore(t,e,n)};Ce.useTransition=function(){return un.current.useTransition()};Ce.version="18.3.1";lw.exports=Ce;var $=lw.exports;const Pp=Ep($),ZI=ow({__proto__:null,default:Pp},[$]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e1=$,t1=Symbol.for("react.element"),n1=Symbol.for("react.fragment"),r1=Object.prototype.hasOwnProperty,i1=e1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s1={key:!0,ref:!0,__self:!0,__source:!0};function yw(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)r1.call(e,r)&&!s1.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:t1,type:t,key:s,ref:o,props:i,_owner:i1.current}}fd.Fragment=n1;fd.jsx=yw;fd.jsxs=yw;aw.exports=fd;var ae=aw.exports,ef={},vw={exports:{}},Ln={},ww={exports:{}},_w={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(Y,Z){var de=Y.length;Y.push(Z);e:for(;0<de;){var be=de-1>>>1,Ie=Y[be];if(0<i(Ie,Z))Y[be]=Z,Y[de]=Ie,de=be;else break e}}function n(Y){return Y.length===0?null:Y[0]}function r(Y){if(Y.length===0)return null;var Z=Y[0],de=Y.pop();if(de!==Z){Y[0]=de;e:for(var be=0,Ie=Y.length,De=Ie>>>1;be<De;){var mt=2*(be+1)-1,Et=Y[mt],Ge=mt+1,Tt=Y[Ge];if(0>i(Et,de))Ge<Ie&&0>i(Tt,Et)?(Y[be]=Tt,Y[Ge]=de,be=Ge):(Y[be]=Et,Y[mt]=de,be=mt);else if(Ge<Ie&&0>i(Tt,de))Y[be]=Tt,Y[Ge]=de,be=Ge;else break e}}return Z}function i(Y,Z){var de=Y.sortIndex-Z.sortIndex;return de!==0?de:Y.id-Z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var u=[],d=[],p=1,y=null,w=3,S=!1,D=!1,N=!1,F=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(Y){for(var Z=n(d);Z!==null;){if(Z.callback===null)r(d);else if(Z.startTime<=Y)r(d),Z.sortIndex=Z.expirationTime,e(u,Z);else break;Z=n(d)}}function M(Y){if(N=!1,A(Y),!D)if(n(u)!==null)D=!0,tn(H);else{var Z=n(d);Z!==null&&ct(M,Z.startTime-Y)}}function H(Y,Z){D=!1,N&&(N=!1,R(g),g=-1),S=!0;var de=w;try{for(A(Z),y=n(u);y!==null&&(!(y.expirationTime>Z)||Y&&!b());){var be=y.callback;if(typeof be=="function"){y.callback=null,w=y.priorityLevel;var Ie=be(y.expirationTime<=Z);Z=t.unstable_now(),typeof Ie=="function"?y.callback=Ie:y===n(u)&&r(u),A(Z)}else r(u);y=n(u)}if(y!==null)var De=!0;else{var mt=n(d);mt!==null&&ct(M,mt.startTime-Z),De=!1}return De}finally{y=null,w=de,S=!1}}var j=!1,C=null,g=-1,T=5,I=-1;function b(){return!(t.unstable_now()-I<T)}function O(){if(C!==null){var Y=t.unstable_now();I=Y;var Z=!0;try{Z=C(!0,Y)}finally{Z?k():(j=!1,C=null)}}else j=!1}var k;if(typeof E=="function")k=function(){E(O)};else if(typeof MessageChannel<"u"){var ve=new MessageChannel,We=ve.port2;ve.port1.onmessage=O,k=function(){We.postMessage(null)}}else k=function(){F(O,0)};function tn(Y){C=Y,j||(j=!0,k())}function ct(Y,Z){g=F(function(){Y(t.unstable_now())},Z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Y){Y.callback=null},t.unstable_continueExecution=function(){D||S||(D=!0,tn(H))},t.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<Y?Math.floor(1e3/Y):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(Y){switch(w){case 1:case 2:case 3:var Z=3;break;default:Z=w}var de=w;w=Z;try{return Y()}finally{w=de}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Y,Z){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var de=w;w=Y;try{return Z()}finally{w=de}},t.unstable_scheduleCallback=function(Y,Z,de){var be=t.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?be+de:be):de=be,Y){case 1:var Ie=-1;break;case 2:Ie=250;break;case 5:Ie=1073741823;break;case 4:Ie=1e4;break;default:Ie=5e3}return Ie=de+Ie,Y={id:p++,callback:Z,priorityLevel:Y,startTime:de,expirationTime:Ie,sortIndex:-1},de>be?(Y.sortIndex=de,e(d,Y),n(u)===null&&Y===n(d)&&(N?(R(g),g=-1):N=!0,ct(M,de-be))):(Y.sortIndex=Ie,e(u,Y),D||S||(D=!0,tn(H))),Y},t.unstable_shouldYield=b,t.unstable_wrapCallback=function(Y){var Z=w;return function(){var de=w;w=Z;try{return Y.apply(this,arguments)}finally{w=de}}}})(_w);ww.exports=_w;var o1=ww.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a1=$,Nn=o1;function G(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ew=new Set,pl={};function Ys(t,e){qo(t,e),qo(t+"Capture",e)}function qo(t,e){for(pl[t]=e,t=0;t<e.length;t++)Ew.add(e[t])}var Zr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),tf=Object.prototype.hasOwnProperty,l1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Sg={},Cg={};function u1(t){return tf.call(Cg,t)?!0:tf.call(Sg,t)?!1:l1.test(t)?Cg[t]=!0:(Sg[t]=!0,!1)}function c1(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function d1(t,e,n,r){if(e===null||typeof e>"u"||c1(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function cn(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Ht={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ht[t]=new cn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ht[e]=new cn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ht[t]=new cn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ht[t]=new cn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ht[t]=new cn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ht[t]=new cn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ht[t]=new cn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ht[t]=new cn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ht[t]=new cn(t,5,!1,t.toLowerCase(),null,!1,!1)});var Ap=/[\-:]([a-z])/g;function Rp(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Ap,Rp);Ht[e]=new cn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Ap,Rp);Ht[e]=new cn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Ap,Rp);Ht[e]=new cn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ht[t]=new cn(t,1,!1,t.toLowerCase(),null,!1,!1)});Ht.xlinkHref=new cn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ht[t]=new cn(t,1,!1,t.toLowerCase(),null,!0,!0)});function kp(t,e,n,r){var i=Ht.hasOwnProperty(e)?Ht[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(d1(e,n,i,r)&&(n=null),r||i===null?u1(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ui=a1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Au=Symbol.for("react.element"),To=Symbol.for("react.portal"),Io=Symbol.for("react.fragment"),bp=Symbol.for("react.strict_mode"),nf=Symbol.for("react.profiler"),Tw=Symbol.for("react.provider"),Iw=Symbol.for("react.context"),xp=Symbol.for("react.forward_ref"),rf=Symbol.for("react.suspense"),sf=Symbol.for("react.suspense_list"),Dp=Symbol.for("react.memo"),ki=Symbol.for("react.lazy"),Sw=Symbol.for("react.offscreen"),Pg=Symbol.iterator;function Na(t){return t===null||typeof t!="object"?null:(t=Pg&&t[Pg]||t["@@iterator"],typeof t=="function"?t:null)}var nt=Object.assign,mh;function Ha(t){if(mh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);mh=e&&e[1]||""}return`
`+mh+t}var gh=!1;function yh(t,e){if(!t||gh)return"";gh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var r=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){r=d}t.call(e.prototype)}else{try{throw Error()}catch(d){r=d}t()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var i=d.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l]){var u=`
`+i[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=l);break}}}finally{gh=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ha(t):""}function h1(t){switch(t.tag){case 5:return Ha(t.type);case 16:return Ha("Lazy");case 13:return Ha("Suspense");case 19:return Ha("SuspenseList");case 0:case 2:case 15:return t=yh(t.type,!1),t;case 11:return t=yh(t.type.render,!1),t;case 1:return t=yh(t.type,!0),t;default:return""}}function of(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Io:return"Fragment";case To:return"Portal";case nf:return"Profiler";case bp:return"StrictMode";case rf:return"Suspense";case sf:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Iw:return(t.displayName||"Context")+".Consumer";case Tw:return(t._context.displayName||"Context")+".Provider";case xp:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Dp:return e=t.displayName||null,e!==null?e:of(t.type)||"Memo";case ki:e=t._payload,t=t._init;try{return of(t(e))}catch{}}return null}function f1(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return of(e);case 8:return e===bp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Zi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Cw(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function p1(t){var e=Cw(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ru(t){t._valueTracker||(t._valueTracker=p1(t))}function Pw(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Cw(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function wc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function af(t,e){var n=e.checked;return nt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Ag(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Zi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Aw(t,e){e=e.checked,e!=null&&kp(t,"checked",e,!1)}function lf(t,e){Aw(t,e);var n=Zi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?uf(t,e.type,n):e.hasOwnProperty("defaultValue")&&uf(t,e.type,Zi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Rg(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function uf(t,e,n){(e!=="number"||wc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Wa=Array.isArray;function Vo(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Zi(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function cf(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(G(91));return nt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function kg(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(G(92));if(Wa(n)){if(1<n.length)throw Error(G(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Zi(n)}}function Rw(t,e){var n=Zi(e.value),r=Zi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function bg(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function kw(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function df(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?kw(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ku,bw=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ku=ku||document.createElement("div"),ku.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ku.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ml(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var el={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},m1=["Webkit","ms","Moz","O"];Object.keys(el).forEach(function(t){m1.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),el[e]=el[t]})});function xw(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||el.hasOwnProperty(t)&&el[t]?(""+e).trim():e+"px"}function Dw(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=xw(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var g1=nt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function hf(t,e){if(e){if(g1[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(G(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(G(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(G(61))}if(e.style!=null&&typeof e.style!="object")throw Error(G(62))}}function ff(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pf=null;function Np(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var mf=null,Mo=null,Fo=null;function xg(t){if(t=Wl(t)){if(typeof mf!="function")throw Error(G(280));var e=t.stateNode;e&&(e=vd(e),mf(t.stateNode,t.type,e))}}function Nw(t){Mo?Fo?Fo.push(t):Fo=[t]:Mo=t}function Lw(){if(Mo){var t=Mo,e=Fo;if(Fo=Mo=null,xg(t),e)for(t=0;t<e.length;t++)xg(e[t])}}function Ow(t,e){return t(e)}function Vw(){}var vh=!1;function Mw(t,e,n){if(vh)return t(e,n);vh=!0;try{return Ow(t,e,n)}finally{vh=!1,(Mo!==null||Fo!==null)&&(Vw(),Lw())}}function gl(t,e){var n=t.stateNode;if(n===null)return null;var r=vd(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(G(231,e,typeof n));return n}var gf=!1;if(Zr)try{var La={};Object.defineProperty(La,"passive",{get:function(){gf=!0}}),window.addEventListener("test",La,La),window.removeEventListener("test",La,La)}catch{gf=!1}function y1(t,e,n,r,i,s,o,l,u){var d=Array.prototype.slice.call(arguments,3);try{e.apply(n,d)}catch(p){this.onError(p)}}var tl=!1,_c=null,Ec=!1,yf=null,v1={onError:function(t){tl=!0,_c=t}};function w1(t,e,n,r,i,s,o,l,u){tl=!1,_c=null,y1.apply(v1,arguments)}function _1(t,e,n,r,i,s,o,l,u){if(w1.apply(this,arguments),tl){if(tl){var d=_c;tl=!1,_c=null}else throw Error(G(198));Ec||(Ec=!0,yf=d)}}function Xs(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Fw(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Dg(t){if(Xs(t)!==t)throw Error(G(188))}function E1(t){var e=t.alternate;if(!e){if(e=Xs(t),e===null)throw Error(G(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Dg(i),t;if(s===r)return Dg(i),e;s=s.sibling}throw Error(G(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(G(189))}}if(n.alternate!==r)throw Error(G(190))}if(n.tag!==3)throw Error(G(188));return n.stateNode.current===n?t:e}function Uw(t){return t=E1(t),t!==null?Bw(t):null}function Bw(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Bw(t);if(e!==null)return e;t=t.sibling}return null}var jw=Nn.unstable_scheduleCallback,Ng=Nn.unstable_cancelCallback,T1=Nn.unstable_shouldYield,I1=Nn.unstable_requestPaint,pt=Nn.unstable_now,S1=Nn.unstable_getCurrentPriorityLevel,Lp=Nn.unstable_ImmediatePriority,zw=Nn.unstable_UserBlockingPriority,Tc=Nn.unstable_NormalPriority,C1=Nn.unstable_LowPriority,$w=Nn.unstable_IdlePriority,pd=null,Sr=null;function P1(t){if(Sr&&typeof Sr.onCommitFiberRoot=="function")try{Sr.onCommitFiberRoot(pd,t,void 0,(t.current.flags&128)===128)}catch{}}var or=Math.clz32?Math.clz32:k1,A1=Math.log,R1=Math.LN2;function k1(t){return t>>>=0,t===0?32:31-(A1(t)/R1|0)|0}var bu=64,xu=4194304;function qa(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ic(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=qa(l):(s&=o,s!==0&&(r=qa(s)))}else o=n&~i,o!==0?r=qa(o):s!==0&&(r=qa(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-or(e),i=1<<n,r|=t[n],e&=~i;return r}function b1(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function x1(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-or(s),l=1<<o,u=i[o];u===-1?(!(l&n)||l&r)&&(i[o]=b1(l,e)):u<=e&&(t.expiredLanes|=l),s&=~l}}function vf(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Hw(){var t=bu;return bu<<=1,!(bu&4194240)&&(bu=64),t}function wh(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function $l(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-or(e),t[e]=n}function D1(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-or(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Op(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-or(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Me=0;function Ww(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var qw,Vp,Kw,Gw,Qw,wf=!1,Du=[],ji=null,zi=null,$i=null,yl=new Map,vl=new Map,xi=[],N1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lg(t,e){switch(t){case"focusin":case"focusout":ji=null;break;case"dragenter":case"dragleave":zi=null;break;case"mouseover":case"mouseout":$i=null;break;case"pointerover":case"pointerout":yl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":vl.delete(e.pointerId)}}function Oa(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Wl(e),e!==null&&Vp(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function L1(t,e,n,r,i){switch(e){case"focusin":return ji=Oa(ji,t,e,n,r,i),!0;case"dragenter":return zi=Oa(zi,t,e,n,r,i),!0;case"mouseover":return $i=Oa($i,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return yl.set(s,Oa(yl.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,vl.set(s,Oa(vl.get(s)||null,t,e,n,r,i)),!0}return!1}function Yw(t){var e=bs(t.target);if(e!==null){var n=Xs(e);if(n!==null){if(e=n.tag,e===13){if(e=Fw(n),e!==null){t.blockedOn=e,Qw(t.priority,function(){Kw(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Zu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=_f(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);pf=r,n.target.dispatchEvent(r),pf=null}else return e=Wl(n),e!==null&&Vp(e),t.blockedOn=n,!1;e.shift()}return!0}function Og(t,e,n){Zu(t)&&n.delete(e)}function O1(){wf=!1,ji!==null&&Zu(ji)&&(ji=null),zi!==null&&Zu(zi)&&(zi=null),$i!==null&&Zu($i)&&($i=null),yl.forEach(Og),vl.forEach(Og)}function Va(t,e){t.blockedOn===e&&(t.blockedOn=null,wf||(wf=!0,Nn.unstable_scheduleCallback(Nn.unstable_NormalPriority,O1)))}function wl(t){function e(i){return Va(i,t)}if(0<Du.length){Va(Du[0],t);for(var n=1;n<Du.length;n++){var r=Du[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ji!==null&&Va(ji,t),zi!==null&&Va(zi,t),$i!==null&&Va($i,t),yl.forEach(e),vl.forEach(e),n=0;n<xi.length;n++)r=xi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<xi.length&&(n=xi[0],n.blockedOn===null);)Yw(n),n.blockedOn===null&&xi.shift()}var Uo=ui.ReactCurrentBatchConfig,Sc=!0;function V1(t,e,n,r){var i=Me,s=Uo.transition;Uo.transition=null;try{Me=1,Mp(t,e,n,r)}finally{Me=i,Uo.transition=s}}function M1(t,e,n,r){var i=Me,s=Uo.transition;Uo.transition=null;try{Me=4,Mp(t,e,n,r)}finally{Me=i,Uo.transition=s}}function Mp(t,e,n,r){if(Sc){var i=_f(t,e,n,r);if(i===null)kh(t,e,r,Cc,n),Lg(t,r);else if(L1(i,t,e,n,r))r.stopPropagation();else if(Lg(t,r),e&4&&-1<N1.indexOf(t)){for(;i!==null;){var s=Wl(i);if(s!==null&&qw(s),s=_f(t,e,n,r),s===null&&kh(t,e,r,Cc,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else kh(t,e,r,null,n)}}var Cc=null;function _f(t,e,n,r){if(Cc=null,t=Np(r),t=bs(t),t!==null)if(e=Xs(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Fw(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Cc=t,null}function Xw(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(S1()){case Lp:return 1;case zw:return 4;case Tc:case C1:return 16;case $w:return 536870912;default:return 16}default:return 16}}var Mi=null,Fp=null,ec=null;function Jw(){if(ec)return ec;var t,e=Fp,n=e.length,r,i="value"in Mi?Mi.value:Mi.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return ec=i.slice(t,1<r?1-r:void 0)}function tc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Nu(){return!0}function Vg(){return!1}function On(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Nu:Vg,this.isPropagationStopped=Vg,this}return nt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Nu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Nu)},persist:function(){},isPersistent:Nu}),e}var ha={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Up=On(ha),Hl=nt({},ha,{view:0,detail:0}),F1=On(Hl),_h,Eh,Ma,md=nt({},Hl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Bp,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ma&&(Ma&&t.type==="mousemove"?(_h=t.screenX-Ma.screenX,Eh=t.screenY-Ma.screenY):Eh=_h=0,Ma=t),_h)},movementY:function(t){return"movementY"in t?t.movementY:Eh}}),Mg=On(md),U1=nt({},md,{dataTransfer:0}),B1=On(U1),j1=nt({},Hl,{relatedTarget:0}),Th=On(j1),z1=nt({},ha,{animationName:0,elapsedTime:0,pseudoElement:0}),$1=On(z1),H1=nt({},ha,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),W1=On(H1),q1=nt({},ha,{data:0}),Fg=On(q1),K1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},G1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Q1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Y1(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Q1[t])?!!e[t]:!1}function Bp(){return Y1}var X1=nt({},Hl,{key:function(t){if(t.key){var e=K1[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=tc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?G1[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Bp,charCode:function(t){return t.type==="keypress"?tc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?tc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),J1=On(X1),Z1=nt({},md,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ug=On(Z1),eS=nt({},Hl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Bp}),tS=On(eS),nS=nt({},ha,{propertyName:0,elapsedTime:0,pseudoElement:0}),rS=On(nS),iS=nt({},md,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),sS=On(iS),oS=[9,13,27,32],jp=Zr&&"CompositionEvent"in window,nl=null;Zr&&"documentMode"in document&&(nl=document.documentMode);var aS=Zr&&"TextEvent"in window&&!nl,Zw=Zr&&(!jp||nl&&8<nl&&11>=nl),Bg=" ",jg=!1;function e_(t,e){switch(t){case"keyup":return oS.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function t_(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var So=!1;function lS(t,e){switch(t){case"compositionend":return t_(e);case"keypress":return e.which!==32?null:(jg=!0,Bg);case"textInput":return t=e.data,t===Bg&&jg?null:t;default:return null}}function uS(t,e){if(So)return t==="compositionend"||!jp&&e_(t,e)?(t=Jw(),ec=Fp=Mi=null,So=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Zw&&e.locale!=="ko"?null:e.data;default:return null}}var cS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!cS[t.type]:e==="textarea"}function n_(t,e,n,r){Nw(r),e=Pc(e,"onChange"),0<e.length&&(n=new Up("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var rl=null,_l=null;function dS(t){f_(t,0)}function gd(t){var e=Ao(t);if(Pw(e))return t}function hS(t,e){if(t==="change")return e}var r_=!1;if(Zr){var Ih;if(Zr){var Sh="oninput"in document;if(!Sh){var $g=document.createElement("div");$g.setAttribute("oninput","return;"),Sh=typeof $g.oninput=="function"}Ih=Sh}else Ih=!1;r_=Ih&&(!document.documentMode||9<document.documentMode)}function Hg(){rl&&(rl.detachEvent("onpropertychange",i_),_l=rl=null)}function i_(t){if(t.propertyName==="value"&&gd(_l)){var e=[];n_(e,_l,t,Np(t)),Mw(dS,e)}}function fS(t,e,n){t==="focusin"?(Hg(),rl=e,_l=n,rl.attachEvent("onpropertychange",i_)):t==="focusout"&&Hg()}function pS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return gd(_l)}function mS(t,e){if(t==="click")return gd(e)}function gS(t,e){if(t==="input"||t==="change")return gd(e)}function yS(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var lr=typeof Object.is=="function"?Object.is:yS;function El(t,e){if(lr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!tf.call(e,i)||!lr(t[i],e[i]))return!1}return!0}function Wg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function qg(t,e){var n=Wg(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Wg(n)}}function s_(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?s_(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function o_(){for(var t=window,e=wc();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=wc(t.document)}return e}function zp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function vS(t){var e=o_(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&s_(n.ownerDocument.documentElement,n)){if(r!==null&&zp(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=qg(n,s);var o=qg(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var wS=Zr&&"documentMode"in document&&11>=document.documentMode,Co=null,Ef=null,il=null,Tf=!1;function Kg(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Tf||Co==null||Co!==wc(r)||(r=Co,"selectionStart"in r&&zp(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),il&&El(il,r)||(il=r,r=Pc(Ef,"onSelect"),0<r.length&&(e=new Up("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Co)))}function Lu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Po={animationend:Lu("Animation","AnimationEnd"),animationiteration:Lu("Animation","AnimationIteration"),animationstart:Lu("Animation","AnimationStart"),transitionend:Lu("Transition","TransitionEnd")},Ch={},a_={};Zr&&(a_=document.createElement("div").style,"AnimationEvent"in window||(delete Po.animationend.animation,delete Po.animationiteration.animation,delete Po.animationstart.animation),"TransitionEvent"in window||delete Po.transitionend.transition);function yd(t){if(Ch[t])return Ch[t];if(!Po[t])return t;var e=Po[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in a_)return Ch[t]=e[n];return t}var l_=yd("animationend"),u_=yd("animationiteration"),c_=yd("animationstart"),d_=yd("transitionend"),h_=new Map,Gg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function os(t,e){h_.set(t,e),Ys(e,[t])}for(var Ph=0;Ph<Gg.length;Ph++){var Ah=Gg[Ph],_S=Ah.toLowerCase(),ES=Ah[0].toUpperCase()+Ah.slice(1);os(_S,"on"+ES)}os(l_,"onAnimationEnd");os(u_,"onAnimationIteration");os(c_,"onAnimationStart");os("dblclick","onDoubleClick");os("focusin","onFocus");os("focusout","onBlur");os(d_,"onTransitionEnd");qo("onMouseEnter",["mouseout","mouseover"]);qo("onMouseLeave",["mouseout","mouseover"]);qo("onPointerEnter",["pointerout","pointerover"]);qo("onPointerLeave",["pointerout","pointerover"]);Ys("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ys("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ys("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ys("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ys("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ys("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ka="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),TS=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ka));function Qg(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,_1(r,e,void 0,t),t.currentTarget=null}function f_(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],u=l.instance,d=l.currentTarget;if(l=l.listener,u!==s&&i.isPropagationStopped())break e;Qg(i,l,d),s=u}else for(o=0;o<r.length;o++){if(l=r[o],u=l.instance,d=l.currentTarget,l=l.listener,u!==s&&i.isPropagationStopped())break e;Qg(i,l,d),s=u}}}if(Ec)throw t=yf,Ec=!1,yf=null,t}function qe(t,e){var n=e[Af];n===void 0&&(n=e[Af]=new Set);var r=t+"__bubble";n.has(r)||(p_(e,t,2,!1),n.add(r))}function Rh(t,e,n){var r=0;e&&(r|=4),p_(n,t,r,e)}var Ou="_reactListening"+Math.random().toString(36).slice(2);function Tl(t){if(!t[Ou]){t[Ou]=!0,Ew.forEach(function(n){n!=="selectionchange"&&(TS.has(n)||Rh(n,!1,t),Rh(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ou]||(e[Ou]=!0,Rh("selectionchange",!1,e))}}function p_(t,e,n,r){switch(Xw(e)){case 1:var i=V1;break;case 4:i=M1;break;default:i=Mp}n=i.bind(null,e,n,t),i=void 0,!gf||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function kh(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;o=o.return}for(;l!==null;){if(o=bs(l),o===null)return;if(u=o.tag,u===5||u===6){r=s=o;continue e}l=l.parentNode}}r=r.return}Mw(function(){var d=s,p=Np(n),y=[];e:{var w=h_.get(t);if(w!==void 0){var S=Up,D=t;switch(t){case"keypress":if(tc(n)===0)break e;case"keydown":case"keyup":S=J1;break;case"focusin":D="focus",S=Th;break;case"focusout":D="blur",S=Th;break;case"beforeblur":case"afterblur":S=Th;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":S=Mg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":S=B1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":S=tS;break;case l_:case u_:case c_:S=$1;break;case d_:S=rS;break;case"scroll":S=F1;break;case"wheel":S=sS;break;case"copy":case"cut":case"paste":S=W1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":S=Ug}var N=(e&4)!==0,F=!N&&t==="scroll",R=N?w!==null?w+"Capture":null:w;N=[];for(var E=d,A;E!==null;){A=E;var M=A.stateNode;if(A.tag===5&&M!==null&&(A=M,R!==null&&(M=gl(E,R),M!=null&&N.push(Il(E,M,A)))),F)break;E=E.return}0<N.length&&(w=new S(w,D,null,n,p),y.push({event:w,listeners:N}))}}if(!(e&7)){e:{if(w=t==="mouseover"||t==="pointerover",S=t==="mouseout"||t==="pointerout",w&&n!==pf&&(D=n.relatedTarget||n.fromElement)&&(bs(D)||D[ei]))break e;if((S||w)&&(w=p.window===p?p:(w=p.ownerDocument)?w.defaultView||w.parentWindow:window,S?(D=n.relatedTarget||n.toElement,S=d,D=D?bs(D):null,D!==null&&(F=Xs(D),D!==F||D.tag!==5&&D.tag!==6)&&(D=null)):(S=null,D=d),S!==D)){if(N=Mg,M="onMouseLeave",R="onMouseEnter",E="mouse",(t==="pointerout"||t==="pointerover")&&(N=Ug,M="onPointerLeave",R="onPointerEnter",E="pointer"),F=S==null?w:Ao(S),A=D==null?w:Ao(D),w=new N(M,E+"leave",S,n,p),w.target=F,w.relatedTarget=A,M=null,bs(p)===d&&(N=new N(R,E+"enter",D,n,p),N.target=A,N.relatedTarget=F,M=N),F=M,S&&D)t:{for(N=S,R=D,E=0,A=N;A;A=go(A))E++;for(A=0,M=R;M;M=go(M))A++;for(;0<E-A;)N=go(N),E--;for(;0<A-E;)R=go(R),A--;for(;E--;){if(N===R||R!==null&&N===R.alternate)break t;N=go(N),R=go(R)}N=null}else N=null;S!==null&&Yg(y,w,S,N,!1),D!==null&&F!==null&&Yg(y,F,D,N,!0)}}e:{if(w=d?Ao(d):window,S=w.nodeName&&w.nodeName.toLowerCase(),S==="select"||S==="input"&&w.type==="file")var H=hS;else if(zg(w))if(r_)H=gS;else{H=pS;var j=fS}else(S=w.nodeName)&&S.toLowerCase()==="input"&&(w.type==="checkbox"||w.type==="radio")&&(H=mS);if(H&&(H=H(t,d))){n_(y,H,n,p);break e}j&&j(t,w,d),t==="focusout"&&(j=w._wrapperState)&&j.controlled&&w.type==="number"&&uf(w,"number",w.value)}switch(j=d?Ao(d):window,t){case"focusin":(zg(j)||j.contentEditable==="true")&&(Co=j,Ef=d,il=null);break;case"focusout":il=Ef=Co=null;break;case"mousedown":Tf=!0;break;case"contextmenu":case"mouseup":case"dragend":Tf=!1,Kg(y,n,p);break;case"selectionchange":if(wS)break;case"keydown":case"keyup":Kg(y,n,p)}var C;if(jp)e:{switch(t){case"compositionstart":var g="onCompositionStart";break e;case"compositionend":g="onCompositionEnd";break e;case"compositionupdate":g="onCompositionUpdate";break e}g=void 0}else So?e_(t,n)&&(g="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(g="onCompositionStart");g&&(Zw&&n.locale!=="ko"&&(So||g!=="onCompositionStart"?g==="onCompositionEnd"&&So&&(C=Jw()):(Mi=p,Fp="value"in Mi?Mi.value:Mi.textContent,So=!0)),j=Pc(d,g),0<j.length&&(g=new Fg(g,t,null,n,p),y.push({event:g,listeners:j}),C?g.data=C:(C=t_(n),C!==null&&(g.data=C)))),(C=aS?lS(t,n):uS(t,n))&&(d=Pc(d,"onBeforeInput"),0<d.length&&(p=new Fg("onBeforeInput","beforeinput",null,n,p),y.push({event:p,listeners:d}),p.data=C))}f_(y,e)})}function Il(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Pc(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=gl(t,n),s!=null&&r.unshift(Il(t,s,i)),s=gl(t,e),s!=null&&r.push(Il(t,s,i))),t=t.return}return r}function go(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Yg(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var l=n,u=l.alternate,d=l.stateNode;if(u!==null&&u===r)break;l.tag===5&&d!==null&&(l=d,i?(u=gl(n,s),u!=null&&o.unshift(Il(n,u,l))):i||(u=gl(n,s),u!=null&&o.push(Il(n,u,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var IS=/\r\n?/g,SS=/\u0000|\uFFFD/g;function Xg(t){return(typeof t=="string"?t:""+t).replace(IS,`
`).replace(SS,"")}function Vu(t,e,n){if(e=Xg(e),Xg(t)!==e&&n)throw Error(G(425))}function Ac(){}var If=null,Sf=null;function Cf(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Pf=typeof setTimeout=="function"?setTimeout:void 0,CS=typeof clearTimeout=="function"?clearTimeout:void 0,Jg=typeof Promise=="function"?Promise:void 0,PS=typeof queueMicrotask=="function"?queueMicrotask:typeof Jg<"u"?function(t){return Jg.resolve(null).then(t).catch(AS)}:Pf;function AS(t){setTimeout(function(){throw t})}function bh(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),wl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);wl(e)}function Hi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Zg(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var fa=Math.random().toString(36).slice(2),Ir="__reactFiber$"+fa,Sl="__reactProps$"+fa,ei="__reactContainer$"+fa,Af="__reactEvents$"+fa,RS="__reactListeners$"+fa,kS="__reactHandles$"+fa;function bs(t){var e=t[Ir];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ei]||n[Ir]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Zg(t);t!==null;){if(n=t[Ir])return n;t=Zg(t)}return e}t=n,n=t.parentNode}return null}function Wl(t){return t=t[Ir]||t[ei],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ao(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(G(33))}function vd(t){return t[Sl]||null}var Rf=[],Ro=-1;function as(t){return{current:t}}function Ke(t){0>Ro||(t.current=Rf[Ro],Rf[Ro]=null,Ro--)}function He(t,e){Ro++,Rf[Ro]=t.current,t.current=e}var es={},Zt=as(es),En=as(!1),Fs=es;function Ko(t,e){var n=t.type.contextTypes;if(!n)return es;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Tn(t){return t=t.childContextTypes,t!=null}function Rc(){Ke(En),Ke(Zt)}function ey(t,e,n){if(Zt.current!==es)throw Error(G(168));He(Zt,e),He(En,n)}function m_(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(G(108,f1(t)||"Unknown",i));return nt({},n,r)}function kc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||es,Fs=Zt.current,He(Zt,t),He(En,En.current),!0}function ty(t,e,n){var r=t.stateNode;if(!r)throw Error(G(169));n?(t=m_(t,e,Fs),r.__reactInternalMemoizedMergedChildContext=t,Ke(En),Ke(Zt),He(Zt,t)):Ke(En),He(En,n)}var Wr=null,wd=!1,xh=!1;function g_(t){Wr===null?Wr=[t]:Wr.push(t)}function bS(t){wd=!0,g_(t)}function ls(){if(!xh&&Wr!==null){xh=!0;var t=0,e=Me;try{var n=Wr;for(Me=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Wr=null,wd=!1}catch(i){throw Wr!==null&&(Wr=Wr.slice(t+1)),jw(Lp,ls),i}finally{Me=e,xh=!1}}return null}var ko=[],bo=0,bc=null,xc=0,Bn=[],jn=0,Us=null,qr=1,Kr="";function Ps(t,e){ko[bo++]=xc,ko[bo++]=bc,bc=t,xc=e}function y_(t,e,n){Bn[jn++]=qr,Bn[jn++]=Kr,Bn[jn++]=Us,Us=t;var r=qr;t=Kr;var i=32-or(r)-1;r&=~(1<<i),n+=1;var s=32-or(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,qr=1<<32-or(e)+i|n<<i|r,Kr=s+t}else qr=1<<s|n<<i|r,Kr=t}function $p(t){t.return!==null&&(Ps(t,1),y_(t,1,0))}function Hp(t){for(;t===bc;)bc=ko[--bo],ko[bo]=null,xc=ko[--bo],ko[bo]=null;for(;t===Us;)Us=Bn[--jn],Bn[jn]=null,Kr=Bn[--jn],Bn[jn]=null,qr=Bn[--jn],Bn[jn]=null}var xn=null,kn=null,Xe=!1,ir=null;function v_(t,e){var n=zn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function ny(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,xn=t,kn=Hi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,xn=t,kn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Us!==null?{id:qr,overflow:Kr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=zn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,xn=t,kn=null,!0):!1;default:return!1}}function kf(t){return(t.mode&1)!==0&&(t.flags&128)===0}function bf(t){if(Xe){var e=kn;if(e){var n=e;if(!ny(t,e)){if(kf(t))throw Error(G(418));e=Hi(n.nextSibling);var r=xn;e&&ny(t,e)?v_(r,n):(t.flags=t.flags&-4097|2,Xe=!1,xn=t)}}else{if(kf(t))throw Error(G(418));t.flags=t.flags&-4097|2,Xe=!1,xn=t}}}function ry(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;xn=t}function Mu(t){if(t!==xn)return!1;if(!Xe)return ry(t),Xe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Cf(t.type,t.memoizedProps)),e&&(e=kn)){if(kf(t))throw w_(),Error(G(418));for(;e;)v_(t,e),e=Hi(e.nextSibling)}if(ry(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(G(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){kn=Hi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}kn=null}}else kn=xn?Hi(t.stateNode.nextSibling):null;return!0}function w_(){for(var t=kn;t;)t=Hi(t.nextSibling)}function Go(){kn=xn=null,Xe=!1}function Wp(t){ir===null?ir=[t]:ir.push(t)}var xS=ui.ReactCurrentBatchConfig;function Fa(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(G(309));var r=n.stateNode}if(!r)throw Error(G(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var l=i.refs;o===null?delete l[s]:l[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(G(284));if(!n._owner)throw Error(G(290,t))}return t}function Fu(t,e){throw t=Object.prototype.toString.call(e),Error(G(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function iy(t){var e=t._init;return e(t._payload)}function __(t){function e(R,E){if(t){var A=R.deletions;A===null?(R.deletions=[E],R.flags|=16):A.push(E)}}function n(R,E){if(!t)return null;for(;E!==null;)e(R,E),E=E.sibling;return null}function r(R,E){for(R=new Map;E!==null;)E.key!==null?R.set(E.key,E):R.set(E.index,E),E=E.sibling;return R}function i(R,E){return R=Gi(R,E),R.index=0,R.sibling=null,R}function s(R,E,A){return R.index=A,t?(A=R.alternate,A!==null?(A=A.index,A<E?(R.flags|=2,E):A):(R.flags|=2,E)):(R.flags|=1048576,E)}function o(R){return t&&R.alternate===null&&(R.flags|=2),R}function l(R,E,A,M){return E===null||E.tag!==6?(E=Fh(A,R.mode,M),E.return=R,E):(E=i(E,A),E.return=R,E)}function u(R,E,A,M){var H=A.type;return H===Io?p(R,E,A.props.children,M,A.key):E!==null&&(E.elementType===H||typeof H=="object"&&H!==null&&H.$$typeof===ki&&iy(H)===E.type)?(M=i(E,A.props),M.ref=Fa(R,E,A),M.return=R,M):(M=lc(A.type,A.key,A.props,null,R.mode,M),M.ref=Fa(R,E,A),M.return=R,M)}function d(R,E,A,M){return E===null||E.tag!==4||E.stateNode.containerInfo!==A.containerInfo||E.stateNode.implementation!==A.implementation?(E=Uh(A,R.mode,M),E.return=R,E):(E=i(E,A.children||[]),E.return=R,E)}function p(R,E,A,M,H){return E===null||E.tag!==7?(E=Vs(A,R.mode,M,H),E.return=R,E):(E=i(E,A),E.return=R,E)}function y(R,E,A){if(typeof E=="string"&&E!==""||typeof E=="number")return E=Fh(""+E,R.mode,A),E.return=R,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Au:return A=lc(E.type,E.key,E.props,null,R.mode,A),A.ref=Fa(R,null,E),A.return=R,A;case To:return E=Uh(E,R.mode,A),E.return=R,E;case ki:var M=E._init;return y(R,M(E._payload),A)}if(Wa(E)||Na(E))return E=Vs(E,R.mode,A,null),E.return=R,E;Fu(R,E)}return null}function w(R,E,A,M){var H=E!==null?E.key:null;if(typeof A=="string"&&A!==""||typeof A=="number")return H!==null?null:l(R,E,""+A,M);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case Au:return A.key===H?u(R,E,A,M):null;case To:return A.key===H?d(R,E,A,M):null;case ki:return H=A._init,w(R,E,H(A._payload),M)}if(Wa(A)||Na(A))return H!==null?null:p(R,E,A,M,null);Fu(R,A)}return null}function S(R,E,A,M,H){if(typeof M=="string"&&M!==""||typeof M=="number")return R=R.get(A)||null,l(E,R,""+M,H);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case Au:return R=R.get(M.key===null?A:M.key)||null,u(E,R,M,H);case To:return R=R.get(M.key===null?A:M.key)||null,d(E,R,M,H);case ki:var j=M._init;return S(R,E,A,j(M._payload),H)}if(Wa(M)||Na(M))return R=R.get(A)||null,p(E,R,M,H,null);Fu(E,M)}return null}function D(R,E,A,M){for(var H=null,j=null,C=E,g=E=0,T=null;C!==null&&g<A.length;g++){C.index>g?(T=C,C=null):T=C.sibling;var I=w(R,C,A[g],M);if(I===null){C===null&&(C=T);break}t&&C&&I.alternate===null&&e(R,C),E=s(I,E,g),j===null?H=I:j.sibling=I,j=I,C=T}if(g===A.length)return n(R,C),Xe&&Ps(R,g),H;if(C===null){for(;g<A.length;g++)C=y(R,A[g],M),C!==null&&(E=s(C,E,g),j===null?H=C:j.sibling=C,j=C);return Xe&&Ps(R,g),H}for(C=r(R,C);g<A.length;g++)T=S(C,R,g,A[g],M),T!==null&&(t&&T.alternate!==null&&C.delete(T.key===null?g:T.key),E=s(T,E,g),j===null?H=T:j.sibling=T,j=T);return t&&C.forEach(function(b){return e(R,b)}),Xe&&Ps(R,g),H}function N(R,E,A,M){var H=Na(A);if(typeof H!="function")throw Error(G(150));if(A=H.call(A),A==null)throw Error(G(151));for(var j=H=null,C=E,g=E=0,T=null,I=A.next();C!==null&&!I.done;g++,I=A.next()){C.index>g?(T=C,C=null):T=C.sibling;var b=w(R,C,I.value,M);if(b===null){C===null&&(C=T);break}t&&C&&b.alternate===null&&e(R,C),E=s(b,E,g),j===null?H=b:j.sibling=b,j=b,C=T}if(I.done)return n(R,C),Xe&&Ps(R,g),H;if(C===null){for(;!I.done;g++,I=A.next())I=y(R,I.value,M),I!==null&&(E=s(I,E,g),j===null?H=I:j.sibling=I,j=I);return Xe&&Ps(R,g),H}for(C=r(R,C);!I.done;g++,I=A.next())I=S(C,R,g,I.value,M),I!==null&&(t&&I.alternate!==null&&C.delete(I.key===null?g:I.key),E=s(I,E,g),j===null?H=I:j.sibling=I,j=I);return t&&C.forEach(function(O){return e(R,O)}),Xe&&Ps(R,g),H}function F(R,E,A,M){if(typeof A=="object"&&A!==null&&A.type===Io&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case Au:e:{for(var H=A.key,j=E;j!==null;){if(j.key===H){if(H=A.type,H===Io){if(j.tag===7){n(R,j.sibling),E=i(j,A.props.children),E.return=R,R=E;break e}}else if(j.elementType===H||typeof H=="object"&&H!==null&&H.$$typeof===ki&&iy(H)===j.type){n(R,j.sibling),E=i(j,A.props),E.ref=Fa(R,j,A),E.return=R,R=E;break e}n(R,j);break}else e(R,j);j=j.sibling}A.type===Io?(E=Vs(A.props.children,R.mode,M,A.key),E.return=R,R=E):(M=lc(A.type,A.key,A.props,null,R.mode,M),M.ref=Fa(R,E,A),M.return=R,R=M)}return o(R);case To:e:{for(j=A.key;E!==null;){if(E.key===j)if(E.tag===4&&E.stateNode.containerInfo===A.containerInfo&&E.stateNode.implementation===A.implementation){n(R,E.sibling),E=i(E,A.children||[]),E.return=R,R=E;break e}else{n(R,E);break}else e(R,E);E=E.sibling}E=Uh(A,R.mode,M),E.return=R,R=E}return o(R);case ki:return j=A._init,F(R,E,j(A._payload),M)}if(Wa(A))return D(R,E,A,M);if(Na(A))return N(R,E,A,M);Fu(R,A)}return typeof A=="string"&&A!==""||typeof A=="number"?(A=""+A,E!==null&&E.tag===6?(n(R,E.sibling),E=i(E,A),E.return=R,R=E):(n(R,E),E=Fh(A,R.mode,M),E.return=R,R=E),o(R)):n(R,E)}return F}var Qo=__(!0),E_=__(!1),Dc=as(null),Nc=null,xo=null,qp=null;function Kp(){qp=xo=Nc=null}function Gp(t){var e=Dc.current;Ke(Dc),t._currentValue=e}function xf(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Bo(t,e){Nc=t,qp=xo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(_n=!0),t.firstContext=null)}function Hn(t){var e=t._currentValue;if(qp!==t)if(t={context:t,memoizedValue:e,next:null},xo===null){if(Nc===null)throw Error(G(308));xo=t,Nc.dependencies={lanes:0,firstContext:t}}else xo=xo.next=t;return e}var xs=null;function Qp(t){xs===null?xs=[t]:xs.push(t)}function T_(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Qp(e)):(n.next=i.next,i.next=n),e.interleaved=n,ti(t,r)}function ti(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var bi=!1;function Yp(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function I_(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Xr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Wi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ne&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,ti(t,n)}return i=r.interleaved,i===null?(e.next=e,Qp(r)):(e.next=i.next,i.next=e),r.interleaved=e,ti(t,n)}function nc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Op(t,n)}}function sy(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Lc(t,e,n,r){var i=t.updateQueue;bi=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var u=l,d=u.next;u.next=null,o===null?s=d:o.next=d,o=u;var p=t.alternate;p!==null&&(p=p.updateQueue,l=p.lastBaseUpdate,l!==o&&(l===null?p.firstBaseUpdate=d:l.next=d,p.lastBaseUpdate=u))}if(s!==null){var y=i.baseState;o=0,p=d=u=null,l=s;do{var w=l.lane,S=l.eventTime;if((r&w)===w){p!==null&&(p=p.next={eventTime:S,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var D=t,N=l;switch(w=e,S=n,N.tag){case 1:if(D=N.payload,typeof D=="function"){y=D.call(S,y,w);break e}y=D;break e;case 3:D.flags=D.flags&-65537|128;case 0:if(D=N.payload,w=typeof D=="function"?D.call(S,y,w):D,w==null)break e;y=nt({},y,w);break e;case 2:bi=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,w=i.effects,w===null?i.effects=[l]:w.push(l))}else S={eventTime:S,lane:w,tag:l.tag,payload:l.payload,callback:l.callback,next:null},p===null?(d=p=S,u=y):p=p.next=S,o|=w;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;w=l,l=w.next,w.next=null,i.lastBaseUpdate=w,i.shared.pending=null}}while(!0);if(p===null&&(u=y),i.baseState=u,i.firstBaseUpdate=d,i.lastBaseUpdate=p,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);js|=o,t.lanes=o,t.memoizedState=y}}function oy(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(G(191,i));i.call(r)}}}var ql={},Cr=as(ql),Cl=as(ql),Pl=as(ql);function Ds(t){if(t===ql)throw Error(G(174));return t}function Xp(t,e){switch(He(Pl,e),He(Cl,t),He(Cr,ql),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:df(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=df(e,t)}Ke(Cr),He(Cr,e)}function Yo(){Ke(Cr),Ke(Cl),Ke(Pl)}function S_(t){Ds(Pl.current);var e=Ds(Cr.current),n=df(e,t.type);e!==n&&(He(Cl,t),He(Cr,n))}function Jp(t){Cl.current===t&&(Ke(Cr),Ke(Cl))}var et=as(0);function Oc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Dh=[];function Zp(){for(var t=0;t<Dh.length;t++)Dh[t]._workInProgressVersionPrimary=null;Dh.length=0}var rc=ui.ReactCurrentDispatcher,Nh=ui.ReactCurrentBatchConfig,Bs=0,tt=null,At=null,Mt=null,Vc=!1,sl=!1,Al=0,DS=0;function Kt(){throw Error(G(321))}function em(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!lr(t[n],e[n]))return!1;return!0}function tm(t,e,n,r,i,s){if(Bs=s,tt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,rc.current=t===null||t.memoizedState===null?VS:MS,t=n(r,i),sl){s=0;do{if(sl=!1,Al=0,25<=s)throw Error(G(301));s+=1,Mt=At=null,e.updateQueue=null,rc.current=FS,t=n(r,i)}while(sl)}if(rc.current=Mc,e=At!==null&&At.next!==null,Bs=0,Mt=At=tt=null,Vc=!1,e)throw Error(G(300));return t}function nm(){var t=Al!==0;return Al=0,t}function Tr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Mt===null?tt.memoizedState=Mt=t:Mt=Mt.next=t,Mt}function Wn(){if(At===null){var t=tt.alternate;t=t!==null?t.memoizedState:null}else t=At.next;var e=Mt===null?tt.memoizedState:Mt.next;if(e!==null)Mt=e,At=t;else{if(t===null)throw Error(G(310));At=t,t={memoizedState:At.memoizedState,baseState:At.baseState,baseQueue:At.baseQueue,queue:At.queue,next:null},Mt===null?tt.memoizedState=Mt=t:Mt=Mt.next=t}return Mt}function Rl(t,e){return typeof e=="function"?e(t):e}function Lh(t){var e=Wn(),n=e.queue;if(n===null)throw Error(G(311));n.lastRenderedReducer=t;var r=At,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=o=null,u=null,d=s;do{var p=d.lane;if((Bs&p)===p)u!==null&&(u=u.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:t(r,d.action);else{var y={lane:p,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};u===null?(l=u=y,o=r):u=u.next=y,tt.lanes|=p,js|=p}d=d.next}while(d!==null&&d!==s);u===null?o=r:u.next=l,lr(r,e.memoizedState)||(_n=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,tt.lanes|=s,js|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Oh(t){var e=Wn(),n=e.queue;if(n===null)throw Error(G(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);lr(s,e.memoizedState)||(_n=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function C_(){}function P_(t,e){var n=tt,r=Wn(),i=e(),s=!lr(r.memoizedState,i);if(s&&(r.memoizedState=i,_n=!0),r=r.queue,rm(k_.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Mt!==null&&Mt.memoizedState.tag&1){if(n.flags|=2048,kl(9,R_.bind(null,n,r,i,e),void 0,null),Ft===null)throw Error(G(349));Bs&30||A_(n,e,i)}return i}function A_(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=tt.updateQueue,e===null?(e={lastEffect:null,stores:null},tt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function R_(t,e,n,r){e.value=n,e.getSnapshot=r,b_(e)&&x_(t)}function k_(t,e,n){return n(function(){b_(e)&&x_(t)})}function b_(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!lr(t,n)}catch{return!0}}function x_(t){var e=ti(t,1);e!==null&&ar(e,t,1,-1)}function ay(t){var e=Tr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Rl,lastRenderedState:t},e.queue=t,t=t.dispatch=OS.bind(null,tt,t),[e.memoizedState,t]}function kl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=tt.updateQueue,e===null?(e={lastEffect:null,stores:null},tt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function D_(){return Wn().memoizedState}function ic(t,e,n,r){var i=Tr();tt.flags|=t,i.memoizedState=kl(1|e,n,void 0,r===void 0?null:r)}function _d(t,e,n,r){var i=Wn();r=r===void 0?null:r;var s=void 0;if(At!==null){var o=At.memoizedState;if(s=o.destroy,r!==null&&em(r,o.deps)){i.memoizedState=kl(e,n,s,r);return}}tt.flags|=t,i.memoizedState=kl(1|e,n,s,r)}function ly(t,e){return ic(8390656,8,t,e)}function rm(t,e){return _d(2048,8,t,e)}function N_(t,e){return _d(4,2,t,e)}function L_(t,e){return _d(4,4,t,e)}function O_(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function V_(t,e,n){return n=n!=null?n.concat([t]):null,_d(4,4,O_.bind(null,e,t),n)}function im(){}function M_(t,e){var n=Wn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&em(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function F_(t,e){var n=Wn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&em(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function U_(t,e,n){return Bs&21?(lr(n,e)||(n=Hw(),tt.lanes|=n,js|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,_n=!0),t.memoizedState=n)}function NS(t,e){var n=Me;Me=n!==0&&4>n?n:4,t(!0);var r=Nh.transition;Nh.transition={};try{t(!1),e()}finally{Me=n,Nh.transition=r}}function B_(){return Wn().memoizedState}function LS(t,e,n){var r=Ki(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},j_(t))z_(e,n);else if(n=T_(t,e,n,r),n!==null){var i=ln();ar(n,t,r,i),$_(n,e,r)}}function OS(t,e,n){var r=Ki(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(j_(t))z_(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,l=s(o,n);if(i.hasEagerState=!0,i.eagerState=l,lr(l,o)){var u=e.interleaved;u===null?(i.next=i,Qp(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}n=T_(t,e,i,r),n!==null&&(i=ln(),ar(n,t,r,i),$_(n,e,r))}}function j_(t){var e=t.alternate;return t===tt||e!==null&&e===tt}function z_(t,e){sl=Vc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function $_(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Op(t,n)}}var Mc={readContext:Hn,useCallback:Kt,useContext:Kt,useEffect:Kt,useImperativeHandle:Kt,useInsertionEffect:Kt,useLayoutEffect:Kt,useMemo:Kt,useReducer:Kt,useRef:Kt,useState:Kt,useDebugValue:Kt,useDeferredValue:Kt,useTransition:Kt,useMutableSource:Kt,useSyncExternalStore:Kt,useId:Kt,unstable_isNewReconciler:!1},VS={readContext:Hn,useCallback:function(t,e){return Tr().memoizedState=[t,e===void 0?null:e],t},useContext:Hn,useEffect:ly,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,ic(4194308,4,O_.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ic(4194308,4,t,e)},useInsertionEffect:function(t,e){return ic(4,2,t,e)},useMemo:function(t,e){var n=Tr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Tr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=LS.bind(null,tt,t),[r.memoizedState,t]},useRef:function(t){var e=Tr();return t={current:t},e.memoizedState=t},useState:ay,useDebugValue:im,useDeferredValue:function(t){return Tr().memoizedState=t},useTransition:function(){var t=ay(!1),e=t[0];return t=NS.bind(null,t[1]),Tr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=tt,i=Tr();if(Xe){if(n===void 0)throw Error(G(407));n=n()}else{if(n=e(),Ft===null)throw Error(G(349));Bs&30||A_(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,ly(k_.bind(null,r,s,t),[t]),r.flags|=2048,kl(9,R_.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Tr(),e=Ft.identifierPrefix;if(Xe){var n=Kr,r=qr;n=(r&~(1<<32-or(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Al++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=DS++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},MS={readContext:Hn,useCallback:M_,useContext:Hn,useEffect:rm,useImperativeHandle:V_,useInsertionEffect:N_,useLayoutEffect:L_,useMemo:F_,useReducer:Lh,useRef:D_,useState:function(){return Lh(Rl)},useDebugValue:im,useDeferredValue:function(t){var e=Wn();return U_(e,At.memoizedState,t)},useTransition:function(){var t=Lh(Rl)[0],e=Wn().memoizedState;return[t,e]},useMutableSource:C_,useSyncExternalStore:P_,useId:B_,unstable_isNewReconciler:!1},FS={readContext:Hn,useCallback:M_,useContext:Hn,useEffect:rm,useImperativeHandle:V_,useInsertionEffect:N_,useLayoutEffect:L_,useMemo:F_,useReducer:Oh,useRef:D_,useState:function(){return Oh(Rl)},useDebugValue:im,useDeferredValue:function(t){var e=Wn();return At===null?e.memoizedState=t:U_(e,At.memoizedState,t)},useTransition:function(){var t=Oh(Rl)[0],e=Wn().memoizedState;return[t,e]},useMutableSource:C_,useSyncExternalStore:P_,useId:B_,unstable_isNewReconciler:!1};function tr(t,e){if(t&&t.defaultProps){e=nt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Df(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:nt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Ed={isMounted:function(t){return(t=t._reactInternals)?Xs(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=ln(),i=Ki(t),s=Xr(r,i);s.payload=e,n!=null&&(s.callback=n),e=Wi(t,s,i),e!==null&&(ar(e,t,i,r),nc(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=ln(),i=Ki(t),s=Xr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Wi(t,s,i),e!==null&&(ar(e,t,i,r),nc(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ln(),r=Ki(t),i=Xr(n,r);i.tag=2,e!=null&&(i.callback=e),e=Wi(t,i,r),e!==null&&(ar(e,t,r,n),nc(e,t,r))}};function uy(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!El(n,r)||!El(i,s):!0}function H_(t,e,n){var r=!1,i=es,s=e.contextType;return typeof s=="object"&&s!==null?s=Hn(s):(i=Tn(e)?Fs:Zt.current,r=e.contextTypes,s=(r=r!=null)?Ko(t,i):es),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ed,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function cy(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Ed.enqueueReplaceState(e,e.state,null)}function Nf(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Yp(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Hn(s):(s=Tn(e)?Fs:Zt.current,i.context=Ko(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Df(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Ed.enqueueReplaceState(i,i.state,null),Lc(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Xo(t,e){try{var n="",r=e;do n+=h1(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Vh(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Lf(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var US=typeof WeakMap=="function"?WeakMap:Map;function W_(t,e,n){n=Xr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Uc||(Uc=!0,Hf=r),Lf(t,e)},n}function q_(t,e,n){n=Xr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Lf(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Lf(t,e),typeof r!="function"&&(qi===null?qi=new Set([this]):qi.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function dy(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new US;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=ZS.bind(null,t,e,n),e.then(t,t))}function hy(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function fy(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Xr(-1,1),e.tag=2,Wi(n,e,1))),n.lanes|=1),t)}var BS=ui.ReactCurrentOwner,_n=!1;function an(t,e,n,r){e.child=t===null?E_(e,null,n,r):Qo(e,t.child,n,r)}function py(t,e,n,r,i){n=n.render;var s=e.ref;return Bo(e,i),r=tm(t,e,n,r,s,i),n=nm(),t!==null&&!_n?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ni(t,e,i)):(Xe&&n&&$p(e),e.flags|=1,an(t,e,r,i),e.child)}function my(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!hm(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,K_(t,e,s,r,i)):(t=lc(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:El,n(o,r)&&t.ref===e.ref)return ni(t,e,i)}return e.flags|=1,t=Gi(s,r),t.ref=e.ref,t.return=e,e.child=t}function K_(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(El(s,r)&&t.ref===e.ref)if(_n=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(_n=!0);else return e.lanes=t.lanes,ni(t,e,i)}return Of(t,e,n,r,i)}function G_(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},He(No,An),An|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,He(No,An),An|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,He(No,An),An|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,He(No,An),An|=r;return an(t,e,i,n),e.child}function Q_(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Of(t,e,n,r,i){var s=Tn(n)?Fs:Zt.current;return s=Ko(e,s),Bo(e,i),n=tm(t,e,n,r,s,i),r=nm(),t!==null&&!_n?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ni(t,e,i)):(Xe&&r&&$p(e),e.flags|=1,an(t,e,n,i),e.child)}function gy(t,e,n,r,i){if(Tn(n)){var s=!0;kc(e)}else s=!1;if(Bo(e,i),e.stateNode===null)sc(t,e),H_(e,n,r),Nf(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var u=o.context,d=n.contextType;typeof d=="object"&&d!==null?d=Hn(d):(d=Tn(n)?Fs:Zt.current,d=Ko(e,d));var p=n.getDerivedStateFromProps,y=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function";y||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||u!==d)&&cy(e,o,r,d),bi=!1;var w=e.memoizedState;o.state=w,Lc(e,r,o,i),u=e.memoizedState,l!==r||w!==u||En.current||bi?(typeof p=="function"&&(Df(e,n,p,r),u=e.memoizedState),(l=bi||uy(e,n,l,r,w,u,d))?(y||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),o.props=r,o.state=u,o.context=d,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,I_(t,e),l=e.memoizedProps,d=e.type===e.elementType?l:tr(e.type,l),o.props=d,y=e.pendingProps,w=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=Hn(u):(u=Tn(n)?Fs:Zt.current,u=Ko(e,u));var S=n.getDerivedStateFromProps;(p=typeof S=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==y||w!==u)&&cy(e,o,r,u),bi=!1,w=e.memoizedState,o.state=w,Lc(e,r,o,i);var D=e.memoizedState;l!==y||w!==D||En.current||bi?(typeof S=="function"&&(Df(e,n,S,r),D=e.memoizedState),(d=bi||uy(e,n,d,r,w,D,u)||!1)?(p||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,D,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,D,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&w===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&w===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=D),o.props=r,o.state=D,o.context=u,r=d):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&w===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&w===t.memoizedState||(e.flags|=1024),r=!1)}return Vf(t,e,n,r,s,i)}function Vf(t,e,n,r,i,s){Q_(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&ty(e,n,!1),ni(t,e,s);r=e.stateNode,BS.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Qo(e,t.child,null,s),e.child=Qo(e,null,l,s)):an(t,e,l,s),e.memoizedState=r.state,i&&ty(e,n,!0),e.child}function Y_(t){var e=t.stateNode;e.pendingContext?ey(t,e.pendingContext,e.pendingContext!==e.context):e.context&&ey(t,e.context,!1),Xp(t,e.containerInfo)}function yy(t,e,n,r,i){return Go(),Wp(i),e.flags|=256,an(t,e,n,r),e.child}var Mf={dehydrated:null,treeContext:null,retryLane:0};function Ff(t){return{baseLanes:t,cachePool:null,transitions:null}}function X_(t,e,n){var r=e.pendingProps,i=et.current,s=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),He(et,i&1),t===null)return bf(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Sd(o,r,0,null),t=Vs(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Ff(n),e.memoizedState=Mf,t):sm(e,o));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return jS(t,e,o,r,l,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,l=i.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=Gi(i,u),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=Gi(l,s):(s=Vs(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Ff(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Mf,r}return s=t.child,t=s.sibling,r=Gi(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function sm(t,e){return e=Sd({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Uu(t,e,n,r){return r!==null&&Wp(r),Qo(e,t.child,null,n),t=sm(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function jS(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Vh(Error(G(422))),Uu(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Sd({mode:"visible",children:r.children},i,0,null),s=Vs(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Qo(e,t.child,null,o),e.child.memoizedState=Ff(o),e.memoizedState=Mf,s);if(!(e.mode&1))return Uu(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(G(419)),r=Vh(s,r,void 0),Uu(t,e,o,r)}if(l=(o&t.childLanes)!==0,_n||l){if(r=Ft,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,ti(t,i),ar(r,t,i,-1))}return dm(),r=Vh(Error(G(421))),Uu(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=eC.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,kn=Hi(i.nextSibling),xn=e,Xe=!0,ir=null,t!==null&&(Bn[jn++]=qr,Bn[jn++]=Kr,Bn[jn++]=Us,qr=t.id,Kr=t.overflow,Us=e),e=sm(e,r.children),e.flags|=4096,e)}function vy(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),xf(t.return,e,n)}function Mh(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function J_(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(an(t,e,r.children,n),r=et.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&vy(t,n,e);else if(t.tag===19)vy(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(He(et,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Oc(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Mh(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Oc(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Mh(e,!0,n,null,s);break;case"together":Mh(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function sc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ni(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),js|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(G(153));if(e.child!==null){for(t=e.child,n=Gi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Gi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function zS(t,e,n){switch(e.tag){case 3:Y_(e),Go();break;case 5:S_(e);break;case 1:Tn(e.type)&&kc(e);break;case 4:Xp(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;He(Dc,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(He(et,et.current&1),e.flags|=128,null):n&e.child.childLanes?X_(t,e,n):(He(et,et.current&1),t=ni(t,e,n),t!==null?t.sibling:null);He(et,et.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return J_(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),He(et,et.current),r)break;return null;case 22:case 23:return e.lanes=0,G_(t,e,n)}return ni(t,e,n)}var Z_,Uf,e0,t0;Z_=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Uf=function(){};e0=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Ds(Cr.current);var s=null;switch(n){case"input":i=af(t,i),r=af(t,r),s=[];break;case"select":i=nt({},i,{value:void 0}),r=nt({},r,{value:void 0}),s=[];break;case"textarea":i=cf(t,i),r=cf(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Ac)}hf(n,r);var o;n=null;for(d in i)if(!r.hasOwnProperty(d)&&i.hasOwnProperty(d)&&i[d]!=null)if(d==="style"){var l=i[d];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(pl.hasOwnProperty(d)?s||(s=[]):(s=s||[]).push(d,null));for(d in r){var u=r[d];if(l=i!=null?i[d]:void 0,r.hasOwnProperty(d)&&u!==l&&(u!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&l[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(s||(s=[]),s.push(d,n)),n=u;else d==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(s=s||[]).push(d,u)):d==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(d,""+u):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(pl.hasOwnProperty(d)?(u!=null&&d==="onScroll"&&qe("scroll",t),s||l===u||(s=[])):(s=s||[]).push(d,u))}n&&(s=s||[]).push("style",n);var d=s;(e.updateQueue=d)&&(e.flags|=4)}};t0=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ua(t,e){if(!Xe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Gt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function $S(t,e,n){var r=e.pendingProps;switch(Hp(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gt(e),null;case 1:return Tn(e.type)&&Rc(),Gt(e),null;case 3:return r=e.stateNode,Yo(),Ke(En),Ke(Zt),Zp(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Mu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ir!==null&&(Kf(ir),ir=null))),Uf(t,e),Gt(e),null;case 5:Jp(e);var i=Ds(Pl.current);if(n=e.type,t!==null&&e.stateNode!=null)e0(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(G(166));return Gt(e),null}if(t=Ds(Cr.current),Mu(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Ir]=e,r[Sl]=s,t=(e.mode&1)!==0,n){case"dialog":qe("cancel",r),qe("close",r);break;case"iframe":case"object":case"embed":qe("load",r);break;case"video":case"audio":for(i=0;i<Ka.length;i++)qe(Ka[i],r);break;case"source":qe("error",r);break;case"img":case"image":case"link":qe("error",r),qe("load",r);break;case"details":qe("toggle",r);break;case"input":Ag(r,s),qe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},qe("invalid",r);break;case"textarea":kg(r,s),qe("invalid",r)}hf(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&Vu(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&Vu(r.textContent,l,t),i=["children",""+l]):pl.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&qe("scroll",r)}switch(n){case"input":Ru(r),Rg(r,s,!0);break;case"textarea":Ru(r),bg(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Ac)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=kw(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Ir]=e,t[Sl]=r,Z_(t,e,!1,!1),e.stateNode=t;e:{switch(o=ff(n,r),n){case"dialog":qe("cancel",t),qe("close",t),i=r;break;case"iframe":case"object":case"embed":qe("load",t),i=r;break;case"video":case"audio":for(i=0;i<Ka.length;i++)qe(Ka[i],t);i=r;break;case"source":qe("error",t),i=r;break;case"img":case"image":case"link":qe("error",t),qe("load",t),i=r;break;case"details":qe("toggle",t),i=r;break;case"input":Ag(t,r),i=af(t,r),qe("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=nt({},r,{value:void 0}),qe("invalid",t);break;case"textarea":kg(t,r),i=cf(t,r),qe("invalid",t);break;default:i=r}hf(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var u=l[s];s==="style"?Dw(t,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&bw(t,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&ml(t,u):typeof u=="number"&&ml(t,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(pl.hasOwnProperty(s)?u!=null&&s==="onScroll"&&qe("scroll",t):u!=null&&kp(t,s,u,o))}switch(n){case"input":Ru(t),Rg(t,r,!1);break;case"textarea":Ru(t),bg(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Zi(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Vo(t,!!r.multiple,s,!1):r.defaultValue!=null&&Vo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Ac)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Gt(e),null;case 6:if(t&&e.stateNode!=null)t0(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(G(166));if(n=Ds(Pl.current),Ds(Cr.current),Mu(e)){if(r=e.stateNode,n=e.memoizedProps,r[Ir]=e,(s=r.nodeValue!==n)&&(t=xn,t!==null))switch(t.tag){case 3:Vu(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Vu(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ir]=e,e.stateNode=r}return Gt(e),null;case 13:if(Ke(et),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Xe&&kn!==null&&e.mode&1&&!(e.flags&128))w_(),Go(),e.flags|=98560,s=!1;else if(s=Mu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(G(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(G(317));s[Ir]=e}else Go(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Gt(e),s=!1}else ir!==null&&(Kf(ir),ir=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||et.current&1?kt===0&&(kt=3):dm())),e.updateQueue!==null&&(e.flags|=4),Gt(e),null);case 4:return Yo(),Uf(t,e),t===null&&Tl(e.stateNode.containerInfo),Gt(e),null;case 10:return Gp(e.type._context),Gt(e),null;case 17:return Tn(e.type)&&Rc(),Gt(e),null;case 19:if(Ke(et),s=e.memoizedState,s===null)return Gt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Ua(s,!1);else{if(kt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Oc(t),o!==null){for(e.flags|=128,Ua(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return He(et,et.current&1|2),e.child}t=t.sibling}s.tail!==null&&pt()>Jo&&(e.flags|=128,r=!0,Ua(s,!1),e.lanes=4194304)}else{if(!r)if(t=Oc(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ua(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Xe)return Gt(e),null}else 2*pt()-s.renderingStartTime>Jo&&n!==1073741824&&(e.flags|=128,r=!0,Ua(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=pt(),e.sibling=null,n=et.current,He(et,r?n&1|2:n&1),e):(Gt(e),null);case 22:case 23:return cm(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?An&1073741824&&(Gt(e),e.subtreeFlags&6&&(e.flags|=8192)):Gt(e),null;case 24:return null;case 25:return null}throw Error(G(156,e.tag))}function HS(t,e){switch(Hp(e),e.tag){case 1:return Tn(e.type)&&Rc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Yo(),Ke(En),Ke(Zt),Zp(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Jp(e),null;case 13:if(Ke(et),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(G(340));Go()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ke(et),null;case 4:return Yo(),null;case 10:return Gp(e.type._context),null;case 22:case 23:return cm(),null;case 24:return null;default:return null}}var Bu=!1,Xt=!1,WS=typeof WeakSet=="function"?WeakSet:Set,ne=null;function Do(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){lt(t,e,r)}else n.current=null}function Bf(t,e,n){try{n()}catch(r){lt(t,e,r)}}var wy=!1;function qS(t,e){if(If=Sc,t=o_(),zp(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,l=-1,u=-1,d=0,p=0,y=t,w=null;t:for(;;){for(var S;y!==n||i!==0&&y.nodeType!==3||(l=o+i),y!==s||r!==0&&y.nodeType!==3||(u=o+r),y.nodeType===3&&(o+=y.nodeValue.length),(S=y.firstChild)!==null;)w=y,y=S;for(;;){if(y===t)break t;if(w===n&&++d===i&&(l=o),w===s&&++p===r&&(u=o),(S=y.nextSibling)!==null)break;y=w,w=y.parentNode}y=S}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Sf={focusedElem:t,selectionRange:n},Sc=!1,ne=e;ne!==null;)if(e=ne,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ne=t;else for(;ne!==null;){e=ne;try{var D=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(D!==null){var N=D.memoizedProps,F=D.memoizedState,R=e.stateNode,E=R.getSnapshotBeforeUpdate(e.elementType===e.type?N:tr(e.type,N),F);R.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var A=e.stateNode.containerInfo;A.nodeType===1?A.textContent="":A.nodeType===9&&A.documentElement&&A.removeChild(A.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(G(163))}}catch(M){lt(e,e.return,M)}if(t=e.sibling,t!==null){t.return=e.return,ne=t;break}ne=e.return}return D=wy,wy=!1,D}function ol(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Bf(e,n,s)}i=i.next}while(i!==r)}}function Td(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function jf(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function n0(t){var e=t.alternate;e!==null&&(t.alternate=null,n0(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ir],delete e[Sl],delete e[Af],delete e[RS],delete e[kS])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function r0(t){return t.tag===5||t.tag===3||t.tag===4}function _y(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||r0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function zf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ac));else if(r!==4&&(t=t.child,t!==null))for(zf(t,e,n),t=t.sibling;t!==null;)zf(t,e,n),t=t.sibling}function $f(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for($f(t,e,n),t=t.sibling;t!==null;)$f(t,e,n),t=t.sibling}var Bt=null,nr=!1;function Pi(t,e,n){for(n=n.child;n!==null;)i0(t,e,n),n=n.sibling}function i0(t,e,n){if(Sr&&typeof Sr.onCommitFiberUnmount=="function")try{Sr.onCommitFiberUnmount(pd,n)}catch{}switch(n.tag){case 5:Xt||Do(n,e);case 6:var r=Bt,i=nr;Bt=null,Pi(t,e,n),Bt=r,nr=i,Bt!==null&&(nr?(t=Bt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Bt.removeChild(n.stateNode));break;case 18:Bt!==null&&(nr?(t=Bt,n=n.stateNode,t.nodeType===8?bh(t.parentNode,n):t.nodeType===1&&bh(t,n),wl(t)):bh(Bt,n.stateNode));break;case 4:r=Bt,i=nr,Bt=n.stateNode.containerInfo,nr=!0,Pi(t,e,n),Bt=r,nr=i;break;case 0:case 11:case 14:case 15:if(!Xt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Bf(n,e,o),i=i.next}while(i!==r)}Pi(t,e,n);break;case 1:if(!Xt&&(Do(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){lt(n,e,l)}Pi(t,e,n);break;case 21:Pi(t,e,n);break;case 22:n.mode&1?(Xt=(r=Xt)||n.memoizedState!==null,Pi(t,e,n),Xt=r):Pi(t,e,n);break;default:Pi(t,e,n)}}function Ey(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new WS),e.forEach(function(r){var i=tC.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function er(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:Bt=l.stateNode,nr=!1;break e;case 3:Bt=l.stateNode.containerInfo,nr=!0;break e;case 4:Bt=l.stateNode.containerInfo,nr=!0;break e}l=l.return}if(Bt===null)throw Error(G(160));i0(s,o,i),Bt=null,nr=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(d){lt(i,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)s0(e,t),e=e.sibling}function s0(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(er(e,t),Er(t),r&4){try{ol(3,t,t.return),Td(3,t)}catch(N){lt(t,t.return,N)}try{ol(5,t,t.return)}catch(N){lt(t,t.return,N)}}break;case 1:er(e,t),Er(t),r&512&&n!==null&&Do(n,n.return);break;case 5:if(er(e,t),Er(t),r&512&&n!==null&&Do(n,n.return),t.flags&32){var i=t.stateNode;try{ml(i,"")}catch(N){lt(t,t.return,N)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,l=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&Aw(i,s),ff(l,o);var d=ff(l,s);for(o=0;o<u.length;o+=2){var p=u[o],y=u[o+1];p==="style"?Dw(i,y):p==="dangerouslySetInnerHTML"?bw(i,y):p==="children"?ml(i,y):kp(i,p,y,d)}switch(l){case"input":lf(i,s);break;case"textarea":Rw(i,s);break;case"select":var w=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var S=s.value;S!=null?Vo(i,!!s.multiple,S,!1):w!==!!s.multiple&&(s.defaultValue!=null?Vo(i,!!s.multiple,s.defaultValue,!0):Vo(i,!!s.multiple,s.multiple?[]:"",!1))}i[Sl]=s}catch(N){lt(t,t.return,N)}}break;case 6:if(er(e,t),Er(t),r&4){if(t.stateNode===null)throw Error(G(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(N){lt(t,t.return,N)}}break;case 3:if(er(e,t),Er(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{wl(e.containerInfo)}catch(N){lt(t,t.return,N)}break;case 4:er(e,t),Er(t);break;case 13:er(e,t),Er(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(lm=pt())),r&4&&Ey(t);break;case 22:if(p=n!==null&&n.memoizedState!==null,t.mode&1?(Xt=(d=Xt)||p,er(e,t),Xt=d):er(e,t),Er(t),r&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!p&&t.mode&1)for(ne=t,p=t.child;p!==null;){for(y=ne=p;ne!==null;){switch(w=ne,S=w.child,w.tag){case 0:case 11:case 14:case 15:ol(4,w,w.return);break;case 1:Do(w,w.return);var D=w.stateNode;if(typeof D.componentWillUnmount=="function"){r=w,n=w.return;try{e=r,D.props=e.memoizedProps,D.state=e.memoizedState,D.componentWillUnmount()}catch(N){lt(r,n,N)}}break;case 5:Do(w,w.return);break;case 22:if(w.memoizedState!==null){Iy(y);continue}}S!==null?(S.return=w,ne=S):Iy(y)}p=p.sibling}e:for(p=null,y=t;;){if(y.tag===5){if(p===null){p=y;try{i=y.stateNode,d?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=y.stateNode,u=y.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=xw("display",o))}catch(N){lt(t,t.return,N)}}}else if(y.tag===6){if(p===null)try{y.stateNode.nodeValue=d?"":y.memoizedProps}catch(N){lt(t,t.return,N)}}else if((y.tag!==22&&y.tag!==23||y.memoizedState===null||y===t)&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===t)break e;for(;y.sibling===null;){if(y.return===null||y.return===t)break e;p===y&&(p=null),y=y.return}p===y&&(p=null),y.sibling.return=y.return,y=y.sibling}}break;case 19:er(e,t),Er(t),r&4&&Ey(t);break;case 21:break;default:er(e,t),Er(t)}}function Er(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(r0(n)){var r=n;break e}n=n.return}throw Error(G(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ml(i,""),r.flags&=-33);var s=_y(t);$f(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=_y(t);zf(t,l,o);break;default:throw Error(G(161))}}catch(u){lt(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function KS(t,e,n){ne=t,o0(t)}function o0(t,e,n){for(var r=(t.mode&1)!==0;ne!==null;){var i=ne,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Bu;if(!o){var l=i.alternate,u=l!==null&&l.memoizedState!==null||Xt;l=Bu;var d=Xt;if(Bu=o,(Xt=u)&&!d)for(ne=i;ne!==null;)o=ne,u=o.child,o.tag===22&&o.memoizedState!==null?Sy(i):u!==null?(u.return=o,ne=u):Sy(i);for(;s!==null;)ne=s,o0(s),s=s.sibling;ne=i,Bu=l,Xt=d}Ty(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ne=s):Ty(t)}}function Ty(t){for(;ne!==null;){var e=ne;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Xt||Td(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Xt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:tr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&oy(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}oy(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var p=d.memoizedState;if(p!==null){var y=p.dehydrated;y!==null&&wl(y)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(G(163))}Xt||e.flags&512&&jf(e)}catch(w){lt(e,e.return,w)}}if(e===t){ne=null;break}if(n=e.sibling,n!==null){n.return=e.return,ne=n;break}ne=e.return}}function Iy(t){for(;ne!==null;){var e=ne;if(e===t){ne=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ne=n;break}ne=e.return}}function Sy(t){for(;ne!==null;){var e=ne;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Td(4,e)}catch(u){lt(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){lt(e,i,u)}}var s=e.return;try{jf(e)}catch(u){lt(e,s,u)}break;case 5:var o=e.return;try{jf(e)}catch(u){lt(e,o,u)}}}catch(u){lt(e,e.return,u)}if(e===t){ne=null;break}var l=e.sibling;if(l!==null){l.return=e.return,ne=l;break}ne=e.return}}var GS=Math.ceil,Fc=ui.ReactCurrentDispatcher,om=ui.ReactCurrentOwner,$n=ui.ReactCurrentBatchConfig,Ne=0,Ft=null,wt=null,$t=0,An=0,No=as(0),kt=0,bl=null,js=0,Id=0,am=0,al=null,vn=null,lm=0,Jo=1/0,Hr=null,Uc=!1,Hf=null,qi=null,ju=!1,Fi=null,Bc=0,ll=0,Wf=null,oc=-1,ac=0;function ln(){return Ne&6?pt():oc!==-1?oc:oc=pt()}function Ki(t){return t.mode&1?Ne&2&&$t!==0?$t&-$t:xS.transition!==null?(ac===0&&(ac=Hw()),ac):(t=Me,t!==0||(t=window.event,t=t===void 0?16:Xw(t.type)),t):1}function ar(t,e,n,r){if(50<ll)throw ll=0,Wf=null,Error(G(185));$l(t,n,r),(!(Ne&2)||t!==Ft)&&(t===Ft&&(!(Ne&2)&&(Id|=n),kt===4&&Di(t,$t)),In(t,r),n===1&&Ne===0&&!(e.mode&1)&&(Jo=pt()+500,wd&&ls()))}function In(t,e){var n=t.callbackNode;x1(t,e);var r=Ic(t,t===Ft?$t:0);if(r===0)n!==null&&Ng(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Ng(n),e===1)t.tag===0?bS(Cy.bind(null,t)):g_(Cy.bind(null,t)),PS(function(){!(Ne&6)&&ls()}),n=null;else{switch(Ww(r)){case 1:n=Lp;break;case 4:n=zw;break;case 16:n=Tc;break;case 536870912:n=$w;break;default:n=Tc}n=p0(n,a0.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function a0(t,e){if(oc=-1,ac=0,Ne&6)throw Error(G(327));var n=t.callbackNode;if(jo()&&t.callbackNode!==n)return null;var r=Ic(t,t===Ft?$t:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=jc(t,r);else{e=r;var i=Ne;Ne|=2;var s=u0();(Ft!==t||$t!==e)&&(Hr=null,Jo=pt()+500,Os(t,e));do try{XS();break}catch(l){l0(t,l)}while(!0);Kp(),Fc.current=s,Ne=i,wt!==null?e=0:(Ft=null,$t=0,e=kt)}if(e!==0){if(e===2&&(i=vf(t),i!==0&&(r=i,e=qf(t,i))),e===1)throw n=bl,Os(t,0),Di(t,r),In(t,pt()),n;if(e===6)Di(t,r);else{if(i=t.current.alternate,!(r&30)&&!QS(i)&&(e=jc(t,r),e===2&&(s=vf(t),s!==0&&(r=s,e=qf(t,s))),e===1))throw n=bl,Os(t,0),Di(t,r),In(t,pt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(G(345));case 2:As(t,vn,Hr);break;case 3:if(Di(t,r),(r&130023424)===r&&(e=lm+500-pt(),10<e)){if(Ic(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){ln(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Pf(As.bind(null,t,vn,Hr),e);break}As(t,vn,Hr);break;case 4:if(Di(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-or(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=pt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*GS(r/1960))-r,10<r){t.timeoutHandle=Pf(As.bind(null,t,vn,Hr),r);break}As(t,vn,Hr);break;case 5:As(t,vn,Hr);break;default:throw Error(G(329))}}}return In(t,pt()),t.callbackNode===n?a0.bind(null,t):null}function qf(t,e){var n=al;return t.current.memoizedState.isDehydrated&&(Os(t,e).flags|=256),t=jc(t,e),t!==2&&(e=vn,vn=n,e!==null&&Kf(e)),t}function Kf(t){vn===null?vn=t:vn.push.apply(vn,t)}function QS(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!lr(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Di(t,e){for(e&=~am,e&=~Id,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-or(e),r=1<<n;t[n]=-1,e&=~r}}function Cy(t){if(Ne&6)throw Error(G(327));jo();var e=Ic(t,0);if(!(e&1))return In(t,pt()),null;var n=jc(t,e);if(t.tag!==0&&n===2){var r=vf(t);r!==0&&(e=r,n=qf(t,r))}if(n===1)throw n=bl,Os(t,0),Di(t,e),In(t,pt()),n;if(n===6)throw Error(G(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,As(t,vn,Hr),In(t,pt()),null}function um(t,e){var n=Ne;Ne|=1;try{return t(e)}finally{Ne=n,Ne===0&&(Jo=pt()+500,wd&&ls())}}function zs(t){Fi!==null&&Fi.tag===0&&!(Ne&6)&&jo();var e=Ne;Ne|=1;var n=$n.transition,r=Me;try{if($n.transition=null,Me=1,t)return t()}finally{Me=r,$n.transition=n,Ne=e,!(Ne&6)&&ls()}}function cm(){An=No.current,Ke(No)}function Os(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,CS(n)),wt!==null)for(n=wt.return;n!==null;){var r=n;switch(Hp(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Rc();break;case 3:Yo(),Ke(En),Ke(Zt),Zp();break;case 5:Jp(r);break;case 4:Yo();break;case 13:Ke(et);break;case 19:Ke(et);break;case 10:Gp(r.type._context);break;case 22:case 23:cm()}n=n.return}if(Ft=t,wt=t=Gi(t.current,null),$t=An=e,kt=0,bl=null,am=Id=js=0,vn=al=null,xs!==null){for(e=0;e<xs.length;e++)if(n=xs[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}xs=null}return t}function l0(t,e){do{var n=wt;try{if(Kp(),rc.current=Mc,Vc){for(var r=tt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Vc=!1}if(Bs=0,Mt=At=tt=null,sl=!1,Al=0,om.current=null,n===null||n.return===null){kt=1,bl=e,wt=null;break}e:{var s=t,o=n.return,l=n,u=e;if(e=$t,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var d=u,p=l,y=p.tag;if(!(p.mode&1)&&(y===0||y===11||y===15)){var w=p.alternate;w?(p.updateQueue=w.updateQueue,p.memoizedState=w.memoizedState,p.lanes=w.lanes):(p.updateQueue=null,p.memoizedState=null)}var S=hy(o);if(S!==null){S.flags&=-257,fy(S,o,l,s,e),S.mode&1&&dy(s,d,e),e=S,u=d;var D=e.updateQueue;if(D===null){var N=new Set;N.add(u),e.updateQueue=N}else D.add(u);break e}else{if(!(e&1)){dy(s,d,e),dm();break e}u=Error(G(426))}}else if(Xe&&l.mode&1){var F=hy(o);if(F!==null){!(F.flags&65536)&&(F.flags|=256),fy(F,o,l,s,e),Wp(Xo(u,l));break e}}s=u=Xo(u,l),kt!==4&&(kt=2),al===null?al=[s]:al.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var R=W_(s,u,e);sy(s,R);break e;case 1:l=u;var E=s.type,A=s.stateNode;if(!(s.flags&128)&&(typeof E.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(qi===null||!qi.has(A)))){s.flags|=65536,e&=-e,s.lanes|=e;var M=q_(s,l,e);sy(s,M);break e}}s=s.return}while(s!==null)}d0(n)}catch(H){e=H,wt===n&&n!==null&&(wt=n=n.return);continue}break}while(!0)}function u0(){var t=Fc.current;return Fc.current=Mc,t===null?Mc:t}function dm(){(kt===0||kt===3||kt===2)&&(kt=4),Ft===null||!(js&268435455)&&!(Id&268435455)||Di(Ft,$t)}function jc(t,e){var n=Ne;Ne|=2;var r=u0();(Ft!==t||$t!==e)&&(Hr=null,Os(t,e));do try{YS();break}catch(i){l0(t,i)}while(!0);if(Kp(),Ne=n,Fc.current=r,wt!==null)throw Error(G(261));return Ft=null,$t=0,kt}function YS(){for(;wt!==null;)c0(wt)}function XS(){for(;wt!==null&&!T1();)c0(wt)}function c0(t){var e=f0(t.alternate,t,An);t.memoizedProps=t.pendingProps,e===null?d0(t):wt=e,om.current=null}function d0(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=HS(n,e),n!==null){n.flags&=32767,wt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{kt=6,wt=null;return}}else if(n=$S(n,e,An),n!==null){wt=n;return}if(e=e.sibling,e!==null){wt=e;return}wt=e=t}while(e!==null);kt===0&&(kt=5)}function As(t,e,n){var r=Me,i=$n.transition;try{$n.transition=null,Me=1,JS(t,e,n,r)}finally{$n.transition=i,Me=r}return null}function JS(t,e,n,r){do jo();while(Fi!==null);if(Ne&6)throw Error(G(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(G(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(D1(t,s),t===Ft&&(wt=Ft=null,$t=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ju||(ju=!0,p0(Tc,function(){return jo(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=$n.transition,$n.transition=null;var o=Me;Me=1;var l=Ne;Ne|=4,om.current=null,qS(t,n),s0(n,t),vS(Sf),Sc=!!If,Sf=If=null,t.current=n,KS(n),I1(),Ne=l,Me=o,$n.transition=s}else t.current=n;if(ju&&(ju=!1,Fi=t,Bc=i),s=t.pendingLanes,s===0&&(qi=null),P1(n.stateNode),In(t,pt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Uc)throw Uc=!1,t=Hf,Hf=null,t;return Bc&1&&t.tag!==0&&jo(),s=t.pendingLanes,s&1?t===Wf?ll++:(ll=0,Wf=t):ll=0,ls(),null}function jo(){if(Fi!==null){var t=Ww(Bc),e=$n.transition,n=Me;try{if($n.transition=null,Me=16>t?16:t,Fi===null)var r=!1;else{if(t=Fi,Fi=null,Bc=0,Ne&6)throw Error(G(331));var i=Ne;for(Ne|=4,ne=t.current;ne!==null;){var s=ne,o=s.child;if(ne.flags&16){var l=s.deletions;if(l!==null){for(var u=0;u<l.length;u++){var d=l[u];for(ne=d;ne!==null;){var p=ne;switch(p.tag){case 0:case 11:case 15:ol(8,p,s)}var y=p.child;if(y!==null)y.return=p,ne=y;else for(;ne!==null;){p=ne;var w=p.sibling,S=p.return;if(n0(p),p===d){ne=null;break}if(w!==null){w.return=S,ne=w;break}ne=S}}}var D=s.alternate;if(D!==null){var N=D.child;if(N!==null){D.child=null;do{var F=N.sibling;N.sibling=null,N=F}while(N!==null)}}ne=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,ne=o;else e:for(;ne!==null;){if(s=ne,s.flags&2048)switch(s.tag){case 0:case 11:case 15:ol(9,s,s.return)}var R=s.sibling;if(R!==null){R.return=s.return,ne=R;break e}ne=s.return}}var E=t.current;for(ne=E;ne!==null;){o=ne;var A=o.child;if(o.subtreeFlags&2064&&A!==null)A.return=o,ne=A;else e:for(o=E;ne!==null;){if(l=ne,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Td(9,l)}}catch(H){lt(l,l.return,H)}if(l===o){ne=null;break e}var M=l.sibling;if(M!==null){M.return=l.return,ne=M;break e}ne=l.return}}if(Ne=i,ls(),Sr&&typeof Sr.onPostCommitFiberRoot=="function")try{Sr.onPostCommitFiberRoot(pd,t)}catch{}r=!0}return r}finally{Me=n,$n.transition=e}}return!1}function Py(t,e,n){e=Xo(n,e),e=W_(t,e,1),t=Wi(t,e,1),e=ln(),t!==null&&($l(t,1,e),In(t,e))}function lt(t,e,n){if(t.tag===3)Py(t,t,n);else for(;e!==null;){if(e.tag===3){Py(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(qi===null||!qi.has(r))){t=Xo(n,t),t=q_(e,t,1),e=Wi(e,t,1),t=ln(),e!==null&&($l(e,1,t),In(e,t));break}}e=e.return}}function ZS(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=ln(),t.pingedLanes|=t.suspendedLanes&n,Ft===t&&($t&n)===n&&(kt===4||kt===3&&($t&130023424)===$t&&500>pt()-lm?Os(t,0):am|=n),In(t,e)}function h0(t,e){e===0&&(t.mode&1?(e=xu,xu<<=1,!(xu&130023424)&&(xu=4194304)):e=1);var n=ln();t=ti(t,e),t!==null&&($l(t,e,n),In(t,n))}function eC(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),h0(t,n)}function tC(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(G(314))}r!==null&&r.delete(e),h0(t,n)}var f0;f0=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||En.current)_n=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return _n=!1,zS(t,e,n);_n=!!(t.flags&131072)}else _n=!1,Xe&&e.flags&1048576&&y_(e,xc,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;sc(t,e),t=e.pendingProps;var i=Ko(e,Zt.current);Bo(e,n),i=tm(null,e,r,t,i,n);var s=nm();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Tn(r)?(s=!0,kc(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Yp(e),i.updater=Ed,e.stateNode=i,i._reactInternals=e,Nf(e,r,t,n),e=Vf(null,e,r,!0,s,n)):(e.tag=0,Xe&&s&&$p(e),an(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(sc(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=rC(r),t=tr(r,t),i){case 0:e=Of(null,e,r,t,n);break e;case 1:e=gy(null,e,r,t,n);break e;case 11:e=py(null,e,r,t,n);break e;case 14:e=my(null,e,r,tr(r.type,t),n);break e}throw Error(G(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:tr(r,i),Of(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:tr(r,i),gy(t,e,r,i,n);case 3:e:{if(Y_(e),t===null)throw Error(G(387));r=e.pendingProps,s=e.memoizedState,i=s.element,I_(t,e),Lc(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Xo(Error(G(423)),e),e=yy(t,e,r,n,i);break e}else if(r!==i){i=Xo(Error(G(424)),e),e=yy(t,e,r,n,i);break e}else for(kn=Hi(e.stateNode.containerInfo.firstChild),xn=e,Xe=!0,ir=null,n=E_(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Go(),r===i){e=ni(t,e,n);break e}an(t,e,r,n)}e=e.child}return e;case 5:return S_(e),t===null&&bf(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Cf(r,i)?o=null:s!==null&&Cf(r,s)&&(e.flags|=32),Q_(t,e),an(t,e,o,n),e.child;case 6:return t===null&&bf(e),null;case 13:return X_(t,e,n);case 4:return Xp(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Qo(e,null,r,n):an(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:tr(r,i),py(t,e,r,i,n);case 7:return an(t,e,e.pendingProps,n),e.child;case 8:return an(t,e,e.pendingProps.children,n),e.child;case 12:return an(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,He(Dc,r._currentValue),r._currentValue=o,s!==null)if(lr(s.value,o)){if(s.children===i.children&&!En.current){e=ni(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var u=l.firstContext;u!==null;){if(u.context===r){if(s.tag===1){u=Xr(-1,n&-n),u.tag=2;var d=s.updateQueue;if(d!==null){d=d.shared;var p=d.pending;p===null?u.next=u:(u.next=p.next,p.next=u),d.pending=u}}s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),xf(s.return,n,e),l.lanes|=n;break}u=u.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(G(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),xf(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}an(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Bo(e,n),i=Hn(i),r=r(i),e.flags|=1,an(t,e,r,n),e.child;case 14:return r=e.type,i=tr(r,e.pendingProps),i=tr(r.type,i),my(t,e,r,i,n);case 15:return K_(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:tr(r,i),sc(t,e),e.tag=1,Tn(r)?(t=!0,kc(e)):t=!1,Bo(e,n),H_(e,r,i),Nf(e,r,i,n),Vf(null,e,r,!0,t,n);case 19:return J_(t,e,n);case 22:return G_(t,e,n)}throw Error(G(156,e.tag))};function p0(t,e){return jw(t,e)}function nC(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zn(t,e,n,r){return new nC(t,e,n,r)}function hm(t){return t=t.prototype,!(!t||!t.isReactComponent)}function rC(t){if(typeof t=="function")return hm(t)?1:0;if(t!=null){if(t=t.$$typeof,t===xp)return 11;if(t===Dp)return 14}return 2}function Gi(t,e){var n=t.alternate;return n===null?(n=zn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function lc(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")hm(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Io:return Vs(n.children,i,s,e);case bp:o=8,i|=8;break;case nf:return t=zn(12,n,e,i|2),t.elementType=nf,t.lanes=s,t;case rf:return t=zn(13,n,e,i),t.elementType=rf,t.lanes=s,t;case sf:return t=zn(19,n,e,i),t.elementType=sf,t.lanes=s,t;case Sw:return Sd(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Tw:o=10;break e;case Iw:o=9;break e;case xp:o=11;break e;case Dp:o=14;break e;case ki:o=16,r=null;break e}throw Error(G(130,t==null?t:typeof t,""))}return e=zn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Vs(t,e,n,r){return t=zn(7,t,r,e),t.lanes=n,t}function Sd(t,e,n,r){return t=zn(22,t,r,e),t.elementType=Sw,t.lanes=n,t.stateNode={isHidden:!1},t}function Fh(t,e,n){return t=zn(6,t,null,e),t.lanes=n,t}function Uh(t,e,n){return e=zn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function iC(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=wh(0),this.expirationTimes=wh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wh(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function fm(t,e,n,r,i,s,o,l,u){return t=new iC(t,e,n,l,u),e===1?(e=1,s===!0&&(e|=8)):e=0,s=zn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Yp(s),t}function sC(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:To,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function m0(t){if(!t)return es;t=t._reactInternals;e:{if(Xs(t)!==t||t.tag!==1)throw Error(G(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Tn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(G(171))}if(t.tag===1){var n=t.type;if(Tn(n))return m_(t,n,e)}return e}function g0(t,e,n,r,i,s,o,l,u){return t=fm(n,r,!0,t,i,s,o,l,u),t.context=m0(null),n=t.current,r=ln(),i=Ki(n),s=Xr(r,i),s.callback=e??null,Wi(n,s,i),t.current.lanes=i,$l(t,i,r),In(t,r),t}function Cd(t,e,n,r){var i=e.current,s=ln(),o=Ki(i);return n=m0(n),e.context===null?e.context=n:e.pendingContext=n,e=Xr(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Wi(i,e,o),t!==null&&(ar(t,i,o,s),nc(t,i,o)),o}function zc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Ay(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function pm(t,e){Ay(t,e),(t=t.alternate)&&Ay(t,e)}function oC(){return null}var y0=typeof reportError=="function"?reportError:function(t){console.error(t)};function mm(t){this._internalRoot=t}Pd.prototype.render=mm.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(G(409));Cd(t,e,null,null)};Pd.prototype.unmount=mm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;zs(function(){Cd(null,t,null,null)}),e[ei]=null}};function Pd(t){this._internalRoot=t}Pd.prototype.unstable_scheduleHydration=function(t){if(t){var e=Gw();t={blockedOn:null,target:t,priority:e};for(var n=0;n<xi.length&&e!==0&&e<xi[n].priority;n++);xi.splice(n,0,t),n===0&&Yw(t)}};function gm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ad(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Ry(){}function aC(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var d=zc(o);s.call(d)}}var o=g0(e,r,t,0,null,!1,!1,"",Ry);return t._reactRootContainer=o,t[ei]=o.current,Tl(t.nodeType===8?t.parentNode:t),zs(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var d=zc(u);l.call(d)}}var u=fm(t,0,!1,null,null,!1,!1,"",Ry);return t._reactRootContainer=u,t[ei]=u.current,Tl(t.nodeType===8?t.parentNode:t),zs(function(){Cd(e,u,n,r)}),u}function Rd(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var l=i;i=function(){var u=zc(o);l.call(u)}}Cd(e,o,t,i)}else o=aC(n,e,t,i,r);return zc(o)}qw=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=qa(e.pendingLanes);n!==0&&(Op(e,n|1),In(e,pt()),!(Ne&6)&&(Jo=pt()+500,ls()))}break;case 13:zs(function(){var r=ti(t,1);if(r!==null){var i=ln();ar(r,t,1,i)}}),pm(t,1)}};Vp=function(t){if(t.tag===13){var e=ti(t,134217728);if(e!==null){var n=ln();ar(e,t,134217728,n)}pm(t,134217728)}};Kw=function(t){if(t.tag===13){var e=Ki(t),n=ti(t,e);if(n!==null){var r=ln();ar(n,t,e,r)}pm(t,e)}};Gw=function(){return Me};Qw=function(t,e){var n=Me;try{return Me=t,e()}finally{Me=n}};mf=function(t,e,n){switch(e){case"input":if(lf(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=vd(r);if(!i)throw Error(G(90));Pw(r),lf(r,i)}}}break;case"textarea":Rw(t,n);break;case"select":e=n.value,e!=null&&Vo(t,!!n.multiple,e,!1)}};Ow=um;Vw=zs;var lC={usingClientEntryPoint:!1,Events:[Wl,Ao,vd,Nw,Lw,um]},Ba={findFiberByHostInstance:bs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},uC={bundleType:Ba.bundleType,version:Ba.version,rendererPackageName:Ba.rendererPackageName,rendererConfig:Ba.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ui.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Uw(t),t===null?null:t.stateNode},findFiberByHostInstance:Ba.findFiberByHostInstance||oC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zu.isDisabled&&zu.supportsFiber)try{pd=zu.inject(uC),Sr=zu}catch{}}Ln.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lC;Ln.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!gm(e))throw Error(G(200));return sC(t,e,null,n)};Ln.createRoot=function(t,e){if(!gm(t))throw Error(G(299));var n=!1,r="",i=y0;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=fm(t,1,!1,null,null,n,!1,r,i),t[ei]=e.current,Tl(t.nodeType===8?t.parentNode:t),new mm(e)};Ln.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(G(188)):(t=Object.keys(t).join(","),Error(G(268,t)));return t=Uw(e),t=t===null?null:t.stateNode,t};Ln.flushSync=function(t){return zs(t)};Ln.hydrate=function(t,e,n){if(!Ad(e))throw Error(G(200));return Rd(null,t,e,!0,n)};Ln.hydrateRoot=function(t,e,n){if(!gm(t))throw Error(G(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=y0;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=g0(e,null,t,1,n??null,i,!1,s,o),t[ei]=e.current,Tl(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Pd(e)};Ln.render=function(t,e,n){if(!Ad(e))throw Error(G(200));return Rd(null,t,e,!1,n)};Ln.unmountComponentAtNode=function(t){if(!Ad(t))throw Error(G(40));return t._reactRootContainer?(zs(function(){Rd(null,null,t,!1,function(){t._reactRootContainer=null,t[ei]=null})}),!0):!1};Ln.unstable_batchedUpdates=um;Ln.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Ad(n))throw Error(G(200));if(t==null||t._reactInternals===void 0)throw Error(G(38));return Rd(t,e,n,!1,r)};Ln.version="18.3.1-next-f1338f8080-20240426";function v0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(v0)}catch(t){console.error(t)}}v0(),vw.exports=Ln;var ym=vw.exports;const cC=Ep(ym),dC=ow({__proto__:null,default:cC},[ym]);var ky=ym;ef.createRoot=ky.createRoot,ef.hydrateRoot=ky.hydrateRoot;/**
 * @remix-run/router v1.19.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ze(){return Ze=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ze.apply(this,arguments)}var vt;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(vt||(vt={}));const by="popstate";function hC(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:l}=r.location;return xl("",{pathname:s,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:$s(i)}return pC(e,n,null,t)}function Te(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Zo(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function fC(){return Math.random().toString(36).substr(2,8)}function xy(t,e){return{usr:t.state,key:t.key,idx:e}}function xl(t,e,n,r){return n===void 0&&(n=null),Ze({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?us(e):e,{state:n,key:e&&e.key||r||fC()})}function $s(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function us(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function pC(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,l=vt.Pop,u=null,d=p();d==null&&(d=0,o.replaceState(Ze({},o.state,{idx:d}),""));function p(){return(o.state||{idx:null}).idx}function y(){l=vt.Pop;let F=p(),R=F==null?null:F-d;d=F,u&&u({action:l,location:N.location,delta:R})}function w(F,R){l=vt.Push;let E=xl(N.location,F,R);d=p()+1;let A=xy(E,d),M=N.createHref(E);try{o.pushState(A,"",M)}catch(H){if(H instanceof DOMException&&H.name==="DataCloneError")throw H;i.location.assign(M)}s&&u&&u({action:l,location:N.location,delta:1})}function S(F,R){l=vt.Replace;let E=xl(N.location,F,R);d=p();let A=xy(E,d),M=N.createHref(E);o.replaceState(A,"",M),s&&u&&u({action:l,location:N.location,delta:0})}function D(F){let R=i.location.origin!=="null"?i.location.origin:i.location.href,E=typeof F=="string"?F:$s(F);return E=E.replace(/ $/,"%20"),Te(R,"No window.location.(origin|href) available to create URL for href: "+E),new URL(E,R)}let N={get action(){return l},get location(){return t(i,o)},listen(F){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(by,y),u=F,()=>{i.removeEventListener(by,y),u=null}},createHref(F){return e(i,F)},createURL:D,encodeLocation(F){let R=D(F);return{pathname:R.pathname,search:R.search,hash:R.hash}},push:w,replace:S,go(F){return o.go(F)}};return N}var Be;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Be||(Be={}));const mC=new Set(["lazy","caseSensitive","path","id","index","children"]);function gC(t){return t.index===!0}function Dl(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((i,s)=>{let o=[...n,String(s)],l=typeof i.id=="string"?i.id:o.join("-");if(Te(i.index!==!0||!i.children,"Cannot specify children on an index route"),Te(!r[l],'Found a route id collision on id "'+l+`".  Route id's must be globally unique within Data Router usages`),gC(i)){let u=Ze({},i,e(i),{id:l});return r[l]=u,u}else{let u=Ze({},i,e(i),{id:l,children:void 0});return r[l]=u,i.children&&(u.children=Dl(i.children,e,o,r)),u}})}function ks(t,e,n){return n===void 0&&(n="/"),uc(t,e,n,!1)}function uc(t,e,n,r){let i=typeof e=="string"?us(e):e,s=ri(i.pathname||"/",n);if(s==null)return null;let o=w0(t);vC(o);let l=null;for(let u=0;l==null&&u<o.length;++u){let d=kC(s);l=AC(o[u],d,r)}return l}function yC(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function w0(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,l)=>{let u={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};u.relativePath.startsWith("/")&&(Te(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let d=Jr([r,u.relativePath]),p=n.concat(u);s.children&&s.children.length>0&&(Te(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),w0(s.children,e,p,d)),!(s.path==null&&!s.index)&&e.push({path:d,score:CC(d,s.index),routesMeta:p})};return t.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,o);else for(let u of _0(s.path))i(s,o,u)}),e}function _0(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=_0(r.join("/")),l=[];return l.push(...o.map(u=>u===""?s:[s,u].join("/"))),i&&l.push(...o),l.map(u=>t.startsWith("/")&&u===""?"/":u)}function vC(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:PC(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const wC=/^:[\w-]+$/,_C=3,EC=2,TC=1,IC=10,SC=-2,Dy=t=>t==="*";function CC(t,e){let n=t.split("/"),r=n.length;return n.some(Dy)&&(r+=SC),e&&(r+=EC),n.filter(i=>!Dy(i)).reduce((i,s)=>i+(wC.test(s)?_C:s===""?TC:IC),r)}function PC(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function AC(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,i={},s="/",o=[];for(let l=0;l<r.length;++l){let u=r[l],d=l===r.length-1,p=s==="/"?e:e.slice(s.length)||"/",y=$c({path:u.relativePath,caseSensitive:u.caseSensitive,end:d},p),w=u.route;if(!y&&d&&n&&!r[r.length-1].route.index&&(y=$c({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},p)),!y)return null;Object.assign(i,y.params),o.push({params:i,pathname:Jr([s,y.pathname]),pathnameBase:DC(Jr([s,y.pathnameBase])),route:w}),y.pathnameBase!=="/"&&(s=Jr([s,y.pathnameBase]))}return o}function $c(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=RC(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((d,p,y)=>{let{paramName:w,isOptional:S}=p;if(w==="*"){let N=l[y]||"";o=s.slice(0,s.length-N.length).replace(/(.)\/+$/,"$1")}const D=l[y];return S&&!D?d[w]=void 0:d[w]=(D||"").replace(/%2F/g,"/"),d},{}),pathname:s,pathnameBase:o,pattern:t}}function RC(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Zo(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,u)=>(r.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function kC(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Zo(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function ri(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function bC(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?us(t):t;return{pathname:n?n.startsWith("/")?n:xC(n,e):e,search:NC(r),hash:LC(i)}}function xC(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Bh(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function E0(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function kd(t,e){let n=E0(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function bd(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=us(t):(i=Ze({},t),Te(!i.pathname||!i.pathname.includes("?"),Bh("?","pathname","search",i)),Te(!i.pathname||!i.pathname.includes("#"),Bh("#","pathname","hash",i)),Te(!i.search||!i.search.includes("#"),Bh("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,l;if(o==null)l=n;else{let y=e.length-1;if(!r&&o.startsWith("..")){let w=o.split("/");for(;w[0]==="..";)w.shift(),y-=1;i.pathname=w.join("/")}l=y>=0?e[y]:"/"}let u=bC(i,l),d=o&&o!=="/"&&o.endsWith("/"),p=(s||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(d||p)&&(u.pathname+="/"),u}const Jr=t=>t.join("/").replace(/\/\/+/g,"/"),DC=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),NC=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,LC=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class Hc{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function xd(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const T0=["post","put","patch","delete"],OC=new Set(T0),VC=["get",...T0],MC=new Set(VC),FC=new Set([301,302,303,307,308]),UC=new Set([307,308]),jh={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},BC={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},ja={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},vm=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,jC=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),I0="remix-router-transitions";function zC(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;Te(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let x=t.detectErrorBoundary;i=L=>({hasErrorBoundary:x(L)})}else i=jC;let s={},o=Dl(t.routes,i,void 0,s),l,u=t.basename||"/",d=t.unstable_dataStrategy||GC,p=t.unstable_patchRoutesOnNavigation,y=Ze({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},t.future),w=null,S=new Set,D=1e3,N=new Set,F=null,R=null,E=null,A=t.hydrationData!=null,M=ks(o,t.history.location,u),H=null;if(M==null&&!p){let x=on(404,{pathname:t.history.location.pathname}),{matches:L,route:U}=jy(o);M=L,H={[U.id]:x}}M&&!t.hydrationData&&ot(M,o,t.history.location.pathname).active&&(M=null);let j;if(M)if(M.some(x=>x.route.lazy))j=!1;else if(!M.some(x=>x.route.loader))j=!0;else if(y.v7_partialHydration){let x=t.hydrationData?t.hydrationData.loaderData:null,L=t.hydrationData?t.hydrationData.errors:null,U=q=>q.route.loader?typeof q.route.loader=="function"&&q.route.loader.hydrate===!0?!1:x&&x[q.route.id]!==void 0||L&&L[q.route.id]!==void 0:!0;if(L){let q=M.findIndex(J=>L[J.route.id]!==void 0);j=M.slice(0,q+1).every(U)}else j=M.every(U)}else j=t.hydrationData!=null;else if(j=!1,M=[],y.v7_partialHydration){let x=ot(null,o,t.history.location.pathname);x.active&&x.matches&&(M=x.matches)}let C,g={historyAction:t.history.action,location:t.history.location,matches:M,initialized:j,navigation:jh,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||H,fetchers:new Map,blockers:new Map},T=vt.Pop,I=!1,b,O=!1,k=new Map,ve=null,We=!1,tn=!1,ct=[],Y=new Set,Z=new Map,de=0,be=-1,Ie=new Map,De=new Set,mt=new Map,Et=new Map,Ge=new Set,Tt=new Map,qt=new Map,Ut=new Map,It;function pi(){if(w=t.history.listen(x=>{let{action:L,location:U,delta:q}=x;if(It){It(),It=void 0;return}Zo(qt.size===0||q!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let J=yi({currentLocation:g.location,nextLocation:U,historyAction:L});if(J&&q!=null){let oe=new Promise(ue=>{It=ue});t.history.go(q*-1),Mn(J,{state:"blocked",location:U,proceed(){Mn(J,{state:"proceeding",proceed:void 0,reset:void 0,location:U}),oe.then(()=>t.history.go(q))},reset(){let ue=new Map(g.blockers);ue.set(J,ja),it({blockers:ue})}});return}return Nt(L,U)}),n){uP(e,k);let x=()=>cP(e,k);e.addEventListener("pagehide",x),ve=()=>e.removeEventListener("pagehide",x)}return g.initialized||Nt(vt.Pop,g.location,{initialHydration:!0}),C}function Dt(){w&&w(),ve&&ve(),S.clear(),b&&b.abort(),g.fetchers.forEach((x,L)=>Or(L)),g.blockers.forEach((x,L)=>ps(L))}function Lr(x){return S.add(x),()=>S.delete(x)}function it(x,L){L===void 0&&(L={}),g=Ze({},g,x);let U=[],q=[];y.v7_fetcherPersist&&g.fetchers.forEach((J,oe)=>{J.state==="idle"&&(Ge.has(oe)?q.push(oe):U.push(oe))}),[...S].forEach(J=>J(g,{deletedFetchers:q,unstable_viewTransitionOpts:L.viewTransitionOpts,unstable_flushSync:L.flushSync===!0})),y.v7_fetcherPersist&&(U.forEach(J=>g.fetchers.delete(J)),q.forEach(J=>Or(J)))}function Sn(x,L,U){var q,J;let{flushSync:oe}=U===void 0?{}:U,ue=g.actionData!=null&&g.navigation.formMethod!=null&&rr(g.navigation.formMethod)&&g.navigation.state==="loading"&&((q=x.state)==null?void 0:q._isRedirect)!==!0,X;L.actionData?Object.keys(L.actionData).length>0?X=L.actionData:X=null:ue?X=g.actionData:X=null;let ie=L.loaderData?Uy(g.loaderData,L.loaderData,L.matches||[],L.errors):g.loaderData,ee=g.blockers;ee.size>0&&(ee=new Map(ee),ee.forEach((fe,Le)=>ee.set(Le,ja)));let se=I===!0||g.navigation.formMethod!=null&&rr(g.navigation.formMethod)&&((J=x.state)==null?void 0:J._isRedirect)!==!0;l&&(o=l,l=void 0),We||T===vt.Pop||(T===vt.Push?t.history.push(x,x.state):T===vt.Replace&&t.history.replace(x,x.state));let Ee;if(T===vt.Pop){let fe=k.get(g.location.pathname);fe&&fe.has(x.pathname)?Ee={currentLocation:g.location,nextLocation:x}:k.has(x.pathname)&&(Ee={currentLocation:x,nextLocation:g.location})}else if(O){let fe=k.get(g.location.pathname);fe?fe.add(x.pathname):(fe=new Set([x.pathname]),k.set(g.location.pathname,fe)),Ee={currentLocation:g.location,nextLocation:x}}it(Ze({},L,{actionData:X,loaderData:ie,historyAction:T,location:x,initialized:!0,navigation:jh,revalidation:"idle",restoreScrollPosition:gs(x,L.matches||g.matches),preventScrollReset:se,blockers:ee}),{viewTransitionOpts:Ee,flushSync:oe===!0}),T=vt.Pop,I=!1,O=!1,We=!1,tn=!1,ct=[]}async function _e(x,L){if(typeof x=="number"){t.history.go(x);return}let U=Gf(g.location,g.matches,u,y.v7_prependBasename,x,y.v7_relativeSplatPath,L==null?void 0:L.fromRouteId,L==null?void 0:L.relative),{path:q,submission:J,error:oe}=Ny(y.v7_normalizeFormMethod,!1,U,L),ue=g.location,X=xl(g.location,q,L&&L.state);X=Ze({},X,t.history.encodeLocation(X));let ie=L&&L.replace!=null?L.replace:void 0,ee=vt.Push;ie===!0?ee=vt.Replace:ie===!1||J!=null&&rr(J.formMethod)&&J.formAction===g.location.pathname+g.location.search&&(ee=vt.Replace);let se=L&&"preventScrollReset"in L?L.preventScrollReset===!0:void 0,Ee=(L&&L.unstable_flushSync)===!0,fe=yi({currentLocation:ue,nextLocation:X,historyAction:ee});if(fe){Mn(fe,{state:"blocked",location:X,proceed(){Mn(fe,{state:"proceeding",proceed:void 0,reset:void 0,location:X}),_e(x,L)},reset(){let Le=new Map(g.blockers);Le.set(fe,ja),it({blockers:Le})}});return}return await Nt(ee,X,{submission:J,pendingError:oe,preventScrollReset:se,replace:L&&L.replace,enableViewTransition:L&&L.unstable_viewTransition,flushSync:Ee})}function dn(){if(mi(),it({revalidation:"loading"}),g.navigation.state!=="submitting"){if(g.navigation.state==="idle"){Nt(g.historyAction,g.location,{startUninterruptedRevalidation:!0});return}Nt(T||g.historyAction,g.navigation.location,{overrideNavigation:g.navigation,enableViewTransition:O===!0})}}async function Nt(x,L,U){b&&b.abort(),b=null,T=x,We=(U&&U.startUninterruptedRevalidation)===!0,Vr(g.location,g.matches),I=(U&&U.preventScrollReset)===!0,O=(U&&U.enableViewTransition)===!0;let q=l||o,J=U&&U.overrideNavigation,oe=ks(q,L,u),ue=(U&&U.flushSync)===!0,X=ot(oe,q,L.pathname);if(X.active&&X.matches&&(oe=X.matches),!oe){let{error:Se,notFoundMatches:at,route:Fe}=Gn(L.pathname);Sn(L,{matches:at,loaderData:{},errors:{[Fe.id]:Se}},{flushSync:ue});return}if(g.initialized&&!tn&&eP(g.location,L)&&!(U&&U.submission&&rr(U.submission.formMethod))){Sn(L,{matches:oe},{flushSync:ue});return}b=new AbortController;let ie=yo(t.history,L,b.signal,U&&U.submission),ee;if(U&&U.pendingError)ee=[Lo(oe).route.id,{type:Be.error,error:U.pendingError}];else if(U&&U.submission&&rr(U.submission.formMethod)){let Se=await qn(ie,L,U.submission,oe,X.active,{replace:U.replace,flushSync:ue});if(Se.shortCircuited)return;if(Se.pendingActionResult){let[at,Fe]=Se.pendingActionResult;if(Rn(Fe)&&xd(Fe.error)&&Fe.error.status===404){b=null,Sn(L,{matches:Se.matches,loaderData:{},errors:{[at]:Fe.error}});return}}oe=Se.matches||oe,ee=Se.pendingActionResult,J=zh(L,U.submission),ue=!1,X.active=!1,ie=yo(t.history,ie.url,ie.signal)}let{shortCircuited:se,matches:Ee,loaderData:fe,errors:Le}=await Je(ie,L,oe,X.active,J,U&&U.submission,U&&U.fetcherSubmission,U&&U.replace,U&&U.initialHydration===!0,ue,ee);se||(b=null,Sn(L,Ze({matches:Ee||oe},By(ee),{loaderData:fe,errors:Le})))}async function qn(x,L,U,q,J,oe){oe===void 0&&(oe={}),mi();let ue=aP(L,U);if(it({navigation:ue},{flushSync:oe.flushSync===!0}),J){let ee=await Qn(q,L.pathname,x.signal);if(ee.type==="aborted")return{shortCircuited:!0};if(ee.type==="error"){let{boundaryId:se,error:Ee}=fn(L.pathname,ee);return{matches:ee.partialMatches,pendingActionResult:[se,{type:Be.error,error:Ee}]}}else if(ee.matches)q=ee.matches;else{let{notFoundMatches:se,error:Ee,route:fe}=Gn(L.pathname);return{matches:se,pendingActionResult:[fe.id,{type:Be.error,error:Ee}]}}}let X,ie=Ga(q,L);if(!ie.route.action&&!ie.route.lazy)X={type:Be.error,error:on(405,{method:x.method,pathname:L.pathname,routeId:ie.route.id})};else if(X=(await Qe("action",g,x,[ie],q,null))[ie.route.id],x.signal.aborted)return{shortCircuited:!0};if(Ns(X)){let ee;return oe&&oe.replace!=null?ee=oe.replace:ee=Vy(X.response.headers.get("Location"),new URL(x.url),u)===g.location.pathname+g.location.search,await je(x,X,!0,{submission:U,replace:ee}),{shortCircuited:!0}}if(Ui(X))throw on(400,{type:"defer-action"});if(Rn(X)){let ee=Lo(q,ie.route.id);return(oe&&oe.replace)!==!0&&(T=vt.Push),{matches:q,pendingActionResult:[ee.route.id,X]}}return{matches:q,pendingActionResult:[ie.route.id,X]}}async function Je(x,L,U,q,J,oe,ue,X,ie,ee,se){let Ee=J||zh(L,oe),fe=oe||ue||$y(Ee),Le=!We&&(!y.v7_partialHydration||!ie);if(q){if(Le){let Ue=st(se);it(Ze({navigation:Ee},Ue!==void 0?{actionData:Ue}:{}),{flushSync:ee})}let me=await Qn(U,L.pathname,x.signal);if(me.type==="aborted")return{shortCircuited:!0};if(me.type==="error"){let{boundaryId:Ue,error:Lt}=fn(L.pathname,me);return{matches:me.partialMatches,loaderData:{},errors:{[Ue]:Lt}}}else if(me.matches)U=me.matches;else{let{error:Ue,notFoundMatches:Lt,route:ze}=Gn(L.pathname);return{matches:Lt,loaderData:{},errors:{[ze.id]:Ue}}}}let Se=l||o,[at,Fe]=Ly(t.history,g,U,fe,L,y.v7_partialHydration&&ie===!0,y.v7_skipActionErrorRevalidation,tn,ct,Y,Ge,mt,De,Se,u,se);if(vi(me=>!(U&&U.some(Ue=>Ue.route.id===me))||at&&at.some(Ue=>Ue.route.id===me)),be=++de,at.length===0&&Fe.length===0){let me=Vn();return Sn(L,Ze({matches:U,loaderData:{},errors:se&&Rn(se[1])?{[se[0]]:se[1].error}:null},By(se),me?{fetchers:new Map(g.fetchers)}:{}),{flushSync:ee}),{shortCircuited:!0}}if(Le){let me={};if(!q){me.navigation=Ee;let Ue=st(se);Ue!==void 0&&(me.actionData=Ue)}Fe.length>0&&(me.fetchers=eo(Fe)),it(me,{flushSync:ee})}Fe.forEach(me=>{Z.has(me.key)&&hn(me.key),me.controller&&Z.set(me.key,me.controller)});let pr=()=>Fe.forEach(me=>hn(me.key));b&&b.signal.addEventListener("abort",pr);let{loaderResults:nn,fetcherResults:pn}=await Kn(g,U,at,Fe,x);if(x.signal.aborted)return{shortCircuited:!0};b&&b.signal.removeEventListener("abort",pr),Fe.forEach(me=>Z.delete(me.key));let Ct=$u(nn);if(Ct)return await je(x,Ct.result,!0,{replace:X}),{shortCircuited:!0};if(Ct=$u(pn),Ct)return De.add(Ct.key),await je(x,Ct.result,!0,{replace:X}),{shortCircuited:!0};let{loaderData:mr,errors:mn}=Fy(g,U,at,nn,se,Fe,pn,Tt);Tt.forEach((me,Ue)=>{me.subscribe(Lt=>{(Lt||me.done)&&Tt.delete(Ue)})}),y.v7_partialHydration&&ie&&g.errors&&Object.entries(g.errors).filter(me=>{let[Ue]=me;return!at.some(Lt=>Lt.route.id===Ue)}).forEach(me=>{let[Ue,Lt]=me;mn=Object.assign(mn||{},{[Ue]:Lt})});let Fr=Vn(),Ur=gi(be),Br=Fr||Ur||Fe.length>0;return Ze({matches:U,loaderData:mr,errors:mn},Br?{fetchers:new Map(g.fetchers)}:{})}function st(x){if(x&&!Rn(x[1]))return{[x[0]]:x[1].data};if(g.actionData)return Object.keys(g.actionData).length===0?null:g.actionData}function eo(x){return x.forEach(L=>{let U=g.fetchers.get(L.key),q=za(void 0,U?U.data:void 0);g.fetchers.set(L.key,q)}),new Map(g.fetchers)}function dr(x,L,U,q){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");Z.has(x)&&hn(x);let J=(q&&q.unstable_flushSync)===!0,oe=l||o,ue=Gf(g.location,g.matches,u,y.v7_prependBasename,U,y.v7_relativeSplatPath,L,q==null?void 0:q.relative),X=ks(oe,ue,u),ie=ot(X,oe,ue);if(ie.active&&ie.matches&&(X=ie.matches),!X){he(x,L,on(404,{pathname:ue}),{flushSync:J});return}let{path:ee,submission:se,error:Ee}=Ny(y.v7_normalizeFormMethod,!0,ue,q);if(Ee){he(x,L,Ee,{flushSync:J});return}let fe=Ga(X,ee);if(I=(q&&q.preventScrollReset)===!0,se&&rr(se.formMethod)){St(x,L,ee,fe,X,ie.active,J,se);return}mt.set(x,{routeId:L,path:ee}),to(x,L,ee,fe,X,ie.active,J,se)}async function St(x,L,U,q,J,oe,ue,X){mi(),mt.delete(x);function ie(ze){if(!ze.route.action&&!ze.route.lazy){let gn=on(405,{method:X.formMethod,pathname:U,routeId:L});return he(x,L,gn,{flushSync:ue}),!0}return!1}if(!oe&&ie(q))return;let ee=g.fetchers.get(x);Cn(x,lP(X,ee),{flushSync:ue});let se=new AbortController,Ee=yo(t.history,U,se.signal,X);if(oe){let ze=await Qn(J,U,Ee.signal);if(ze.type==="aborted")return;if(ze.type==="error"){let{error:gn}=fn(U,ze);he(x,L,gn,{flushSync:ue});return}else if(ze.matches){if(J=ze.matches,q=Ga(J,U),ie(q))return}else{he(x,L,on(404,{pathname:U}),{flushSync:ue});return}}Z.set(x,se);let fe=de,Se=(await Qe("action",g,Ee,[q],J,x))[q.route.id];if(Ee.signal.aborted){Z.get(x)===se&&Z.delete(x);return}if(y.v7_fetcherPersist&&Ge.has(x)){if(Ns(Se)||Rn(Se)){Cn(x,Ri(void 0));return}}else{if(Ns(Se))if(Z.delete(x),be>fe){Cn(x,Ri(void 0));return}else return De.add(x),Cn(x,za(X)),je(Ee,Se,!1,{fetcherSubmission:X});if(Rn(Se)){he(x,L,Se.error);return}}if(Ui(Se))throw on(400,{type:"defer-action"});let at=g.navigation.location||g.location,Fe=yo(t.history,at,se.signal),pr=l||o,nn=g.navigation.state!=="idle"?ks(pr,g.navigation.location,u):g.matches;Te(nn,"Didn't find any matches after fetcher action");let pn=++de;Ie.set(x,pn);let Ct=za(X,Se.data);g.fetchers.set(x,Ct);let[mr,mn]=Ly(t.history,g,nn,X,at,!1,y.v7_skipActionErrorRevalidation,tn,ct,Y,Ge,mt,De,pr,u,[q.route.id,Se]);mn.filter(ze=>ze.key!==x).forEach(ze=>{let gn=ze.key,ys=g.fetchers.get(gn),io=za(void 0,ys?ys.data:void 0);g.fetchers.set(gn,io),Z.has(gn)&&hn(gn),ze.controller&&Z.set(gn,ze.controller)}),it({fetchers:new Map(g.fetchers)});let Fr=()=>mn.forEach(ze=>hn(ze.key));se.signal.addEventListener("abort",Fr);let{loaderResults:Ur,fetcherResults:Br}=await Kn(g,nn,mr,mn,Fe);if(se.signal.aborted)return;se.signal.removeEventListener("abort",Fr),Ie.delete(x),Z.delete(x),mn.forEach(ze=>Z.delete(ze.key));let me=$u(Ur);if(me)return je(Fe,me.result,!1);if(me=$u(Br),me)return De.add(me.key),je(Fe,me.result,!1);let{loaderData:Ue,errors:Lt}=Fy(g,nn,mr,Ur,void 0,mn,Br,Tt);if(g.fetchers.has(x)){let ze=Ri(Se.data);g.fetchers.set(x,ze)}gi(pn),g.navigation.state==="loading"&&pn>be?(Te(T,"Expected pending action"),b&&b.abort(),Sn(g.navigation.location,{matches:nn,loaderData:Ue,errors:Lt,fetchers:new Map(g.fetchers)})):(it({errors:Lt,loaderData:Uy(g.loaderData,Ue,nn,Lt),fetchers:new Map(g.fetchers)}),tn=!1)}async function to(x,L,U,q,J,oe,ue,X){let ie=g.fetchers.get(x);Cn(x,za(X,ie?ie.data:void 0),{flushSync:ue});let ee=new AbortController,se=yo(t.history,U,ee.signal);if(oe){let Se=await Qn(J,U,se.signal);if(Se.type==="aborted")return;if(Se.type==="error"){let{error:at}=fn(U,Se);he(x,L,at,{flushSync:ue});return}else if(Se.matches)J=Se.matches,q=Ga(J,U);else{he(x,L,on(404,{pathname:U}),{flushSync:ue});return}}Z.set(x,ee);let Ee=de,Le=(await Qe("loader",g,se,[q],J,x))[q.route.id];if(Ui(Le)&&(Le=await wm(Le,se.signal,!0)||Le),Z.get(x)===ee&&Z.delete(x),!se.signal.aborted){if(Ge.has(x)){Cn(x,Ri(void 0));return}if(Ns(Le))if(be>Ee){Cn(x,Ri(void 0));return}else{De.add(x),await je(se,Le,!1);return}if(Rn(Le)){he(x,L,Le.error);return}Te(!Ui(Le),"Unhandled fetcher deferred data"),Cn(x,Ri(Le.data))}}async function je(x,L,U,q){let{submission:J,fetcherSubmission:oe,replace:ue}=q===void 0?{}:q;L.response.headers.has("X-Remix-Revalidate")&&(tn=!0);let X=L.response.headers.get("Location");Te(X,"Expected a Location header on the redirect Response"),X=Vy(X,new URL(x.url),u);let ie=xl(g.location,X,{_isRedirect:!0});if(n){let Se=!1;if(L.response.headers.has("X-Remix-Reload-Document"))Se=!0;else if(vm.test(X)){const at=t.history.createURL(X);Se=at.origin!==e.location.origin||ri(at.pathname,u)==null}if(Se){ue?e.location.replace(X):e.location.assign(X);return}}b=null;let ee=ue===!0||L.response.headers.has("X-Remix-Replace")?vt.Replace:vt.Push,{formMethod:se,formAction:Ee,formEncType:fe}=g.navigation;!J&&!oe&&se&&Ee&&fe&&(J=$y(g.navigation));let Le=J||oe;if(UC.has(L.response.status)&&Le&&rr(Le.formMethod))await Nt(ee,ie,{submission:Ze({},Le,{formAction:X}),preventScrollReset:I,enableViewTransition:U?O:void 0});else{let Se=zh(ie,J);await Nt(ee,ie,{overrideNavigation:Se,fetcherSubmission:oe,preventScrollReset:I,enableViewTransition:U?O:void 0})}}async function Qe(x,L,U,q,J,oe){let ue,X={};try{ue=await QC(d,x,L,U,q,J,oe,s,i)}catch(ie){return q.forEach(ee=>{X[ee.route.id]={type:Be.error,error:ie}}),X}for(let[ie,ee]of Object.entries(ue))if(nP(ee)){let se=ee.result;X[ie]={type:Be.redirect,response:JC(se,U,ie,J,u,y.v7_relativeSplatPath)}}else X[ie]=await XC(ee);return X}async function Kn(x,L,U,q,J){let oe=x.matches,ue=Qe("loader",x,J,U,L,null),X=Promise.all(q.map(async se=>{if(se.matches&&se.match&&se.controller){let fe=(await Qe("loader",x,yo(t.history,se.path,se.controller.signal),[se.match],se.matches,se.key))[se.match.route.id];return{[se.key]:fe}}else return Promise.resolve({[se.key]:{type:Be.error,error:on(404,{pathname:se.path})}})})),ie=await ue,ee=(await X).reduce((se,Ee)=>Object.assign(se,Ee),{});return await Promise.all([sP(L,ie,J.signal,oe,x.loaderData),oP(L,ee,q)]),{loaderResults:ie,fetcherResults:ee}}function mi(){tn=!0,ct.push(...vi()),mt.forEach((x,L)=>{Z.has(L)&&(Y.add(L),hn(L))})}function Cn(x,L,U){U===void 0&&(U={}),g.fetchers.set(x,L),it({fetchers:new Map(g.fetchers)},{flushSync:(U&&U.flushSync)===!0})}function he(x,L,U,q){q===void 0&&(q={});let J=Lo(g.matches,L);Or(x),it({errors:{[J.route.id]:U},fetchers:new Map(g.fetchers)},{flushSync:(q&&q.flushSync)===!0})}function hr(x){return y.v7_fetcherPersist&&(Et.set(x,(Et.get(x)||0)+1),Ge.has(x)&&Ge.delete(x)),g.fetchers.get(x)||BC}function Or(x){let L=g.fetchers.get(x);Z.has(x)&&!(L&&L.state==="loading"&&Ie.has(x))&&hn(x),mt.delete(x),Ie.delete(x),De.delete(x),Ge.delete(x),Y.delete(x),g.fetchers.delete(x)}function fs(x){if(y.v7_fetcherPersist){let L=(Et.get(x)||0)-1;L<=0?(Et.delete(x),Ge.add(x)):Et.set(x,L)}else Or(x);it({fetchers:new Map(g.fetchers)})}function hn(x){let L=Z.get(x);Te(L,"Expected fetch controller: "+x),L.abort(),Z.delete(x)}function no(x){for(let L of x){let U=hr(L),q=Ri(U.data);g.fetchers.set(L,q)}}function Vn(){let x=[],L=!1;for(let U of De){let q=g.fetchers.get(U);Te(q,"Expected fetcher: "+U),q.state==="loading"&&(De.delete(U),x.push(U),L=!0)}return no(x),L}function gi(x){let L=[];for(let[U,q]of Ie)if(q<x){let J=g.fetchers.get(U);Te(J,"Expected fetcher: "+U),J.state==="loading"&&(hn(U),Ie.delete(U),L.push(U))}return no(L),L.length>0}function ro(x,L){let U=g.blockers.get(x)||ja;return qt.get(x)!==L&&qt.set(x,L),U}function ps(x){g.blockers.delete(x),qt.delete(x)}function Mn(x,L){let U=g.blockers.get(x)||ja;Te(U.state==="unblocked"&&L.state==="blocked"||U.state==="blocked"&&L.state==="blocked"||U.state==="blocked"&&L.state==="proceeding"||U.state==="blocked"&&L.state==="unblocked"||U.state==="proceeding"&&L.state==="unblocked","Invalid blocker state transition: "+U.state+" -> "+L.state);let q=new Map(g.blockers);q.set(x,L),it({blockers:q})}function yi(x){let{currentLocation:L,nextLocation:U,historyAction:q}=x;if(qt.size===0)return;qt.size>1&&Zo(!1,"A router only supports one blocker at a time");let J=Array.from(qt.entries()),[oe,ue]=J[J.length-1],X=g.blockers.get(oe);if(!(X&&X.state==="proceeding")&&ue({currentLocation:L,nextLocation:U,historyAction:q}))return oe}function Gn(x){let L=on(404,{pathname:x}),U=l||o,{matches:q,route:J}=jy(U);return vi(),{notFoundMatches:q,route:J,error:L}}function fn(x,L){return{boundaryId:Lo(L.partialMatches).route.id,error:on(400,{type:"route-discovery",pathname:x,message:L.error!=null&&"message"in L.error?L.error:String(L.error)})}}function vi(x){let L=[];return Tt.forEach((U,q)=>{(!x||x(q))&&(U.cancel(),L.push(q),Tt.delete(q))}),L}function Fn(x,L,U){if(F=x,E=L,R=U||null,!A&&g.navigation===jh){A=!0;let q=gs(g.location,g.matches);q!=null&&it({restoreScrollPosition:q})}return()=>{F=null,E=null,R=null}}function ms(x,L){return R&&R(x,L.map(q=>yC(q,g.loaderData)))||x.key}function Vr(x,L){if(F&&E){let U=ms(x,L);F[U]=E()}}function gs(x,L){if(F){let U=ms(x,L),q=F[U];if(typeof q=="number")return q}return null}function ot(x,L,U){if(p){if(N.has(U))return{active:!1,matches:x};if(x){if(Object.keys(x[0].params).length>0)return{active:!0,matches:uc(L,U,u,!0)}}else return{active:!0,matches:uc(L,U,u,!0)||[]}}return{active:!1,matches:null}}async function Qn(x,L,U){let q=x;for(;;){let J=l==null,oe=l||o;try{await qC(p,L,q,oe,s,i,Ut,U)}catch(ie){return{type:"error",error:ie,partialMatches:q}}finally{J&&(o=[...o])}if(U.aborted)return{type:"aborted"};let ue=ks(oe,L,u);if(ue)return fr(L,N),{type:"success",matches:ue};let X=uc(oe,L,u,!0);if(!X||q.length===X.length&&q.every((ie,ee)=>ie.route.id===X[ee].route.id))return fr(L,N),{type:"success",matches:null};q=X}}function fr(x,L){if(L.size>=D){let U=L.values().next().value;L.delete(U)}L.add(x)}function Mr(x){s={},l=Dl(x,i,void 0,s)}function Ta(x,L){let U=l==null;C0(x,L,l||o,s,i),U&&(o=[...o],it({}))}return C={get basename(){return u},get future(){return y},get state(){return g},get routes(){return o},get window(){return e},initialize:pi,subscribe:Lr,enableScrollRestoration:Fn,navigate:_e,fetch:dr,revalidate:dn,createHref:x=>t.history.createHref(x),encodeLocation:x=>t.history.encodeLocation(x),getFetcher:hr,deleteFetcher:fs,dispose:Dt,getBlocker:ro,deleteBlocker:ps,patchRoutes:Ta,_internalFetchControllers:Z,_internalActiveDeferreds:Tt,_internalSetRoutes:Mr},C}function $C(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function Gf(t,e,n,r,i,s,o,l){let u,d;if(o){u=[];for(let y of e)if(u.push(y),y.route.id===o){d=y;break}}else u=e,d=e[e.length-1];let p=bd(i||".",kd(u,s),ri(t.pathname,n)||t.pathname,l==="path");return i==null&&(p.search=t.search,p.hash=t.hash),(i==null||i===""||i===".")&&d&&d.route.index&&!_m(p.search)&&(p.search=p.search?p.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(p.pathname=p.pathname==="/"?n:Jr([n,p.pathname])),$s(p)}function Ny(t,e,n,r){if(!r||!$C(r))return{path:n};if(r.formMethod&&!iP(r.formMethod))return{path:n,error:on(405,{method:r.formMethod})};let i=()=>({path:n,error:on(400,{type:"invalid-body"})}),s=r.formMethod||"get",o=t?s.toUpperCase():s.toLowerCase(),l=P0(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!rr(o))return i();let w=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((S,D)=>{let[N,F]=D;return""+S+N+"="+F+`
`},""):String(r.body);return{path:n,submission:{formMethod:o,formAction:l,formEncType:r.formEncType,formData:void 0,json:void 0,text:w}}}else if(r.formEncType==="application/json"){if(!rr(o))return i();try{let w=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:o,formAction:l,formEncType:r.formEncType,formData:void 0,json:w,text:void 0}}}catch{return i()}}}Te(typeof FormData=="function","FormData is not available in this environment");let u,d;if(r.formData)u=Qf(r.formData),d=r.formData;else if(r.body instanceof FormData)u=Qf(r.body),d=r.body;else if(r.body instanceof URLSearchParams)u=r.body,d=My(u);else if(r.body==null)u=new URLSearchParams,d=new FormData;else try{u=new URLSearchParams(r.body),d=My(u)}catch{return i()}let p={formMethod:o,formAction:l,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:d,json:void 0,text:void 0};if(rr(p.formMethod))return{path:n,submission:p};let y=us(n);return e&&y.search&&_m(y.search)&&u.append("index",""),y.search="?"+u,{path:$s(y),submission:p}}function HC(t,e){let n=t;if(e){let r=t.findIndex(i=>i.route.id===e);r>=0&&(n=t.slice(0,r))}return n}function Ly(t,e,n,r,i,s,o,l,u,d,p,y,w,S,D,N){let F=N?Rn(N[1])?N[1].error:N[1].data:void 0,R=t.createURL(e.location),E=t.createURL(i),A=N&&Rn(N[1])?N[0]:void 0,M=A?HC(n,A):n,H=N?N[1].statusCode:void 0,j=o&&H&&H>=400,C=M.filter((T,I)=>{let{route:b}=T;if(b.lazy)return!0;if(b.loader==null)return!1;if(s)return typeof b.loader!="function"||b.loader.hydrate?!0:e.loaderData[b.id]===void 0&&(!e.errors||e.errors[b.id]===void 0);if(WC(e.loaderData,e.matches[I],T)||u.some(ve=>ve===T.route.id))return!0;let O=e.matches[I],k=T;return Oy(T,Ze({currentUrl:R,currentParams:O.params,nextUrl:E,nextParams:k.params},r,{actionResult:F,actionStatus:H,defaultShouldRevalidate:j?!1:l||R.pathname+R.search===E.pathname+E.search||R.search!==E.search||S0(O,k)}))}),g=[];return y.forEach((T,I)=>{if(s||!n.some(We=>We.route.id===T.routeId)||p.has(I))return;let b=ks(S,T.path,D);if(!b){g.push({key:I,routeId:T.routeId,path:T.path,matches:null,match:null,controller:null});return}let O=e.fetchers.get(I),k=Ga(b,T.path),ve=!1;w.has(I)?ve=!1:d.has(I)?(d.delete(I),ve=!0):O&&O.state!=="idle"&&O.data===void 0?ve=l:ve=Oy(k,Ze({currentUrl:R,currentParams:e.matches[e.matches.length-1].params,nextUrl:E,nextParams:n[n.length-1].params},r,{actionResult:F,actionStatus:H,defaultShouldRevalidate:j?!1:l})),ve&&g.push({key:I,routeId:T.routeId,path:T.path,matches:b,match:k,controller:new AbortController})}),[C,g]}function WC(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function S0(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function Oy(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function qC(t,e,n,r,i,s,o,l){let u=[e,...n.map(d=>d.route.id)].join("-");try{let d=o.get(u);d||(d=t({path:e,matches:n,patch:(p,y)=>{l.aborted||C0(p,y,r,i,s)}}),o.set(u,d)),d&&tP(d)&&await d}finally{o.delete(u)}}function C0(t,e,n,r,i){if(t){var s;let o=r[t];Te(o,"No route found to patch children into: routeId = "+t);let l=Dl(e,i,[t,"patch",String(((s=o.children)==null?void 0:s.length)||"0")],r);o.children?o.children.push(...l):o.children=l}else{let o=Dl(e,i,["patch",String(n.length||"0")],r);n.push(...o)}}async function KC(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];Te(i,"No route found in manifest");let s={};for(let o in r){let u=i[o]!==void 0&&o!=="hasErrorBoundary";Zo(!u,'Route "'+i.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!u&&!mC.has(o)&&(s[o]=r[o])}Object.assign(i,s),Object.assign(i,Ze({},e(i),{lazy:void 0}))}async function GC(t){let{matches:e}=t,n=e.filter(i=>i.shouldLoad);return(await Promise.all(n.map(i=>i.resolve()))).reduce((i,s,o)=>Object.assign(i,{[n[o].route.id]:s}),{})}async function QC(t,e,n,r,i,s,o,l,u,d){let p=s.map(S=>S.route.lazy?KC(S.route,u,l):void 0),y=s.map((S,D)=>{let N=p[D],F=i.some(E=>E.route.id===S.route.id);return Ze({},S,{shouldLoad:F,resolve:async E=>(E&&r.method==="GET"&&(S.route.lazy||S.route.loader)&&(F=!0),F?YC(e,r,S,N,E,d):Promise.resolve({type:Be.data,result:void 0}))})}),w=await t({matches:y,request:r,params:s[0].params,fetcherKey:o,context:d});try{await Promise.all(p)}catch{}return w}async function YC(t,e,n,r,i,s){let o,l,u=d=>{let p,y=new Promise((D,N)=>p=N);l=()=>p(),e.signal.addEventListener("abort",l);let w=D=>typeof d!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+n.route.id+"]"))):d({request:e,params:n.params,context:s},...D!==void 0?[D]:[]),S=(async()=>{try{return{type:"data",result:await(i?i(N=>w(N)):w())}}catch(D){return{type:"error",result:D}}})();return Promise.race([S,y])};try{let d=n.route[t];if(r)if(d){let p,[y]=await Promise.all([u(d).catch(w=>{p=w}),r]);if(p!==void 0)throw p;o=y}else if(await r,d=n.route[t],d)o=await u(d);else if(t==="action"){let p=new URL(e.url),y=p.pathname+p.search;throw on(405,{method:e.method,pathname:y,routeId:n.route.id})}else return{type:Be.data,result:void 0};else if(d)o=await u(d);else{let p=new URL(e.url),y=p.pathname+p.search;throw on(404,{pathname:y})}Te(o.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(d){return{type:Be.error,result:d}}finally{l&&e.signal.removeEventListener("abort",l)}return o}async function XC(t){let{result:e,type:n}=t;if(A0(e)){let d;try{let p=e.headers.get("Content-Type");p&&/\bapplication\/json\b/.test(p)?e.body==null?d=null:d=await e.json():d=await e.text()}catch(p){return{type:Be.error,error:p}}return n===Be.error?{type:Be.error,error:new Hc(e.status,e.statusText,d),statusCode:e.status,headers:e.headers}:{type:Be.data,data:d,statusCode:e.status,headers:e.headers}}if(n===Be.error){if(zy(e)){var r;if(e.data instanceof Error){var i;return{type:Be.error,error:e.data,statusCode:(i=e.init)==null?void 0:i.status}}e=new Hc(((r=e.init)==null?void 0:r.status)||500,void 0,e.data)}return{type:Be.error,error:e,statusCode:xd(e)?e.status:void 0}}if(rP(e)){var s,o;return{type:Be.deferred,deferredData:e,statusCode:(s=e.init)==null?void 0:s.status,headers:((o=e.init)==null?void 0:o.headers)&&new Headers(e.init.headers)}}if(zy(e)){var l,u;return{type:Be.data,data:e.data,statusCode:(l=e.init)==null?void 0:l.status,headers:(u=e.init)!=null&&u.headers?new Headers(e.init.headers):void 0}}return{type:Be.data,data:e}}function JC(t,e,n,r,i,s){let o=t.headers.get("Location");if(Te(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!vm.test(o)){let l=r.slice(0,r.findIndex(u=>u.route.id===n)+1);o=Gf(new URL(e.url),l,i,!0,o,s),t.headers.set("Location",o)}return t}function Vy(t,e,n){if(vm.test(t)){let r=t,i=r.startsWith("//")?new URL(e.protocol+r):new URL(r),s=ri(i.pathname,n)!=null;if(i.origin===e.origin&&s)return i.pathname+i.search+i.hash}return t}function yo(t,e,n,r){let i=t.createURL(P0(e)).toString(),s={signal:n};if(r&&rr(r.formMethod)){let{formMethod:o,formEncType:l}=r;s.method=o.toUpperCase(),l==="application/json"?(s.headers=new Headers({"Content-Type":l}),s.body=JSON.stringify(r.json)):l==="text/plain"?s.body=r.text:l==="application/x-www-form-urlencoded"&&r.formData?s.body=Qf(r.formData):s.body=r.formData}return new Request(i,s)}function Qf(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function My(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function ZC(t,e,n,r,i){let s={},o=null,l,u=!1,d={},p=n&&Rn(n[1])?n[1].error:void 0;return t.forEach(y=>{if(!(y.route.id in e))return;let w=y.route.id,S=e[w];if(Te(!Ns(S),"Cannot handle redirect results in processLoaderData"),Rn(S)){let D=S.error;p!==void 0&&(D=p,p=void 0),o=o||{};{let N=Lo(t,w);o[N.route.id]==null&&(o[N.route.id]=D)}s[w]=void 0,u||(u=!0,l=xd(S.error)?S.error.status:500),S.headers&&(d[w]=S.headers)}else Ui(S)?(r.set(w,S.deferredData),s[w]=S.deferredData.data,S.statusCode!=null&&S.statusCode!==200&&!u&&(l=S.statusCode),S.headers&&(d[w]=S.headers)):(s[w]=S.data,S.statusCode&&S.statusCode!==200&&!u&&(l=S.statusCode),S.headers&&(d[w]=S.headers))}),p!==void 0&&n&&(o={[n[0]]:p},s[n[0]]=void 0),{loaderData:s,errors:o,statusCode:l||200,loaderHeaders:d}}function Fy(t,e,n,r,i,s,o,l){let{loaderData:u,errors:d}=ZC(e,r,i,l);return s.forEach(p=>{let{key:y,match:w,controller:S}=p,D=o[y];if(Te(D,"Did not find corresponding fetcher result"),!(S&&S.signal.aborted))if(Rn(D)){let N=Lo(t.matches,w==null?void 0:w.route.id);d&&d[N.route.id]||(d=Ze({},d,{[N.route.id]:D.error})),t.fetchers.delete(y)}else if(Ns(D))Te(!1,"Unhandled fetcher revalidation redirect");else if(Ui(D))Te(!1,"Unhandled fetcher deferred data");else{let N=Ri(D.data);t.fetchers.set(y,N)}}),{loaderData:u,errors:d}}function Uy(t,e,n,r){let i=Ze({},e);for(let s of n){let o=s.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(i[o]=e[o]):t[o]!==void 0&&s.route.loader&&(i[o]=t[o]),r&&r.hasOwnProperty(o))break}return i}function By(t){return t?Rn(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function Lo(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function jy(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function on(t,e){let{pathname:n,routeId:r,method:i,type:s,message:o}=e===void 0?{}:e,l="Unknown Server Error",u="Unknown @remix-run/router error";return t===400?(l="Bad Request",s==="route-discovery"?u='Unable to match URL "'+n+'" - the `unstable_patchRoutesOnNavigation()` '+(`function threw the following error:
`+o):i&&n&&r?u="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":s==="defer-action"?u="defer() is not supported in actions":s==="invalid-body"&&(u="Unable to encode submission body")):t===403?(l="Forbidden",u='Route "'+r+'" does not match URL "'+n+'"'):t===404?(l="Not Found",u='No route matches URL "'+n+'"'):t===405&&(l="Method Not Allowed",i&&n&&r?u="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(u='Invalid request method "'+i.toUpperCase()+'"')),new Hc(t||500,l,new Error(u),!0)}function $u(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[r,i]=e[n];if(Ns(i))return{key:r,result:i}}}function P0(t){let e=typeof t=="string"?us(t):t;return $s(Ze({},e,{hash:""}))}function eP(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function tP(t){return typeof t=="object"&&t!=null&&"then"in t}function nP(t){return A0(t.result)&&FC.has(t.result.status)}function Ui(t){return t.type===Be.deferred}function Rn(t){return t.type===Be.error}function Ns(t){return(t&&t.type)===Be.redirect}function zy(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function rP(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function A0(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function iP(t){return MC.has(t.toLowerCase())}function rr(t){return OC.has(t.toLowerCase())}async function sP(t,e,n,r,i){let s=Object.entries(e);for(let o=0;o<s.length;o++){let[l,u]=s[o],d=t.find(w=>(w==null?void 0:w.route.id)===l);if(!d)continue;let p=r.find(w=>w.route.id===d.route.id),y=p!=null&&!S0(p,d)&&(i&&i[d.route.id])!==void 0;Ui(u)&&y&&await wm(u,n,!1).then(w=>{w&&(e[l]=w)})}}async function oP(t,e,n){for(let r=0;r<n.length;r++){let{key:i,routeId:s,controller:o}=n[r],l=e[i];t.find(d=>(d==null?void 0:d.route.id)===s)&&Ui(l)&&(Te(o,"Expected an AbortController for revalidating fetcher deferred result"),await wm(l,o.signal,!0).then(d=>{d&&(e[i]=d)}))}}async function wm(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:Be.data,data:t.deferredData.unwrappedData}}catch(i){return{type:Be.error,error:i}}return{type:Be.data,data:t.deferredData.data}}}function _m(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function Ga(t,e){let n=typeof e=="string"?us(e).search:e.search;if(t[t.length-1].route.index&&_m(n||""))return t[t.length-1];let r=E0(t);return r[r.length-1]}function $y(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:s,json:o}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:e,formAction:n,formEncType:r,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function zh(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function aP(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function za(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function lP(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function Ri(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function uP(t,e){try{let n=t.sessionStorage.getItem(I0);if(n){let r=JSON.parse(n);for(let[i,s]of Object.entries(r||{}))s&&Array.isArray(s)&&e.set(i,new Set(s||[]))}}catch{}}function cP(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(I0,JSON.stringify(n))}catch(r){Zo(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wc(){return Wc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wc.apply(this,arguments)}const Kl=$.createContext(null),Em=$.createContext(null),ci=$.createContext(null),Tm=$.createContext(null),di=$.createContext({outlet:null,matches:[],isDataRoute:!1}),R0=$.createContext(null);function dP(t,e){let{relative:n}=e===void 0?{}:e;pa()||Te(!1);let{basename:r,navigator:i}=$.useContext(ci),{hash:s,pathname:o,search:l}=Dd(t,{relative:n}),u=o;return r!=="/"&&(u=o==="/"?r:Jr([r,o])),i.createHref({pathname:u,search:l,hash:s})}function pa(){return $.useContext(Tm)!=null}function ma(){return pa()||Te(!1),$.useContext(Tm).location}function k0(t){$.useContext(ci).static||$.useLayoutEffect(t)}function Im(){let{isDataRoute:t}=$.useContext(di);return t?CP():hP()}function hP(){pa()||Te(!1);let t=$.useContext(Kl),{basename:e,future:n,navigator:r}=$.useContext(ci),{matches:i}=$.useContext(di),{pathname:s}=ma(),o=JSON.stringify(kd(i,n.v7_relativeSplatPath)),l=$.useRef(!1);return k0(()=>{l.current=!0}),$.useCallback(function(d,p){if(p===void 0&&(p={}),!l.current)return;if(typeof d=="number"){r.go(d);return}let y=bd(d,JSON.parse(o),s,p.relative==="path");t==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:Jr([e,y.pathname])),(p.replace?r.replace:r.push)(y,p.state,p)},[e,r,o,s,t])}const fP=$.createContext(null);function pP(t){let e=$.useContext(di).outlet;return e&&$.createElement(fP.Provider,{value:t},e)}function Dd(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=$.useContext(ci),{matches:i}=$.useContext(di),{pathname:s}=ma(),o=JSON.stringify(kd(i,r.v7_relativeSplatPath));return $.useMemo(()=>bd(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function mP(t,e,n,r){pa()||Te(!1);let{navigator:i}=$.useContext(ci),{matches:s}=$.useContext(di),o=s[s.length-1],l=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let d=ma(),p;p=d;let y=p.pathname||"/",w=y;if(u!=="/"){let N=u.replace(/^\//,"").split("/");w="/"+y.replace(/^\//,"").split("/").slice(N.length).join("/")}let S=ks(t,{pathname:w});return _P(S&&S.map(N=>Object.assign({},N,{params:Object.assign({},l,N.params),pathname:Jr([u,i.encodeLocation?i.encodeLocation(N.pathname).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?u:Jr([u,i.encodeLocation?i.encodeLocation(N.pathnameBase).pathname:N.pathnameBase])})),s,n,r)}function gP(){let t=SP(),e=xd(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return $.createElement($.Fragment,null,$.createElement("h2",null,"Unexpected Application Error!"),$.createElement("h3",{style:{fontStyle:"italic"}},e),n?$.createElement("pre",{style:i},n):null,null)}const yP=$.createElement(gP,null);class vP extends $.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?$.createElement(di.Provider,{value:this.props.routeContext},$.createElement(R0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function wP(t){let{routeContext:e,match:n,children:r}=t,i=$.useContext(Kl);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),$.createElement(di.Provider,{value:e},r)}function _P(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,l=(i=n)==null?void 0:i.errors;if(l!=null){let p=o.findIndex(y=>y.route.id&&(l==null?void 0:l[y.route.id])!==void 0);p>=0||Te(!1),o=o.slice(0,Math.min(o.length,p+1))}let u=!1,d=-1;if(n&&r&&r.v7_partialHydration)for(let p=0;p<o.length;p++){let y=o[p];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(d=p),y.route.id){let{loaderData:w,errors:S}=n,D=y.route.loader&&w[y.route.id]===void 0&&(!S||S[y.route.id]===void 0);if(y.route.lazy||D){u=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((p,y,w)=>{let S,D=!1,N=null,F=null;n&&(S=l&&y.route.id?l[y.route.id]:void 0,N=y.route.errorElement||yP,u&&(d<0&&w===0?(D=!0,F=null):d===w&&(D=!0,F=y.route.hydrateFallbackElement||null)));let R=e.concat(o.slice(0,w+1)),E=()=>{let A;return S?A=N:D?A=F:y.route.Component?A=$.createElement(y.route.Component,null):y.route.element?A=y.route.element:A=p,$.createElement(wP,{match:y,routeContext:{outlet:p,matches:R,isDataRoute:n!=null},children:A})};return n&&(y.route.ErrorBoundary||y.route.errorElement||w===0)?$.createElement(vP,{location:n.location,revalidation:n.revalidation,component:N,error:S,children:E(),routeContext:{outlet:null,matches:R,isDataRoute:!0}}):E()},null)}var b0=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(b0||{}),qc=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(qc||{});function EP(t){let e=$.useContext(Kl);return e||Te(!1),e}function TP(t){let e=$.useContext(Em);return e||Te(!1),e}function IP(t){let e=$.useContext(di);return e||Te(!1),e}function x0(t){let e=IP(),n=e.matches[e.matches.length-1];return n.route.id||Te(!1),n.route.id}function SP(){var t;let e=$.useContext(R0),n=TP(qc.UseRouteError),r=x0(qc.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function CP(){let{router:t}=EP(b0.UseNavigateStable),e=x0(qc.UseNavigateStable),n=$.useRef(!1);return k0(()=>{n.current=!0}),$.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Wc({fromRouteId:e},s)))},[t,e])}function UN(t){let{to:e,replace:n,state:r,relative:i}=t;pa()||Te(!1);let{future:s,static:o}=$.useContext(ci),{matches:l}=$.useContext(di),{pathname:u}=ma(),d=Im(),p=bd(e,kd(l,s.v7_relativeSplatPath),u,i==="path"),y=JSON.stringify(p);return $.useEffect(()=>d(JSON.parse(y),{replace:n,state:r,relative:i}),[d,y,i,n,r]),null}function PP(t){return pP(t.context)}function AP(t){let{basename:e="/",children:n=null,location:r,navigationType:i=vt.Pop,navigator:s,static:o=!1,future:l}=t;pa()&&Te(!1);let u=e.replace(/^\/*/,"/"),d=$.useMemo(()=>({basename:u,navigator:s,static:o,future:Wc({v7_relativeSplatPath:!1},l)}),[u,l,s,o]);typeof r=="string"&&(r=us(r));let{pathname:p="/",search:y="",hash:w="",state:S=null,key:D="default"}=r,N=$.useMemo(()=>{let F=ri(p,u);return F==null?null:{location:{pathname:F,search:y,hash:w,state:S,key:D},navigationType:i}},[u,p,y,w,S,D,i]);return N==null?null:$.createElement(ci.Provider,{value:d},$.createElement(Tm.Provider,{children:n,value:N}))}new Promise(()=>{});function RP(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:$.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:$.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:$.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ea(){return ea=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ea.apply(this,arguments)}function D0(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function kP(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function bP(t,e){return t.button===0&&(!e||e==="_self")&&!kP(t)}const xP=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],DP=["aria-current","caseSensitive","className","end","style","to","unstable_viewTransition","children"],NP="6";try{window.__reactRouterVersion=NP}catch{}function LP(t,e){return zC({basename:e==null?void 0:e.basename,future:ea({},e==null?void 0:e.future,{v7_prependBasename:!0}),history:hC({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||OP(),routes:t,mapRouteProperties:RP,unstable_dataStrategy:e==null?void 0:e.unstable_dataStrategy,unstable_patchRoutesOnNavigation:e==null?void 0:e.unstable_patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function OP(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=ea({},e,{errors:VP(e.errors)})),e}function VP(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new Hc(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let o=new s(i.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let s=new Error(i.message);s.stack="",n[r]=s}}else n[r]=i;return n}const N0=$.createContext({isTransitioning:!1}),MP=$.createContext(new Map),FP="startTransition",Hy=ZI[FP],UP="flushSync",Wy=dC[UP];function BP(t){Hy?Hy(t):t()}function $a(t){Wy?Wy(t):t()}let jP=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function zP(t){let{fallbackElement:e,router:n,future:r}=t,[i,s]=$.useState(n.state),[o,l]=$.useState(),[u,d]=$.useState({isTransitioning:!1}),[p,y]=$.useState(),[w,S]=$.useState(),[D,N]=$.useState(),F=$.useRef(new Map),{v7_startTransition:R}=r||{},E=$.useCallback(g=>{R?BP(g):g()},[R]),A=$.useCallback((g,T)=>{let{deletedFetchers:I,unstable_flushSync:b,unstable_viewTransitionOpts:O}=T;I.forEach(ve=>F.current.delete(ve)),g.fetchers.forEach((ve,We)=>{ve.data!==void 0&&F.current.set(We,ve.data)});let k=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!O||k){b?$a(()=>s(g)):E(()=>s(g));return}if(b){$a(()=>{w&&(p&&p.resolve(),w.skipTransition()),d({isTransitioning:!0,flushSync:!0,currentLocation:O.currentLocation,nextLocation:O.nextLocation})});let ve=n.window.document.startViewTransition(()=>{$a(()=>s(g))});ve.finished.finally(()=>{$a(()=>{y(void 0),S(void 0),l(void 0),d({isTransitioning:!1})})}),$a(()=>S(ve));return}w?(p&&p.resolve(),w.skipTransition(),N({state:g,currentLocation:O.currentLocation,nextLocation:O.nextLocation})):(l(g),d({isTransitioning:!0,flushSync:!1,currentLocation:O.currentLocation,nextLocation:O.nextLocation}))},[n.window,w,p,F,E]);$.useLayoutEffect(()=>n.subscribe(A),[n,A]),$.useEffect(()=>{u.isTransitioning&&!u.flushSync&&y(new jP)},[u]),$.useEffect(()=>{if(p&&o&&n.window){let g=o,T=p.promise,I=n.window.document.startViewTransition(async()=>{E(()=>s(g)),await T});I.finished.finally(()=>{y(void 0),S(void 0),l(void 0),d({isTransitioning:!1})}),S(I)}},[E,o,p,n.window]),$.useEffect(()=>{p&&o&&i.location.key===o.location.key&&p.resolve()},[p,w,i.location,o]),$.useEffect(()=>{!u.isTransitioning&&D&&(l(D.state),d({isTransitioning:!0,flushSync:!1,currentLocation:D.currentLocation,nextLocation:D.nextLocation}),N(void 0))},[u.isTransitioning,D]),$.useEffect(()=>{},[]);let M=$.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:g=>n.navigate(g),push:(g,T,I)=>n.navigate(g,{state:T,preventScrollReset:I==null?void 0:I.preventScrollReset}),replace:(g,T,I)=>n.navigate(g,{replace:!0,state:T,preventScrollReset:I==null?void 0:I.preventScrollReset})}),[n]),H=n.basename||"/",j=$.useMemo(()=>({router:n,navigator:M,static:!1,basename:H}),[n,M,H]),C=$.useMemo(()=>({v7_relativeSplatPath:n.future.v7_relativeSplatPath}),[n.future.v7_relativeSplatPath]);return $.createElement($.Fragment,null,$.createElement(Kl.Provider,{value:j},$.createElement(Em.Provider,{value:i},$.createElement(MP.Provider,{value:F.current},$.createElement(N0.Provider,{value:u},$.createElement(AP,{basename:H,location:i.location,navigationType:i.historyAction,navigator:M,future:C},i.initialized||n.future.v7_partialHydration?$.createElement($P,{routes:n.routes,future:n.future,state:i}):e))))),null)}const $P=$.memo(HP);function HP(t){let{routes:e,future:n,state:r}=t;return mP(e,void 0,r,n)}const WP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",qP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Yf=$.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:l,target:u,to:d,preventScrollReset:p,unstable_viewTransition:y}=e,w=D0(e,xP),{basename:S}=$.useContext(ci),D,N=!1;if(typeof d=="string"&&qP.test(d)&&(D=d,WP))try{let A=new URL(window.location.href),M=d.startsWith("//")?new URL(A.protocol+d):new URL(d),H=ri(M.pathname,S);M.origin===A.origin&&H!=null?d=H+M.search+M.hash:N=!0}catch{}let F=dP(d,{relative:i}),R=GP(d,{replace:o,state:l,target:u,preventScrollReset:p,relative:i,unstable_viewTransition:y});function E(A){r&&r(A),A.defaultPrevented||R(A)}return $.createElement("a",ea({},w,{href:D||F,onClick:N||s?r:E,ref:n,target:u}))}),jN=$.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:o=!1,style:l,to:u,unstable_viewTransition:d,children:p}=e,y=D0(e,DP),w=Dd(u,{relative:y.relative}),S=ma(),D=$.useContext(Em),{navigator:N,basename:F}=$.useContext(ci),R=D!=null&&QP(w)&&d===!0,E=N.encodeLocation?N.encodeLocation(w).pathname:w.pathname,A=S.pathname,M=D&&D.navigation&&D.navigation.location?D.navigation.location.pathname:null;i||(A=A.toLowerCase(),M=M?M.toLowerCase():null,E=E.toLowerCase()),M&&F&&(M=ri(M,F)||M);const H=E!=="/"&&E.endsWith("/")?E.length-1:E.length;let j=A===E||!o&&A.startsWith(E)&&A.charAt(H)==="/",C=M!=null&&(M===E||!o&&M.startsWith(E)&&M.charAt(E.length)==="/"),g={isActive:j,isPending:C,isTransitioning:R},T=j?r:void 0,I;typeof s=="function"?I=s(g):I=[s,j?"active":null,C?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let b=typeof l=="function"?l(g):l;return $.createElement(Yf,ea({},y,{"aria-current":T,className:I,ref:n,style:b,to:u,unstable_viewTransition:d}),typeof p=="function"?p(g):p)});var Xf;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Xf||(Xf={}));var qy;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(qy||(qy={}));function KP(t){let e=$.useContext(Kl);return e||Te(!1),e}function GP(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:l}=e===void 0?{}:e,u=Im(),d=ma(),p=Dd(t,{relative:o});return $.useCallback(y=>{if(bP(y,n)){y.preventDefault();let w=r!==void 0?r:$s(d)===$s(p);u(t,{replace:w,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:l})}},[d,u,p,r,i,n,t,s,o,l])}function QP(t,e){e===void 0&&(e={});let n=$.useContext(N0);n==null&&Te(!1);let{basename:r}=KP(Xf.useViewTransitionState),i=Dd(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=ri(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=ri(n.nextLocation.pathname,r)||n.nextLocation.pathname;return $c(i.pathname,o)!=null||$c(i.pathname,s)!=null}var L0={},ta={};Object.defineProperty(ta,"__esModule",{value:!0});ta.cssValue=ta.parseLengthAndUnit=void 0;var YP={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function O0(t){if(typeof t=="number")return{value:t,unit:"px"};var e,n=(t.match(/^[0-9.]*/)||"").toString();n.includes(".")?e=parseFloat(n):e=parseInt(n,10);var r=(t.match(/[^0-9]*$/)||"").toString();return YP[r]?{value:e,unit:r}:(console.warn("React Spinners: ".concat(t," is not a valid css value. Defaulting to ").concat(e,"px.")),{value:e,unit:"px"})}ta.parseLengthAndUnit=O0;function XP(t){var e=O0(t);return"".concat(e.value).concat(e.unit)}ta.cssValue=XP;var Nd={};Object.defineProperty(Nd,"__esModule",{value:!0});Nd.createAnimation=void 0;var JP=function(t,e,n){var r="react-spinners-".concat(t,"-").concat(n);if(typeof window>"u"||!window.document)return r;var i=document.createElement("style");document.head.appendChild(i);var s=i.sheet,o=`
    @keyframes `.concat(r,` {
      `).concat(e,`
    }
  `);return s&&s.insertRule(o,0),r};Nd.createAnimation=JP;var Kc=Vt&&Vt.__assign||function(){return Kc=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Kc.apply(this,arguments)},ZP=Vt&&Vt.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),eA=Vt&&Vt.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),tA=Vt&&Vt.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.prototype.hasOwnProperty.call(t,n)&&ZP(e,t,n);return eA(e,t),e},nA=Vt&&Vt.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};Object.defineProperty(L0,"__esModule",{value:!0});var Hu=tA($),rA=ta,iA=Nd,sA=(0,iA.createAnimation)("ClimbingBoxLoader",`0% {transform:translate(0, -1em) rotate(-45deg)}
  5% {transform:translate(0, -1em) rotate(-50deg)}
  20% {transform:translate(1em, -2em) rotate(47deg)}
  25% {transform:translate(1em, -2em) rotate(45deg)}
  30% {transform:translate(1em, -2em) rotate(40deg)}
  45% {transform:translate(2em, -3em) rotate(137deg)}
  50% {transform:translate(2em, -3em) rotate(135deg)}
  55% {transform:translate(2em, -3em) rotate(130deg)}
  70% {transform:translate(3em, -4em) rotate(217deg)}
  75% {transform:translate(3em, -4em) rotate(220deg)}
  100% {transform:translate(0, -1em) rotate(-225deg)}`,"climbingBox");function oA(t){var e=t.loading,n=e===void 0?!0:e,r=t.color,i=r===void 0?"#000000":r,s=t.speedMultiplier,o=s===void 0?1:s,l=t.cssOverride,u=l===void 0?{}:l,d=t.size,p=d===void 0?15:d,y=nA(t,["loading","color","speedMultiplier","cssOverride","size"]),w=Kc({display:"inherit",position:"relative",width:"7.1em",height:"7.1em"},u),S={position:"absolute",top:"50%",left:"50%",marginTop:"-2.7em",marginLeft:"-2.7em",width:"5.4em",height:"5.4em",fontSize:(0,rA.cssValue)(p)},D={position:"absolute",left:"0",bottom:"-0.1em",height:"1em",width:"1em",backgroundColor:"transparent",borderRadius:"15%",border:"0.25em solid ".concat(i),transform:"translate(0, -1em) rotate(-45deg)",animationFillMode:"both",animation:"".concat(sA," ").concat(2.5/o,"s infinite cubic-bezier(0.79, 0, 0.47, 0.97)")},N={position:"absolute",width:"7.1em",height:"7.1em",top:"1.7em",left:"1.7em",borderLeft:"0.25em solid ".concat(i),transform:"rotate(45deg)"};return n?Hu.createElement("span",Kc({style:w},y),Hu.createElement("span",{style:S},Hu.createElement("span",{style:D}),Hu.createElement("span",{style:N}))):null}var aA=L0.default=oA;function $r(){return ae.jsx(ae.Fragment,{children:ae.jsxs("div",{className:"z-10 flex items-center justify-center w-full h-full bg-green-400 text-neutral-200 absolute",children:[ae.jsx(aA,{color:"#ffffff","aria-label":"Loading Spinner","data-testid":"loader"}),";"]})})}var Ky={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V0=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},lA=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],l=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},M0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,l=o?t[i+1]:0,u=i+2<t.length,d=u?t[i+2]:0,p=s>>2,y=(s&3)<<4|l>>4;let w=(l&15)<<2|d>>6,S=d&63;u||(S=64,o||(w=64)),r.push(n[p],n[y],n[w],n[S])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(V0(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):lA(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const d=i<t.length?n[t.charAt(i)]:64;++i;const y=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||l==null||d==null||y==null)throw new uA;const w=s<<2|l>>4;if(r.push(w),d!==64){const S=l<<4&240|d>>2;if(r.push(S),y!==64){const D=d<<6&192|y;r.push(D)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class uA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const cA=function(t){const e=V0(t);return M0.encodeByteArray(e,!0)},Gc=function(t){return cA(t).replace(/\./g,"")},F0=function(t){try{return M0.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hA=()=>dA().__FIREBASE_DEFAULTS__,fA=()=>{if(typeof process>"u"||typeof Ky>"u")return;const t=Ky.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},pA=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&F0(t[1]);return e&&JSON.parse(e)},Ld=()=>{try{return hA()||fA()||pA()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},U0=t=>{var e,n;return(n=(e=Ld())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},mA=t=>{const e=U0(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},B0=()=>{var t;return(t=Ld())===null||t===void 0?void 0:t.config},j0=t=>{var e;return(e=Ld())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yA(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Gc(JSON.stringify(n)),Gc(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function en(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function vA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(en())}function wA(){var t;const e=(t=Ld())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function _A(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function EA(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function TA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function IA(){const t=en();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function SA(){return!wA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function CA(){try{return typeof indexedDB=="object"}catch{return!1}}function PA(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AA="FirebaseError";class hi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=AA,Object.setPrototypeOf(this,hi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Gl.prototype.create)}}class Gl{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?RA(s,r):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new hi(i,l,r)}}function RA(t,e){return t.replace(kA,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const kA=/\{\$([^}]+)}/g;function bA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Qc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(Gy(s)&&Gy(o)){if(!Qc(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Gy(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ql(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Qa(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Ya(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function xA(t,e){const n=new DA(t,e);return n.subscribe.bind(n)}class DA{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");NA(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=$h),i.error===void 0&&(i.error=$h),i.complete===void 0&&(i.complete=$h);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function NA(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function $h(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _t(t){return t&&t._delegate?t._delegate:t}class Hs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LA{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new gA;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(VA(e))try{this.getOrInitializeService({instanceIdentifier:Rs})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Rs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Rs){return this.instances.has(e)}getOptions(e=Rs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:OA(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Rs){return this.component?this.component.multipleInstances?e:Rs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function OA(t){return t===Rs?void 0:t}function VA(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new LA(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Pe||(Pe={}));const FA={debug:Pe.DEBUG,verbose:Pe.VERBOSE,info:Pe.INFO,warn:Pe.WARN,error:Pe.ERROR,silent:Pe.SILENT},UA=Pe.INFO,BA={[Pe.DEBUG]:"log",[Pe.VERBOSE]:"log",[Pe.INFO]:"info",[Pe.WARN]:"warn",[Pe.ERROR]:"error"},jA=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=BA[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Sm{constructor(e){this.name=e,this._logLevel=UA,this._logHandler=jA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?FA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pe.DEBUG,...e),this._logHandler(this,Pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pe.VERBOSE,...e),this._logHandler(this,Pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pe.INFO,...e),this._logHandler(this,Pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pe.WARN,...e),this._logHandler(this,Pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pe.ERROR,...e),this._logHandler(this,Pe.ERROR,...e)}}const zA=(t,e)=>e.some(n=>t instanceof n);let Qy,Yy;function $A(){return Qy||(Qy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function HA(){return Yy||(Yy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const z0=new WeakMap,Jf=new WeakMap,$0=new WeakMap,Hh=new WeakMap,Cm=new WeakMap;function WA(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Qi(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&z0.set(n,t)}).catch(()=>{}),Cm.set(e,t),e}function qA(t){if(Jf.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Jf.set(t,e)}let Zf={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Jf.get(t);if(e==="objectStoreNames")return t.objectStoreNames||$0.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Qi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function KA(t){Zf=t(Zf)}function GA(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Wh(this),e,...n);return $0.set(r,e.sort?e.sort():[e]),Qi(r)}:HA().includes(t)?function(...e){return t.apply(Wh(this),e),Qi(z0.get(this))}:function(...e){return Qi(t.apply(Wh(this),e))}}function QA(t){return typeof t=="function"?GA(t):(t instanceof IDBTransaction&&qA(t),zA(t,$A())?new Proxy(t,Zf):t)}function Qi(t){if(t instanceof IDBRequest)return WA(t);if(Hh.has(t))return Hh.get(t);const e=QA(t);return e!==t&&(Hh.set(t,e),Cm.set(e,t)),e}const Wh=t=>Cm.get(t);function YA(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),l=Qi(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Qi(o.result),u.oldVersion,u.newVersion,Qi(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),l}const XA=["get","getKey","getAll","getAllKeys","count"],JA=["put","add","delete","clear"],qh=new Map;function Xy(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(qh.get(e))return qh.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=JA.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||XA.includes(n)))return;const s=async function(o,...l){const u=this.transaction(o,i?"readwrite":"readonly");let d=u.store;return r&&(d=d.index(l.shift())),(await Promise.all([d[n](...l),i&&u.done]))[0]};return qh.set(e,s),s}KA(t=>({...t,get:(e,n,r)=>Xy(e,n)||t.get(e,n,r),has:(e,n)=>!!Xy(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(eR(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function eR(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ep="@firebase/app",Jy="0.10.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ii=new Sm("@firebase/app"),tR="@firebase/app-compat",nR="@firebase/analytics-compat",rR="@firebase/analytics",iR="@firebase/app-check-compat",sR="@firebase/app-check",oR="@firebase/auth",aR="@firebase/auth-compat",lR="@firebase/database",uR="@firebase/data-connect",cR="@firebase/database-compat",dR="@firebase/functions",hR="@firebase/functions-compat",fR="@firebase/installations",pR="@firebase/installations-compat",mR="@firebase/messaging",gR="@firebase/messaging-compat",yR="@firebase/performance",vR="@firebase/performance-compat",wR="@firebase/remote-config",_R="@firebase/remote-config-compat",ER="@firebase/storage",TR="@firebase/storage-compat",IR="@firebase/firestore",SR="@firebase/vertexai",CR="@firebase/firestore-compat",PR="firebase",AR="11.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tp="[DEFAULT]",RR={[ep]:"fire-core",[tR]:"fire-core-compat",[rR]:"fire-analytics",[nR]:"fire-analytics-compat",[sR]:"fire-app-check",[iR]:"fire-app-check-compat",[oR]:"fire-auth",[aR]:"fire-auth-compat",[lR]:"fire-rtdb",[uR]:"fire-data-connect",[cR]:"fire-rtdb-compat",[dR]:"fire-fn",[hR]:"fire-fn-compat",[fR]:"fire-iid",[pR]:"fire-iid-compat",[mR]:"fire-fcm",[gR]:"fire-fcm-compat",[yR]:"fire-perf",[vR]:"fire-perf-compat",[wR]:"fire-rc",[_R]:"fire-rc-compat",[ER]:"fire-gcs",[TR]:"fire-gcs-compat",[IR]:"fire-fst",[CR]:"fire-fst-compat",[SR]:"fire-vertex","fire-js":"fire-js",[PR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yc=new Map,kR=new Map,np=new Map;function Zy(t,e){try{t.container.addComponent(e)}catch(n){ii.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function na(t){const e=t.name;if(np.has(e))return ii.debug(`There were multiple attempts to register component ${e}.`),!1;np.set(e,t);for(const n of Yc.values())Zy(n,t);for(const n of kR.values())Zy(n,t);return!0}function Pm(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function sr(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Yi=new Gl("app","Firebase",bR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Hs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Yi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ga=AR;function H0(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:tp,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Yi.create("bad-app-name",{appName:String(i)});if(n||(n=B0()),!n)throw Yi.create("no-options");const s=Yc.get(i);if(s){if(Qc(n,s.options)&&Qc(r,s.config))return s;throw Yi.create("duplicate-app",{appName:i})}const o=new MA(i);for(const u of np.values())o.addComponent(u);const l=new xR(n,r,o);return Yc.set(i,l),l}function W0(t=tp){const e=Yc.get(t);if(!e&&t===tp&&B0())return H0();if(!e)throw Yi.create("no-app",{appName:t});return e}function Xi(t,e,n){var r;let i=(r=RR[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const l=[`Unable to register library "${i}" with version "${e}":`];s&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ii.warn(l.join(" "));return}na(new Hs(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DR="firebase-heartbeat-database",NR=1,Nl="firebase-heartbeat-store";let Kh=null;function q0(){return Kh||(Kh=YA(DR,NR,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Nl)}catch(n){console.warn(n)}}}}).catch(t=>{throw Yi.create("idb-open",{originalErrorMessage:t.message})})),Kh}async function LR(t){try{const n=(await q0()).transaction(Nl),r=await n.objectStore(Nl).get(K0(t));return await n.done,r}catch(e){if(e instanceof hi)ii.warn(e.message);else{const n=Yi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ii.warn(n.message)}}}async function ev(t,e){try{const r=(await q0()).transaction(Nl,"readwrite");await r.objectStore(Nl).put(e,K0(t)),await r.done}catch(n){if(n instanceof hi)ii.warn(n.message);else{const r=Yi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ii.warn(r.message)}}}function K0(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OR=1024,VR=30*24*60*60*1e3;class MR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new UR(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=tv();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const l=new Date(o.date).valueOf();return Date.now()-l<=VR}),this._storage.overwrite(this._heartbeatsCache))}catch(r){ii.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=tv(),{heartbeatsToSend:r,unsentEntries:i}=FR(this._heartbeatsCache.heartbeats),s=Gc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return ii.warn(n),""}}}function tv(){return new Date().toISOString().substring(0,10)}function FR(t,e=OR){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),nv(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),nv(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class UR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return CA()?PA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await LR(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return ev(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return ev(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function nv(t){return Gc(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BR(t){na(new Hs("platform-logger",e=>new ZA(e),"PRIVATE")),na(new Hs("heartbeat",e=>new MR(e),"PRIVATE")),Xi(ep,Jy,t),Xi(ep,Jy,"esm2017"),Xi("fire-js","")}BR("");var jR="firebase",zR="11.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xi(jR,zR,"app");function Am(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function G0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const $R=G0,Q0=new Gl("auth","Firebase",G0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xc=new Sm("@firebase/auth");function HR(t,...e){Xc.logLevel<=Pe.WARN&&Xc.warn(`Auth (${ga}): ${t}`,...e)}function cc(t,...e){Xc.logLevel<=Pe.ERROR&&Xc.error(`Auth (${ga}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ur(t,...e){throw Rm(t,...e)}function Pr(t,...e){return Rm(t,...e)}function Y0(t,e,n){const r=Object.assign(Object.assign({},$R()),{[e]:n});return new Gl("auth","Firebase",r).create(e,{appName:t.name})}function Ar(t){return Y0(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Rm(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Q0.create(t,...e)}function pe(t,e,...n){if(!t)throw Rm(e,...n)}function Gr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw cc(e),new Error(e)}function si(t,e){t||Gr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rp(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function WR(){return rv()==="http:"||rv()==="https:"}function rv(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(WR()||EA()||"connection"in navigator)?navigator.onLine:!0}function KR(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl{constructor(e,n){this.shortDelay=e,this.longDelay=n,si(n>e,"Short delay should be less than long delay!"),this.isMobile=vA()||TA()}get(){return qR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function km(t,e){si(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X0{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Gr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Gr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Gr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QR=new Yl(3e4,6e4);function fi(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function cr(t,e,n,r,i={}){return J0(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const l=Ql(Object.assign({key:t.config.apiKey},o)).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const d=Object.assign({method:e,headers:u},s);return _A()||(d.referrerPolicy="no-referrer"),X0.fetch()(Z0(t,t.config.apiHost,n,l),d)})}async function J0(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},GR),e);try{const i=new XR(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Wu(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const l=s.ok?o.errorMessage:o.error.message,[u,d]=l.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Wu(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw Wu(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw Wu(t,"user-disabled",o);const p=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw Y0(t,p,d);ur(t,p)}}catch(i){if(i instanceof hi)throw i;ur(t,"network-request-failed",{message:String(i)})}}async function Xl(t,e,n,r,i={}){const s=await cr(t,e,n,r,i);return"mfaPendingCredential"in s&&ur(t,"multi-factor-auth-required",{_serverResponse:s}),s}function Z0(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?km(t.config,i):`${t.config.apiScheme}://${i}`}function YR(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class XR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Pr(this.auth,"network-request-failed")),QR.get())})}}function Wu(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Pr(t,e,r);return i.customData._tokenResponse=n,i}function iv(t){return t!==void 0&&t.enterprise!==void 0}class JR{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return YR(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function ZR(t,e){return cr(t,"GET","/v2/recaptchaConfig",fi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ek(t,e){return cr(t,"POST","/v1/accounts:delete",e)}async function eE(t,e){return cr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ul(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function tk(t,e=!1){const n=_t(t),r=await n.getIdToken(e),i=bm(r);pe(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:ul(Gh(i.auth_time)),issuedAtTime:ul(Gh(i.iat)),expirationTime:ul(Gh(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Gh(t){return Number(t)*1e3}function bm(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return cc("JWT malformed, contained fewer than 3 sections"),null;try{const i=F0(n);return i?JSON.parse(i):(cc("Failed to decode base64 JWT payload"),null)}catch(i){return cc("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function sv(t){const e=bm(t);return pe(e,"internal-error"),pe(typeof e.exp<"u","internal-error"),pe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ws(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof hi&&nk(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function nk({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rk{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ip{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ul(this.lastLoginAt),this.creationTime=ul(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jc(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Ws(t,eE(n,{idToken:r}));pe(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?tE(s.providerUserInfo):[],l=sk(t.providerData,o),u=t.isAnonymous,d=!(t.email&&s.passwordHash)&&!(l!=null&&l.length),p=u?d:!1,y={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new ip(s.createdAt,s.lastLoginAt),isAnonymous:p};Object.assign(t,y)}async function ik(t){const e=_t(t);await Jc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function sk(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function tE(t){return t.map(e=>{var{providerId:n}=e,r=Am(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ok(t,e){const n=await J0(t,{},async()=>{const r=Ql({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=Z0(t,i,"/v1/token",`key=${s}`),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",X0.fetch()(o,{method:"POST",headers:l,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function ak(t,e){return cr(t,"POST","/v2/accounts:revokeToken",fi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){pe(e.idToken,"internal-error"),pe(typeof e.idToken<"u","internal-error"),pe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):sv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){pe(e.length!==0,"internal-error");const n=sv(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(pe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await ok(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new zo;return r&&(pe(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(pe(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(pe(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new zo,this.toJSON())}_performRefresh(){return Gr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ai(t,e){pe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Qr{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Am(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new rk(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new ip(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Ws(this,this.stsTokenManager.getToken(this.auth,e));return pe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return tk(this,e)}reload(){return ik(this)}_assign(e){this!==e&&(pe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Qr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){pe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Jc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(sr(this.auth.app))return Promise.reject(Ar(this.auth));const e=await this.getIdToken();return await Ws(this,ek(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,l,u,d,p;const y=(r=n.displayName)!==null&&r!==void 0?r:void 0,w=(i=n.email)!==null&&i!==void 0?i:void 0,S=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,D=(o=n.photoURL)!==null&&o!==void 0?o:void 0,N=(l=n.tenantId)!==null&&l!==void 0?l:void 0,F=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,R=(d=n.createdAt)!==null&&d!==void 0?d:void 0,E=(p=n.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:A,emailVerified:M,isAnonymous:H,providerData:j,stsTokenManager:C}=n;pe(A&&C,e,"internal-error");const g=zo.fromJSON(this.name,C);pe(typeof A=="string",e,"internal-error"),Ai(y,e.name),Ai(w,e.name),pe(typeof M=="boolean",e,"internal-error"),pe(typeof H=="boolean",e,"internal-error"),Ai(S,e.name),Ai(D,e.name),Ai(N,e.name),Ai(F,e.name),Ai(R,e.name),Ai(E,e.name);const T=new Qr({uid:A,auth:e,email:w,emailVerified:M,displayName:y,isAnonymous:H,photoURL:D,phoneNumber:S,tenantId:N,stsTokenManager:g,createdAt:R,lastLoginAt:E});return j&&Array.isArray(j)&&(T.providerData=j.map(I=>Object.assign({},I))),F&&(T._redirectEventId=F),T}static async _fromIdTokenResponse(e,n,r=!1){const i=new zo;i.updateFromServerResponse(n);const s=new Qr({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Jc(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];pe(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?tE(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),l=new zo;l.updateFromIdToken(r);const u=new Qr({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:o}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new ip(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(u,d),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ov=new Map;function Yr(t){si(t instanceof Function,"Expected a class definition");let e=ov.get(t);return e?(si(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,ov.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}nE.type="NONE";const av=nE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dc(t,e,n){return`firebase:${t}:${e}:${n}`}class $o{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=dc(this.userKey,i.apiKey,s),this.fullPersistenceKey=dc("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Qr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new $o(Yr(av),e,r);const i=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let s=i[0]||Yr(av);const o=dc(r,e.config.apiKey,e.name);let l=null;for(const d of n)try{const p=await d._get(o);if(p){const y=Qr._fromJSON(e,p);d!==s&&(l=y),s=d;break}}catch{}const u=i.filter(d=>d._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new $o(s,e,r):(s=u[0],l&&await s._set(o,l.toJSON()),await Promise.all(n.map(async d=>{if(d!==s)try{await d._remove(o)}catch{}})),new $o(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lv(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(oE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(rE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(lE(e))return"Blackberry";if(uE(e))return"Webos";if(iE(e))return"Safari";if((e.includes("chrome/")||sE(e))&&!e.includes("edge/"))return"Chrome";if(aE(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function rE(t=en()){return/firefox\//i.test(t)}function iE(t=en()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function sE(t=en()){return/crios\//i.test(t)}function oE(t=en()){return/iemobile/i.test(t)}function aE(t=en()){return/android/i.test(t)}function lE(t=en()){return/blackberry/i.test(t)}function uE(t=en()){return/webos/i.test(t)}function xm(t=en()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function lk(t=en()){var e;return xm(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function uk(){return IA()&&document.documentMode===10}function cE(t=en()){return xm(t)||aE(t)||uE(t)||lE(t)||/windows phone/i.test(t)||oE(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dE(t,e=[]){let n;switch(t){case"Browser":n=lv(en());break;case"Worker":n=`${lv(en())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ga}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ck{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,l)=>{try{const u=e(s);o(u)}catch(u){l(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dk(t,e={}){return cr(t,"GET","/v2/passwordPolicy",fi(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hk=6;class fk{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:hk,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,l;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(l=u.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),u}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pk{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new uv(this),this.idTokenSubscription=new uv(this),this.beforeStateQueue=new ck(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Q0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Yr(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await $o.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await eE(this,{idToken:e}),r=await Qr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(sr(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=i==null?void 0:i._redirectEventId,u=await this.tryRedirectSignIn(e);(!o||o===l)&&(u!=null&&u.user)&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return pe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Jc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=KR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(sr(this.app))return Promise.reject(Ar(this));const n=e?_t(e):null;return n&&pe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&pe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return sr(this.app)?Promise.reject(Ar(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return sr(this.app)?Promise.reject(Ar(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Yr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await dk(this),n=new fk(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Gl("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await ak(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Yr(e)||this._popupRedirectResolver;pe(n,this,"argument-error"),this.redirectPersistenceManager=await $o.create(this,[Yr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(pe(l,this,"internal-error"),l.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,r,i);return()=>{o=!0,u()}}else{const u=e.addObserver(n);return()=>{o=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return pe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=dE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&HR(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function cs(t){return _t(t)}class uv{constructor(e){this.auth=e,this.observer=null,this.addObserver=xA(n=>this.observer=n)}get next(){return pe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Od={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function mk(t){Od=t}function hE(t){return Od.loadJS(t)}function gk(){return Od.recaptchaEnterpriseScript}function yk(){return Od.gapiScript}function vk(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class wk{constructor(){this.enterprise=new _k}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class _k{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const Ek="recaptcha-enterprise",fE="NO_RECAPTCHA";class Tk{constructor(e){this.type=Ek,this.auth=cs(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,l)=>{ZR(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const d=new JR(u);return s.tenantId==null?s._agentRecaptchaConfig=d:s._tenantRecaptchaConfigs[s.tenantId]=d,o(d.siteKey)}}).catch(u=>{l(u)})})}function i(s,o,l){const u=window.grecaptcha;iv(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:e}).then(d=>{o(d)}).catch(()=>{o(fE)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new wk().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{r(this.auth).then(l=>{if(!n&&iv(window.grecaptcha))i(l,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=gk();u.length!==0&&(u+=l),hE(u).then(()=>{i(l,s,o)}).catch(d=>{o(d)})}}).catch(l=>{o(l)})})}}async function cv(t,e,n,r=!1,i=!1){const s=new Tk(t);let o;if(i)o=fE;else try{o=await s.verify(n)}catch{o=await s.verify(n,!0)}const l=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const u=l.phoneEnrollmentInfo.phoneNumber,d=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:d,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const u=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return r?Object.assign(l,{captchaResp:o}):Object.assign(l,{captchaResponse:o}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function Zc(t,e,n,r,i){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await cv(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await cv(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ik(t,e){const n=Pm(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Qc(s,e??{}))return i;ur(i,"already-initialized")}return n.initialize({options:e})}function Sk(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Yr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Ck(t,e,n){const r=cs(t);pe(r._canInitEmulator,r,"emulator-config-failed"),pe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=pE(e),{host:o,port:l}=Pk(e),u=l===null?"":`:${l}`;r.config.emulator={url:`${s}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:l,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),Ak()}function pE(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Pk(t){const e=pE(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:dv(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:dv(o)}}}function dv(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Ak(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Gr("not implemented")}_getIdTokenResponse(e){return Gr("not implemented")}_linkToIdToken(e,n){return Gr("not implemented")}_getReauthenticationResolver(e){return Gr("not implemented")}}async function Rk(t,e){return cr(t,"POST","/v1/accounts:update",e)}async function kk(t,e){return cr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bk(t,e){return Xl(t,"POST","/v1/accounts:signInWithPassword",fi(t,e))}async function mE(t,e){return cr(t,"POST","/v1/accounts:sendOobCode",fi(t,e))}async function xk(t,e){return mE(t,e)}async function Dk(t,e){return mE(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nk(t,e){return Xl(t,"POST","/v1/accounts:signInWithEmailLink",fi(t,e))}async function Lk(t,e){return Xl(t,"POST","/v1/accounts:signInWithEmailLink",fi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll extends Dm{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Ll(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Ll(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Zc(e,n,"signInWithPassword",bk);case"emailLink":return Nk(e,{email:this._email,oobCode:this._password});default:ur(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Zc(e,r,"signUpPassword",kk);case"emailLink":return Lk(e,{idToken:n,email:this._email,oobCode:this._password});default:ur(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ho(t,e){return Xl(t,"POST","/v1/accounts:signInWithIdp",fi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ok="http://localhost";class qs extends Dm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new qs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ur("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Am(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new qs(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Ho(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ho(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ho(e,n)}buildRequest(){const e={requestUri:Ok,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ql(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vk(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Mk(t){const e=Qa(Ya(t)).link,n=e?Qa(Ya(e)).deep_link_id:null,r=Qa(Ya(t)).deep_link_id;return(r?Qa(Ya(r)).link:null)||r||n||e||t}class Nm{constructor(e){var n,r,i,s,o,l;const u=Qa(Ya(e)),d=(n=u.apiKey)!==null&&n!==void 0?n:null,p=(r=u.oobCode)!==null&&r!==void 0?r:null,y=Vk((i=u.mode)!==null&&i!==void 0?i:null);pe(d&&p&&y,"argument-error"),this.apiKey=d,this.operation=y,this.code=p,this.continueUrl=(s=u.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=u.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(l=u.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){const n=Mk(e);try{return new Nm(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya{constructor(){this.providerId=ya.PROVIDER_ID}static credential(e,n){return Ll._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Nm.parseLink(n);return pe(r,"argument-error"),Ll._fromEmailAndCode(e,r.code,r.tenantId)}}ya.PROVIDER_ID="password";ya.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ya.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl extends gE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni extends Jl{constructor(){super("facebook.com")}static credential(e){return qs._fromParams({providerId:Ni.PROVIDER_ID,signInMethod:Ni.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ni.credentialFromTaggedObject(e)}static credentialFromError(e){return Ni.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ni.credential(e.oauthAccessToken)}catch{return null}}}Ni.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ni.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li extends Jl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return qs._fromParams({providerId:Li.PROVIDER_ID,signInMethod:Li.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Li.credentialFromTaggedObject(e)}static credentialFromError(e){return Li.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Li.credential(n,r)}catch{return null}}}Li.GOOGLE_SIGN_IN_METHOD="google.com";Li.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi extends Jl{constructor(){super("github.com")}static credential(e){return qs._fromParams({providerId:Oi.PROVIDER_ID,signInMethod:Oi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Oi.credentialFromTaggedObject(e)}static credentialFromError(e){return Oi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Oi.credential(e.oauthAccessToken)}catch{return null}}}Oi.GITHUB_SIGN_IN_METHOD="github.com";Oi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi extends Jl{constructor(){super("twitter.com")}static credential(e,n){return qs._fromParams({providerId:Vi.PROVIDER_ID,signInMethod:Vi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Vi.credentialFromTaggedObject(e)}static credentialFromError(e){return Vi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Vi.credential(n,r)}catch{return null}}}Vi.TWITTER_SIGN_IN_METHOD="twitter.com";Vi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fk(t,e){return Xl(t,"POST","/v1/accounts:signUp",fi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Qr._fromIdTokenResponse(e,r,i),o=hv(r);return new Ks({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=hv(r);return new Ks({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function hv(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed extends hi{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,ed.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new ed(e,n,r,i)}}function yE(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?ed._fromErrorAndOperation(t,s,e,r):s})}async function Uk(t,e,n=!1){const r=await Ws(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ks._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bk(t,e,n=!1){const{auth:r}=t;if(sr(r.app))return Promise.reject(Ar(r));const i="reauthenticate";try{const s=await Ws(t,yE(r,i,e,t),n);pe(s.idToken,r,"internal-error");const o=bm(s.idToken);pe(o,r,"internal-error");const{sub:l}=o;return pe(t.uid===l,r,"user-mismatch"),Ks._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&ur(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vE(t,e,n=!1){if(sr(t.app))return Promise.reject(Ar(t));const r="signIn",i=await yE(t,r,e),s=await Ks._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function jk(t,e){return vE(cs(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wE(t){const e=cs(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function zk(t,e,n){const r=cs(t);await Zc(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",Dk)}async function $k(t,e,n){if(sr(t.app))return Promise.reject(Ar(t));const r=cs(t),o=await Zc(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Fk).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&wE(t),u}),l=await Ks._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(l.user),l}function Hk(t,e,n){return sr(t.app)?Promise.reject(Ar(t)):jk(_t(t),ya.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&wE(t),r})}async function Wk(t,e){const n=_t(t),i={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()},{email:s}=await xk(n.auth,i);s!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qk(t,e){return cr(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zN(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=_t(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await Ws(r,qk(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const l=r.providerData.find(({providerId:u})=>u==="password");l&&(l.displayName=r.displayName,l.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function Kk(t,e){const n=_t(t);return sr(n.auth.app)?Promise.reject(Ar(n.auth)):_E(n,e,null)}function Gk(t,e){return _E(_t(t),null,e)}async function _E(t,e,n){const{auth:r}=t,s={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(s.email=e),n&&(s.password=n);const o=await Ws(t,Rk(r,s));await t._updateTokensIfNecessary(o,!0)}function Qk(t,e,n,r){return _t(t).onIdTokenChanged(e,n,r)}function Yk(t,e,n){return _t(t).beforeAuthStateChanged(e,n)}function Xk(t,e,n,r){return _t(t).onAuthStateChanged(e,n,r)}function Jk(t){return _t(t).signOut()}const td="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EE{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(td,"1"),this.storage.removeItem(td),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zk=1e3,e2=10;class TE extends EE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=cE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,l,u)=>{this.notifyListeners(o,u)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);uk()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,e2):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Zk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}TE.type="LOCAL";const t2=TE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IE extends EE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}IE.type="SESSION";const SE=IE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n2(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Vd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const l=Array.from(o).map(async d=>d(n.origin,s)),u=await n2(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Vd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lm(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((l,u)=>{const d=Lm("",20);i.port1.start();const p=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(y){const w=y;if(w.data.eventId===d)switch(w.data.status){case"ack":clearTimeout(p),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),l(w.data.response);break;default:clearTimeout(p),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rr(){return window}function i2(t){Rr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CE(){return typeof Rr().WorkerGlobalScope<"u"&&typeof Rr().importScripts=="function"}async function s2(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function o2(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function a2(){return CE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PE="firebaseLocalStorageDb",l2=1,nd="firebaseLocalStorage",AE="fbase_key";class Zl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Md(t,e){return t.transaction([nd],e?"readwrite":"readonly").objectStore(nd)}function u2(){const t=indexedDB.deleteDatabase(PE);return new Zl(t).toPromise()}function sp(){const t=indexedDB.open(PE,l2);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(nd,{keyPath:AE})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(nd)?e(r):(r.close(),await u2(),e(await sp()))})})}async function fv(t,e,n){const r=Md(t,!0).put({[AE]:e,value:n});return new Zl(r).toPromise()}async function c2(t,e){const n=Md(t,!1).get(e),r=await new Zl(n).toPromise();return r===void 0?null:r.value}function pv(t,e){const n=Md(t,!0).delete(e);return new Zl(n).toPromise()}const d2=800,h2=3;class RE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await sp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>h2)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return CE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Vd._getInstance(a2()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await s2(),!this.activeServiceWorker)return;this.sender=new r2(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||o2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await sp();return await fv(e,td,"1"),await pv(e,td),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>fv(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>c2(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>pv(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Md(i,!1).getAll();return new Zl(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),d2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}RE.type="LOCAL";const f2=RE;new Yl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p2(t,e){return e?Yr(e):(pe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om extends Dm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ho(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ho(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ho(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function m2(t){return vE(t.auth,new Om(t),t.bypassAuthState)}function g2(t){const{auth:e,user:n}=t;return pe(n,e,"internal-error"),Bk(n,new Om(t),t.bypassAuthState)}async function y2(t){const{auth:e,user:n}=t;return pe(n,e,"internal-error"),Uk(n,new Om(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kE{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:l}=e;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(u))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return m2;case"linkViaPopup":case"linkViaRedirect":return y2;case"reauthViaPopup":case"reauthViaRedirect":return g2;default:ur(this.auth,"internal-error")}}resolve(e){si(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){si(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v2=new Yl(2e3,1e4);class Oo extends kE{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Oo.currentPopupAction&&Oo.currentPopupAction.cancel(),Oo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return pe(e,this.auth,"internal-error"),e}async onExecution(){si(this.filter.length===1,"Popup operations only handle one event");const e=Lm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Pr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Pr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Oo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Pr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,v2.get())};e()}}Oo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w2="pendingRedirect",hc=new Map;class _2 extends kE{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=hc.get(this.auth._key());if(!e){try{const r=await E2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}hc.set(this.auth._key(),e)}return this.bypassAuthState||hc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function E2(t,e){const n=S2(e),r=I2(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function T2(t,e){hc.set(t._key(),e)}function I2(t){return Yr(t._redirectPersistence)}function S2(t){return dc(w2,t.config.apiKey,t.name)}async function C2(t,e,n=!1){if(sr(t.app))return Promise.reject(Ar(t));const r=cs(t),i=p2(r,e),o=await new _2(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P2=10*60*1e3;class A2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!R2(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!bE(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Pr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=P2&&this.cachedEventUids.clear(),this.cachedEventUids.has(mv(e))}saveEventToCache(e){this.cachedEventUids.add(mv(e)),this.lastProcessedEventTime=Date.now()}}function mv(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function bE({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function R2(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return bE(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k2(t,e={}){return cr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,x2=/^https?/;async function D2(t){if(t.config.emulator)return;const{authorizedDomains:e}=await k2(t);for(const n of e)try{if(N2(n))return}catch{}ur(t,"unauthorized-domain")}function N2(t){const e=rp(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!x2.test(n))return!1;if(b2.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L2=new Yl(3e4,6e4);function gv(){const t=Rr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function O2(t){return new Promise((e,n)=>{var r,i,s;function o(){gv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{gv(),n(Pr(t,"network-request-failed"))},timeout:L2.get()})}if(!((i=(r=Rr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Rr().gapi)===null||s===void 0)&&s.load)o();else{const l=vk("iframefcb");return Rr()[l]=()=>{gapi.load?o():n(Pr(t,"network-request-failed"))},hE(`${yk()}?onload=${l}`).catch(u=>n(u))}}).catch(e=>{throw fc=null,e})}let fc=null;function V2(t){return fc=fc||O2(t),fc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M2=new Yl(5e3,15e3),F2="__/auth/iframe",U2="emulator/auth/iframe",B2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},j2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function z2(t){const e=t.config;pe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?km(e,U2):`https://${t.config.authDomain}/${F2}`,r={apiKey:e.apiKey,appName:t.name,v:ga},i=j2.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Ql(r).slice(1)}`}async function $2(t){const e=await V2(t),n=Rr().gapi;return pe(n,t,"internal-error"),e.open({where:document.body,url:z2(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:B2,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Pr(t,"network-request-failed"),l=Rr().setTimeout(()=>{s(o)},M2.get());function u(){Rr().clearTimeout(l),i(r)}r.ping(u).then(u,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},W2=500,q2=600,K2="_blank",G2="http://localhost";class yv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Q2(t,e,n,r=W2,i=q2){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const u=Object.assign(Object.assign({},H2),{width:r.toString(),height:i.toString(),top:s,left:o}),d=en().toLowerCase();n&&(l=sE(d)?K2:n),rE(d)&&(e=e||G2,u.scrollbars="yes");const p=Object.entries(u).reduce((w,[S,D])=>`${w}${S}=${D},`,"");if(lk(d)&&l!=="_self")return Y2(e||"",l),new yv(null);const y=window.open(e||"",l,p);pe(y,t,"popup-blocked");try{y.focus()}catch{}return new yv(y)}function Y2(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X2="__/auth/handler",J2="emulator/auth/handler",Z2=encodeURIComponent("fac");async function vv(t,e,n,r,i,s){pe(t.config.authDomain,t,"auth-domain-config-required"),pe(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ga,eventId:i};if(e instanceof gE){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",bA(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,y]of Object.entries({}))o[p]=y}if(e instanceof Jl){const p=e.getScopes().filter(y=>y!=="");p.length>0&&(o.scopes=p.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const p of Object.keys(l))l[p]===void 0&&delete l[p];const u=await t._getAppCheckToken(),d=u?`#${Z2}=${encodeURIComponent(u)}`:"";return`${eb(t)}?${Ql(l).slice(1)}${d}`}function eb({config:t}){return t.emulator?km(t,J2):`https://${t.authDomain}/${X2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qh="webStorageSupport";class tb{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=SE,this._completeRedirectFn=C2,this._overrideRedirectResult=T2}async _openPopup(e,n,r,i){var s;si((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await vv(e,n,r,rp(),i);return Q2(e,o,Lm())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await vv(e,n,r,rp(),i);return i2(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(si(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await $2(e),r=new A2(e);return n.register("authEvent",i=>(pe(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Qh,{type:Qh},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Qh];o!==void 0&&n(!!o),ur(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=D2(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return cE()||iE()||xm()}}const nb=tb;var wv="@firebase/auth",_v="1.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rb{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){pe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ib(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function sb(t){na(new Hs("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=r.options;pe(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:dE(t)},d=new pk(r,i,s,u);return Sk(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),na(new Hs("auth-internal",e=>{const n=cs(e.getProvider("auth").getImmediate());return(r=>new rb(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Xi(wv,_v,ib(t)),Xi(wv,_v,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ob=5*60,ab=j0("authIdTokenMaxAge")||ob;let Ev=null;const lb=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>ab)return;const i=n==null?void 0:n.token;Ev!==i&&(Ev=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function ub(t=W0()){const e=Pm(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Ik(t,{popupRedirectResolver:nb,persistence:[f2,t2,SE]}),r=j0("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=lb(s.toString());Yk(n,o,()=>o(n.currentUser)),Qk(n,l=>o(l))}}const i=U0("auth");return i&&Ck(n,`http://${i}`),n}function cb(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}mk({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Pr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",cb().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});sb("Browser");var Tv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ms,xE;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,g){function T(){}T.prototype=g.prototype,C.D=g.prototype,C.prototype=new T,C.prototype.constructor=C,C.C=function(I,b,O){for(var k=Array(arguments.length-2),ve=2;ve<arguments.length;ve++)k[ve-2]=arguments[ve];return g.prototype[b].apply(I,k)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(C,g,T){T||(T=0);var I=Array(16);if(typeof g=="string")for(var b=0;16>b;++b)I[b]=g.charCodeAt(T++)|g.charCodeAt(T++)<<8|g.charCodeAt(T++)<<16|g.charCodeAt(T++)<<24;else for(b=0;16>b;++b)I[b]=g[T++]|g[T++]<<8|g[T++]<<16|g[T++]<<24;g=C.g[0],T=C.g[1],b=C.g[2];var O=C.g[3],k=g+(O^T&(b^O))+I[0]+3614090360&4294967295;g=T+(k<<7&4294967295|k>>>25),k=O+(b^g&(T^b))+I[1]+3905402710&4294967295,O=g+(k<<12&4294967295|k>>>20),k=b+(T^O&(g^T))+I[2]+606105819&4294967295,b=O+(k<<17&4294967295|k>>>15),k=T+(g^b&(O^g))+I[3]+3250441966&4294967295,T=b+(k<<22&4294967295|k>>>10),k=g+(O^T&(b^O))+I[4]+4118548399&4294967295,g=T+(k<<7&4294967295|k>>>25),k=O+(b^g&(T^b))+I[5]+1200080426&4294967295,O=g+(k<<12&4294967295|k>>>20),k=b+(T^O&(g^T))+I[6]+2821735955&4294967295,b=O+(k<<17&4294967295|k>>>15),k=T+(g^b&(O^g))+I[7]+4249261313&4294967295,T=b+(k<<22&4294967295|k>>>10),k=g+(O^T&(b^O))+I[8]+1770035416&4294967295,g=T+(k<<7&4294967295|k>>>25),k=O+(b^g&(T^b))+I[9]+2336552879&4294967295,O=g+(k<<12&4294967295|k>>>20),k=b+(T^O&(g^T))+I[10]+4294925233&4294967295,b=O+(k<<17&4294967295|k>>>15),k=T+(g^b&(O^g))+I[11]+2304563134&4294967295,T=b+(k<<22&4294967295|k>>>10),k=g+(O^T&(b^O))+I[12]+1804603682&4294967295,g=T+(k<<7&4294967295|k>>>25),k=O+(b^g&(T^b))+I[13]+4254626195&4294967295,O=g+(k<<12&4294967295|k>>>20),k=b+(T^O&(g^T))+I[14]+2792965006&4294967295,b=O+(k<<17&4294967295|k>>>15),k=T+(g^b&(O^g))+I[15]+1236535329&4294967295,T=b+(k<<22&4294967295|k>>>10),k=g+(b^O&(T^b))+I[1]+4129170786&4294967295,g=T+(k<<5&4294967295|k>>>27),k=O+(T^b&(g^T))+I[6]+3225465664&4294967295,O=g+(k<<9&4294967295|k>>>23),k=b+(g^T&(O^g))+I[11]+643717713&4294967295,b=O+(k<<14&4294967295|k>>>18),k=T+(O^g&(b^O))+I[0]+3921069994&4294967295,T=b+(k<<20&4294967295|k>>>12),k=g+(b^O&(T^b))+I[5]+3593408605&4294967295,g=T+(k<<5&4294967295|k>>>27),k=O+(T^b&(g^T))+I[10]+38016083&4294967295,O=g+(k<<9&4294967295|k>>>23),k=b+(g^T&(O^g))+I[15]+3634488961&4294967295,b=O+(k<<14&4294967295|k>>>18),k=T+(O^g&(b^O))+I[4]+3889429448&4294967295,T=b+(k<<20&4294967295|k>>>12),k=g+(b^O&(T^b))+I[9]+568446438&4294967295,g=T+(k<<5&4294967295|k>>>27),k=O+(T^b&(g^T))+I[14]+3275163606&4294967295,O=g+(k<<9&4294967295|k>>>23),k=b+(g^T&(O^g))+I[3]+4107603335&4294967295,b=O+(k<<14&4294967295|k>>>18),k=T+(O^g&(b^O))+I[8]+1163531501&4294967295,T=b+(k<<20&4294967295|k>>>12),k=g+(b^O&(T^b))+I[13]+2850285829&4294967295,g=T+(k<<5&4294967295|k>>>27),k=O+(T^b&(g^T))+I[2]+4243563512&4294967295,O=g+(k<<9&4294967295|k>>>23),k=b+(g^T&(O^g))+I[7]+1735328473&4294967295,b=O+(k<<14&4294967295|k>>>18),k=T+(O^g&(b^O))+I[12]+2368359562&4294967295,T=b+(k<<20&4294967295|k>>>12),k=g+(T^b^O)+I[5]+4294588738&4294967295,g=T+(k<<4&4294967295|k>>>28),k=O+(g^T^b)+I[8]+2272392833&4294967295,O=g+(k<<11&4294967295|k>>>21),k=b+(O^g^T)+I[11]+1839030562&4294967295,b=O+(k<<16&4294967295|k>>>16),k=T+(b^O^g)+I[14]+4259657740&4294967295,T=b+(k<<23&4294967295|k>>>9),k=g+(T^b^O)+I[1]+2763975236&4294967295,g=T+(k<<4&4294967295|k>>>28),k=O+(g^T^b)+I[4]+1272893353&4294967295,O=g+(k<<11&4294967295|k>>>21),k=b+(O^g^T)+I[7]+4139469664&4294967295,b=O+(k<<16&4294967295|k>>>16),k=T+(b^O^g)+I[10]+3200236656&4294967295,T=b+(k<<23&4294967295|k>>>9),k=g+(T^b^O)+I[13]+681279174&4294967295,g=T+(k<<4&4294967295|k>>>28),k=O+(g^T^b)+I[0]+3936430074&4294967295,O=g+(k<<11&4294967295|k>>>21),k=b+(O^g^T)+I[3]+3572445317&4294967295,b=O+(k<<16&4294967295|k>>>16),k=T+(b^O^g)+I[6]+76029189&4294967295,T=b+(k<<23&4294967295|k>>>9),k=g+(T^b^O)+I[9]+3654602809&4294967295,g=T+(k<<4&4294967295|k>>>28),k=O+(g^T^b)+I[12]+3873151461&4294967295,O=g+(k<<11&4294967295|k>>>21),k=b+(O^g^T)+I[15]+530742520&4294967295,b=O+(k<<16&4294967295|k>>>16),k=T+(b^O^g)+I[2]+3299628645&4294967295,T=b+(k<<23&4294967295|k>>>9),k=g+(b^(T|~O))+I[0]+4096336452&4294967295,g=T+(k<<6&4294967295|k>>>26),k=O+(T^(g|~b))+I[7]+1126891415&4294967295,O=g+(k<<10&4294967295|k>>>22),k=b+(g^(O|~T))+I[14]+2878612391&4294967295,b=O+(k<<15&4294967295|k>>>17),k=T+(O^(b|~g))+I[5]+4237533241&4294967295,T=b+(k<<21&4294967295|k>>>11),k=g+(b^(T|~O))+I[12]+1700485571&4294967295,g=T+(k<<6&4294967295|k>>>26),k=O+(T^(g|~b))+I[3]+2399980690&4294967295,O=g+(k<<10&4294967295|k>>>22),k=b+(g^(O|~T))+I[10]+4293915773&4294967295,b=O+(k<<15&4294967295|k>>>17),k=T+(O^(b|~g))+I[1]+2240044497&4294967295,T=b+(k<<21&4294967295|k>>>11),k=g+(b^(T|~O))+I[8]+1873313359&4294967295,g=T+(k<<6&4294967295|k>>>26),k=O+(T^(g|~b))+I[15]+4264355552&4294967295,O=g+(k<<10&4294967295|k>>>22),k=b+(g^(O|~T))+I[6]+2734768916&4294967295,b=O+(k<<15&4294967295|k>>>17),k=T+(O^(b|~g))+I[13]+1309151649&4294967295,T=b+(k<<21&4294967295|k>>>11),k=g+(b^(T|~O))+I[4]+4149444226&4294967295,g=T+(k<<6&4294967295|k>>>26),k=O+(T^(g|~b))+I[11]+3174756917&4294967295,O=g+(k<<10&4294967295|k>>>22),k=b+(g^(O|~T))+I[2]+718787259&4294967295,b=O+(k<<15&4294967295|k>>>17),k=T+(O^(b|~g))+I[9]+3951481745&4294967295,C.g[0]=C.g[0]+g&4294967295,C.g[1]=C.g[1]+(b+(k<<21&4294967295|k>>>11))&4294967295,C.g[2]=C.g[2]+b&4294967295,C.g[3]=C.g[3]+O&4294967295}r.prototype.u=function(C,g){g===void 0&&(g=C.length);for(var T=g-this.blockSize,I=this.B,b=this.h,O=0;O<g;){if(b==0)for(;O<=T;)i(this,C,O),O+=this.blockSize;if(typeof C=="string"){for(;O<g;)if(I[b++]=C.charCodeAt(O++),b==this.blockSize){i(this,I),b=0;break}}else for(;O<g;)if(I[b++]=C[O++],b==this.blockSize){i(this,I),b=0;break}}this.h=b,this.o+=g},r.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var g=1;g<C.length-8;++g)C[g]=0;var T=8*this.o;for(g=C.length-8;g<C.length;++g)C[g]=T&255,T/=256;for(this.u(C),C=Array(16),g=T=0;4>g;++g)for(var I=0;32>I;I+=8)C[T++]=this.g[g]>>>I&255;return C};function s(C,g){var T=l;return Object.prototype.hasOwnProperty.call(T,C)?T[C]:T[C]=g(C)}function o(C,g){this.h=g;for(var T=[],I=!0,b=C.length-1;0<=b;b--){var O=C[b]|0;I&&O==g||(T[b]=O,I=!1)}this.g=T}var l={};function u(C){return-128<=C&&128>C?s(C,function(g){return new o([g|0],0>g?-1:0)}):new o([C|0],0>C?-1:0)}function d(C){if(isNaN(C)||!isFinite(C))return y;if(0>C)return F(d(-C));for(var g=[],T=1,I=0;C>=T;I++)g[I]=C/T|0,T*=4294967296;return new o(g,0)}function p(C,g){if(C.length==0)throw Error("number format error: empty string");if(g=g||10,2>g||36<g)throw Error("radix out of range: "+g);if(C.charAt(0)=="-")return F(p(C.substring(1),g));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var T=d(Math.pow(g,8)),I=y,b=0;b<C.length;b+=8){var O=Math.min(8,C.length-b),k=parseInt(C.substring(b,b+O),g);8>O?(O=d(Math.pow(g,O)),I=I.j(O).add(d(k))):(I=I.j(T),I=I.add(d(k)))}return I}var y=u(0),w=u(1),S=u(16777216);t=o.prototype,t.m=function(){if(N(this))return-F(this).m();for(var C=0,g=1,T=0;T<this.g.length;T++){var I=this.i(T);C+=(0<=I?I:4294967296+I)*g,g*=4294967296}return C},t.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(D(this))return"0";if(N(this))return"-"+F(this).toString(C);for(var g=d(Math.pow(C,6)),T=this,I="";;){var b=M(T,g).g;T=R(T,b.j(g));var O=((0<T.g.length?T.g[0]:T.h)>>>0).toString(C);if(T=b,D(T))return O+I;for(;6>O.length;)O="0"+O;I=O+I}},t.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function D(C){if(C.h!=0)return!1;for(var g=0;g<C.g.length;g++)if(C.g[g]!=0)return!1;return!0}function N(C){return C.h==-1}t.l=function(C){return C=R(this,C),N(C)?-1:D(C)?0:1};function F(C){for(var g=C.g.length,T=[],I=0;I<g;I++)T[I]=~C.g[I];return new o(T,~C.h).add(w)}t.abs=function(){return N(this)?F(this):this},t.add=function(C){for(var g=Math.max(this.g.length,C.g.length),T=[],I=0,b=0;b<=g;b++){var O=I+(this.i(b)&65535)+(C.i(b)&65535),k=(O>>>16)+(this.i(b)>>>16)+(C.i(b)>>>16);I=k>>>16,O&=65535,k&=65535,T[b]=k<<16|O}return new o(T,T[T.length-1]&-2147483648?-1:0)};function R(C,g){return C.add(F(g))}t.j=function(C){if(D(this)||D(C))return y;if(N(this))return N(C)?F(this).j(F(C)):F(F(this).j(C));if(N(C))return F(this.j(F(C)));if(0>this.l(S)&&0>C.l(S))return d(this.m()*C.m());for(var g=this.g.length+C.g.length,T=[],I=0;I<2*g;I++)T[I]=0;for(I=0;I<this.g.length;I++)for(var b=0;b<C.g.length;b++){var O=this.i(I)>>>16,k=this.i(I)&65535,ve=C.i(b)>>>16,We=C.i(b)&65535;T[2*I+2*b]+=k*We,E(T,2*I+2*b),T[2*I+2*b+1]+=O*We,E(T,2*I+2*b+1),T[2*I+2*b+1]+=k*ve,E(T,2*I+2*b+1),T[2*I+2*b+2]+=O*ve,E(T,2*I+2*b+2)}for(I=0;I<g;I++)T[I]=T[2*I+1]<<16|T[2*I];for(I=g;I<2*g;I++)T[I]=0;return new o(T,0)};function E(C,g){for(;(C[g]&65535)!=C[g];)C[g+1]+=C[g]>>>16,C[g]&=65535,g++}function A(C,g){this.g=C,this.h=g}function M(C,g){if(D(g))throw Error("division by zero");if(D(C))return new A(y,y);if(N(C))return g=M(F(C),g),new A(F(g.g),F(g.h));if(N(g))return g=M(C,F(g)),new A(F(g.g),g.h);if(30<C.g.length){if(N(C)||N(g))throw Error("slowDivide_ only works with positive integers.");for(var T=w,I=g;0>=I.l(C);)T=H(T),I=H(I);var b=j(T,1),O=j(I,1);for(I=j(I,2),T=j(T,2);!D(I);){var k=O.add(I);0>=k.l(C)&&(b=b.add(T),O=k),I=j(I,1),T=j(T,1)}return g=R(C,b.j(g)),new A(b,g)}for(b=y;0<=C.l(g);){for(T=Math.max(1,Math.floor(C.m()/g.m())),I=Math.ceil(Math.log(T)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),O=d(T),k=O.j(g);N(k)||0<k.l(C);)T-=I,O=d(T),k=O.j(g);D(O)&&(O=w),b=b.add(O),C=R(C,k)}return new A(b,C)}t.A=function(C){return M(this,C).h},t.and=function(C){for(var g=Math.max(this.g.length,C.g.length),T=[],I=0;I<g;I++)T[I]=this.i(I)&C.i(I);return new o(T,this.h&C.h)},t.or=function(C){for(var g=Math.max(this.g.length,C.g.length),T=[],I=0;I<g;I++)T[I]=this.i(I)|C.i(I);return new o(T,this.h|C.h)},t.xor=function(C){for(var g=Math.max(this.g.length,C.g.length),T=[],I=0;I<g;I++)T[I]=this.i(I)^C.i(I);return new o(T,this.h^C.h)};function H(C){for(var g=C.g.length+1,T=[],I=0;I<g;I++)T[I]=C.i(I)<<1|C.i(I-1)>>>31;return new o(T,C.h)}function j(C,g){var T=g>>5;g%=32;for(var I=C.g.length-T,b=[],O=0;O<I;O++)b[O]=0<g?C.i(O+T)>>>g|C.i(O+T+1)<<32-g:C.i(O+T);return new o(b,C.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,xE=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=p,Ms=o}).apply(typeof Tv<"u"?Tv:typeof self<"u"?self:typeof window<"u"?window:{});var qu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var DE,Xa,NE,pc,op,LE,OE,VE;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,f,m){return a==Array.prototype||a==Object.prototype||(a[f]=m.value),a};function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof qu=="object"&&qu];for(var f=0;f<a.length;++f){var m=a[f];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var r=n(this);function i(a,f){if(f)e:{var m=r;a=a.split(".");for(var _=0;_<a.length-1;_++){var V=a[_];if(!(V in m))break e;m=m[V]}a=a[a.length-1],_=m[a],f=f(_),f!=_&&f!=null&&e(m,a,{configurable:!0,writable:!0,value:f})}}function s(a,f){a instanceof String&&(a+="");var m=0,_=!1,V={next:function(){if(!_&&m<a.length){var B=m++;return{value:f(B,a[B]),done:!1}}return _=!0,{done:!0,value:void 0}}};return V[Symbol.iterator]=function(){return V},V}i("Array.prototype.values",function(a){return a||function(){return s(this,function(f,m){return m})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function u(a){var f=typeof a;return f=f!="object"?f:a?Array.isArray(a)?"array":f:"null",f=="array"||f=="object"&&typeof a.length=="number"}function d(a){var f=typeof a;return f=="object"&&a!=null||f=="function"}function p(a,f,m){return a.call.apply(a.bind,arguments)}function y(a,f,m){if(!a)throw Error();if(2<arguments.length){var _=Array.prototype.slice.call(arguments,2);return function(){var V=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(V,_),a.apply(f,V)}}return function(){return a.apply(f,arguments)}}function w(a,f,m){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:y,w.apply(null,arguments)}function S(a,f){var m=Array.prototype.slice.call(arguments,1);return function(){var _=m.slice();return _.push.apply(_,arguments),a.apply(this,_)}}function D(a,f){function m(){}m.prototype=f.prototype,a.aa=f.prototype,a.prototype=new m,a.prototype.constructor=a,a.Qb=function(_,V,B){for(var Q=Array(arguments.length-2),Ve=2;Ve<arguments.length;Ve++)Q[Ve-2]=arguments[Ve];return f.prototype[V].apply(_,Q)}}function N(a){const f=a.length;if(0<f){const m=Array(f);for(let _=0;_<f;_++)m[_]=a[_];return m}return[]}function F(a,f){for(let m=1;m<arguments.length;m++){const _=arguments[m];if(u(_)){const V=a.length||0,B=_.length||0;a.length=V+B;for(let Q=0;Q<B;Q++)a[V+Q]=_[Q]}else a.push(_)}}class R{constructor(f,m){this.i=f,this.j=m,this.h=0,this.g=null}get(){let f;return 0<this.h?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function E(a){return/^[\s\xa0]*$/.test(a)}function A(){var a=l.navigator;return a&&(a=a.userAgent)?a:""}function M(a){return M[" "](a),a}M[" "]=function(){};var H=A().indexOf("Gecko")!=-1&&!(A().toLowerCase().indexOf("webkit")!=-1&&A().indexOf("Edge")==-1)&&!(A().indexOf("Trident")!=-1||A().indexOf("MSIE")!=-1)&&A().indexOf("Edge")==-1;function j(a,f,m){for(const _ in a)f.call(m,a[_],_,a)}function C(a,f){for(const m in a)f.call(void 0,a[m],m,a)}function g(a){const f={};for(const m in a)f[m]=a[m];return f}const T="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(a,f){let m,_;for(let V=1;V<arguments.length;V++){_=arguments[V];for(m in _)a[m]=_[m];for(let B=0;B<T.length;B++)m=T[B],Object.prototype.hasOwnProperty.call(_,m)&&(a[m]=_[m])}}function b(a){var f=1;a=a.split(":");const m=[];for(;0<f&&a.length;)m.push(a.shift()),f--;return a.length&&m.push(a.join(":")),m}function O(a){l.setTimeout(()=>{throw a},0)}function k(){var a=Z;let f=null;return a.g&&(f=a.g,a.g=a.g.next,a.g||(a.h=null),f.next=null),f}class ve{constructor(){this.h=this.g=null}add(f,m){const _=We.get();_.set(f,m),this.h?this.h.next=_:this.g=_,this.h=_}}var We=new R(()=>new tn,a=>a.reset());class tn{constructor(){this.next=this.g=this.h=null}set(f,m){this.h=f,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let ct,Y=!1,Z=new ve,de=()=>{const a=l.Promise.resolve(void 0);ct=()=>{a.then(be)}};var be=()=>{for(var a;a=k();){try{a.h.call(a.g)}catch(m){O(m)}var f=We;f.j(a),100>f.h&&(f.h++,a.next=f.g,f.g=a)}Y=!1};function Ie(){this.s=this.s,this.C=this.C}Ie.prototype.s=!1,Ie.prototype.ma=function(){this.s||(this.s=!0,this.N())},Ie.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function De(a,f){this.type=a,this.g=this.target=f,this.defaultPrevented=!1}De.prototype.h=function(){this.defaultPrevented=!0};var mt=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var a=!1,f=Object.defineProperty({},"passive",{get:function(){a=!0}});try{const m=()=>{};l.addEventListener("test",m,f),l.removeEventListener("test",m,f)}catch{}return a}();function Et(a,f){if(De.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var m=this.type=a.type,_=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=f,f=a.relatedTarget){if(H){e:{try{M(f.nodeName);var V=!0;break e}catch{}V=!1}V||(f=null)}}else m=="mouseover"?f=a.fromElement:m=="mouseout"&&(f=a.toElement);this.relatedTarget=f,_?(this.clientX=_.clientX!==void 0?_.clientX:_.pageX,this.clientY=_.clientY!==void 0?_.clientY:_.pageY,this.screenX=_.screenX||0,this.screenY=_.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:Ge[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&Et.aa.h.call(this)}}D(Et,De);var Ge={2:"touch",3:"pen",4:"mouse"};Et.prototype.h=function(){Et.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var Tt="closure_listenable_"+(1e6*Math.random()|0),qt=0;function Ut(a,f,m,_,V){this.listener=a,this.proxy=null,this.src=f,this.type=m,this.capture=!!_,this.ha=V,this.key=++qt,this.da=this.fa=!1}function It(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function pi(a){this.src=a,this.g={},this.h=0}pi.prototype.add=function(a,f,m,_,V){var B=a.toString();a=this.g[B],a||(a=this.g[B]=[],this.h++);var Q=Lr(a,f,_,V);return-1<Q?(f=a[Q],m||(f.fa=!1)):(f=new Ut(f,this.src,B,!!_,V),f.fa=m,a.push(f)),f};function Dt(a,f){var m=f.type;if(m in a.g){var _=a.g[m],V=Array.prototype.indexOf.call(_,f,void 0),B;(B=0<=V)&&Array.prototype.splice.call(_,V,1),B&&(It(f),a.g[m].length==0&&(delete a.g[m],a.h--))}}function Lr(a,f,m,_){for(var V=0;V<a.length;++V){var B=a[V];if(!B.da&&B.listener==f&&B.capture==!!m&&B.ha==_)return V}return-1}var it="closure_lm_"+(1e6*Math.random()|0),Sn={};function _e(a,f,m,_,V){if(Array.isArray(f)){for(var B=0;B<f.length;B++)_e(a,f[B],m,_,V);return null}return m=to(m),a&&a[Tt]?a.K(f,m,d(_)?!!_.capture:!!_,V):dn(a,f,m,!1,_,V)}function dn(a,f,m,_,V,B){if(!f)throw Error("Invalid event type");var Q=d(V)?!!V.capture:!!V,Ve=dr(a);if(Ve||(a[it]=Ve=new pi(a)),m=Ve.add(f,m,_,Q,B),m.proxy)return m;if(_=Nt(),m.proxy=_,_.src=a,_.listener=m,a.addEventListener)mt||(V=Q),V===void 0&&(V=!1),a.addEventListener(f.toString(),_,V);else if(a.attachEvent)a.attachEvent(st(f.toString()),_);else if(a.addListener&&a.removeListener)a.addListener(_);else throw Error("addEventListener and attachEvent are unavailable.");return m}function Nt(){function a(m){return f.call(a.src,a.listener,m)}const f=eo;return a}function qn(a,f,m,_,V){if(Array.isArray(f))for(var B=0;B<f.length;B++)qn(a,f[B],m,_,V);else _=d(_)?!!_.capture:!!_,m=to(m),a&&a[Tt]?(a=a.i,f=String(f).toString(),f in a.g&&(B=a.g[f],m=Lr(B,m,_,V),-1<m&&(It(B[m]),Array.prototype.splice.call(B,m,1),B.length==0&&(delete a.g[f],a.h--)))):a&&(a=dr(a))&&(f=a.g[f.toString()],a=-1,f&&(a=Lr(f,m,_,V)),(m=-1<a?f[a]:null)&&Je(m))}function Je(a){if(typeof a!="number"&&a&&!a.da){var f=a.src;if(f&&f[Tt])Dt(f.i,a);else{var m=a.type,_=a.proxy;f.removeEventListener?f.removeEventListener(m,_,a.capture):f.detachEvent?f.detachEvent(st(m),_):f.addListener&&f.removeListener&&f.removeListener(_),(m=dr(f))?(Dt(m,a),m.h==0&&(m.src=null,f[it]=null)):It(a)}}}function st(a){return a in Sn?Sn[a]:Sn[a]="on"+a}function eo(a,f){if(a.da)a=!0;else{f=new Et(f,this);var m=a.listener,_=a.ha||a.src;a.fa&&Je(a),a=m.call(_,f)}return a}function dr(a){return a=a[it],a instanceof pi?a:null}var St="__closure_events_fn_"+(1e9*Math.random()>>>0);function to(a){return typeof a=="function"?a:(a[St]||(a[St]=function(f){return a.handleEvent(f)}),a[St])}function je(){Ie.call(this),this.i=new pi(this),this.M=this,this.F=null}D(je,Ie),je.prototype[Tt]=!0,je.prototype.removeEventListener=function(a,f,m,_){qn(this,a,f,m,_)};function Qe(a,f){var m,_=a.F;if(_)for(m=[];_;_=_.F)m.push(_);if(a=a.M,_=f.type||f,typeof f=="string")f=new De(f,a);else if(f instanceof De)f.target=f.target||a;else{var V=f;f=new De(_,a),I(f,V)}if(V=!0,m)for(var B=m.length-1;0<=B;B--){var Q=f.g=m[B];V=Kn(Q,_,!0,f)&&V}if(Q=f.g=a,V=Kn(Q,_,!0,f)&&V,V=Kn(Q,_,!1,f)&&V,m)for(B=0;B<m.length;B++)Q=f.g=m[B],V=Kn(Q,_,!1,f)&&V}je.prototype.N=function(){if(je.aa.N.call(this),this.i){var a=this.i,f;for(f in a.g){for(var m=a.g[f],_=0;_<m.length;_++)It(m[_]);delete a.g[f],a.h--}}this.F=null},je.prototype.K=function(a,f,m,_){return this.i.add(String(a),f,!1,m,_)},je.prototype.L=function(a,f,m,_){return this.i.add(String(a),f,!0,m,_)};function Kn(a,f,m,_){if(f=a.i.g[String(f)],!f)return!0;f=f.concat();for(var V=!0,B=0;B<f.length;++B){var Q=f[B];if(Q&&!Q.da&&Q.capture==m){var Ve=Q.listener,dt=Q.ha||Q.src;Q.fa&&Dt(a.i,Q),V=Ve.call(dt,_)!==!1&&V}}return V&&!_.defaultPrevented}function mi(a,f,m){if(typeof a=="function")m&&(a=w(a,m));else if(a&&typeof a.handleEvent=="function")a=w(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(f)?-1:l.setTimeout(a,f||0)}function Cn(a){a.g=mi(()=>{a.g=null,a.i&&(a.i=!1,Cn(a))},a.l);const f=a.h;a.h=null,a.m.apply(null,f)}class he extends Ie{constructor(f,m){super(),this.m=f,this.l=m,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:Cn(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function hr(a){Ie.call(this),this.h=a,this.g={}}D(hr,Ie);var Or=[];function fs(a){j(a.g,function(f,m){this.g.hasOwnProperty(m)&&Je(f)},a),a.g={}}hr.prototype.N=function(){hr.aa.N.call(this),fs(this)},hr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var hn=l.JSON.stringify,no=l.JSON.parse,Vn=class{stringify(a){return l.JSON.stringify(a,void 0)}parse(a){return l.JSON.parse(a,void 0)}};function gi(){}gi.prototype.h=null;function ro(a){return a.h||(a.h=a.i())}function ps(){}var Mn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function yi(){De.call(this,"d")}D(yi,De);function Gn(){De.call(this,"c")}D(Gn,De);var fn={},vi=null;function Fn(){return vi=vi||new je}fn.La="serverreachability";function ms(a){De.call(this,fn.La,a)}D(ms,De);function Vr(a){const f=Fn();Qe(f,new ms(f))}fn.STAT_EVENT="statevent";function gs(a,f){De.call(this,fn.STAT_EVENT,a),this.stat=f}D(gs,De);function ot(a){const f=Fn();Qe(f,new gs(f,a))}fn.Ma="timingevent";function Qn(a,f){De.call(this,fn.Ma,a),this.size=f}D(Qn,De);function fr(a,f){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){a()},f)}function Mr(){this.g=!0}Mr.prototype.xa=function(){this.g=!1};function Ta(a,f,m,_,V,B){a.info(function(){if(a.g)if(B)for(var Q="",Ve=B.split("&"),dt=0;dt<Ve.length;dt++){var Re=Ve[dt].split("=");if(1<Re.length){var Pt=Re[0];Re=Re[1];var gt=Pt.split("_");Q=2<=gt.length&&gt[1]=="type"?Q+(Pt+"="+Re+"&"):Q+(Pt+"=redacted&")}}else Q=null;else Q=B;return"XMLHTTP REQ ("+_+") [attempt "+V+"]: "+f+`
`+m+`
`+Q})}function x(a,f,m,_,V,B,Q){a.info(function(){return"XMLHTTP RESP ("+_+") [ attempt "+V+"]: "+f+`
`+m+`
`+B+" "+Q})}function L(a,f,m,_){a.info(function(){return"XMLHTTP TEXT ("+f+"): "+q(a,m)+(_?" "+_:"")})}function U(a,f){a.info(function(){return"TIMEOUT: "+f})}Mr.prototype.info=function(){};function q(a,f){if(!a.g)return f;if(!f)return null;try{var m=JSON.parse(f);if(m){for(a=0;a<m.length;a++)if(Array.isArray(m[a])){var _=m[a];if(!(2>_.length)){var V=_[1];if(Array.isArray(V)&&!(1>V.length)){var B=V[0];if(B!="noop"&&B!="stop"&&B!="close")for(var Q=1;Q<V.length;Q++)V[Q]=""}}}}return hn(m)}catch{return f}}var J={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},oe={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ue;function X(){}D(X,gi),X.prototype.g=function(){return new XMLHttpRequest},X.prototype.i=function(){return{}},ue=new X;function ie(a,f,m,_){this.j=a,this.i=f,this.l=m,this.R=_||1,this.U=new hr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ee}function ee(){this.i=null,this.g="",this.h=!1}var se={},Ee={};function fe(a,f,m){a.L=1,a.v=wi(Yn(f)),a.m=m,a.P=!0,Le(a,null)}function Le(a,f){a.F=Date.now(),Fe(a),a.A=Yn(a.v);var m=a.A,_=a.R;Array.isArray(_)||(_=[String(_)]),lu(m.i,"t",_),a.C=0,m=a.j.J,a.h=new ee,a.g=Eu(a.j,m?f:null,!a.m),0<a.O&&(a.M=new he(w(a.Y,a,a.g),a.O)),f=a.U,m=a.g,_=a.ca;var V="readystatechange";Array.isArray(V)||(V&&(Or[0]=V.toString()),V=Or);for(var B=0;B<V.length;B++){var Q=_e(m,V[B],_||f.handleEvent,!1,f.h||f);if(!Q)break;f.g[Q.key]=Q}f=a.H?g(a.H):{},a.m?(a.u||(a.u="POST"),f["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,f)):(a.u="GET",a.g.ea(a.A,a.u,null,f)),Vr(),Ta(a.i,a.u,a.A,a.l,a.R,a.m)}ie.prototype.ca=function(a){a=a.target;const f=this.M;f&&Zn(a)==3?f.j():this.Y(a)},ie.prototype.Y=function(a){try{if(a==this.g)e:{const gt=Zn(this.g);var f=this.g.Ba();const Si=this.g.Z();if(!(3>gt)&&(gt!=3||this.g&&(this.h.h||this.g.oa()||pu(this.g)))){this.J||gt!=4||f==7||(f==8||0>=Si?Vr(3):Vr(2)),nn(this);var m=this.g.Z();this.X=m;t:if(Se(this)){var _=pu(this.g);a="";var V=_.length,B=Zn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ct(this),pn(this);var Q="";break t}this.h.i=new l.TextDecoder}for(f=0;f<V;f++)this.h.h=!0,a+=this.h.i.decode(_[f],{stream:!(B&&f==V-1)});_.length=0,this.h.g+=a,this.C=0,Q=this.h.g}else Q=this.g.oa();if(this.o=m==200,x(this.i,this.u,this.A,this.l,this.R,gt,m),this.o){if(this.T&&!this.K){t:{if(this.g){var Ve,dt=this.g;if((Ve=dt.g?dt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!E(Ve)){var Re=Ve;break t}}Re=null}if(m=Re)L(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,mr(this,m);else{this.o=!1,this.s=3,ot(12),Ct(this),pn(this);break e}}if(this.P){m=!0;let Pn;for(;!this.J&&this.C<Q.length;)if(Pn=at(this,Q),Pn==Ee){gt==4&&(this.s=4,ot(14),m=!1),L(this.i,this.l,null,"[Incomplete Response]");break}else if(Pn==se){this.s=4,ot(15),L(this.i,this.l,Q,"[Invalid Chunk]"),m=!1;break}else L(this.i,this.l,Pn,null),mr(this,Pn);if(Se(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),gt!=4||Q.length!=0||this.h.h||(this.s=1,ot(16),m=!1),this.o=this.o&&m,!m)L(this.i,this.l,Q,"[Invalid Chunked Response]"),Ct(this),pn(this);else if(0<Q.length&&!this.W){this.W=!0;var Pt=this.j;Pt.g==this&&Pt.ba&&!Pt.M&&(Pt.j.info("Great, no buffering proxy detected. Bytes received: "+Q.length),xa(Pt),Pt.M=!0,ot(11))}}else L(this.i,this.l,Q,null),mr(this,Q);gt==4&&Ct(this),this.o&&!this.J&&(gt==4?Da(this.j,this):(this.o=!1,Fe(this)))}else dh(this.g),m==400&&0<Q.indexOf("Unknown SID")?(this.s=3,ot(12)):(this.s=0,ot(13)),Ct(this),pn(this)}}}catch{}finally{}};function Se(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function at(a,f){var m=a.C,_=f.indexOf(`
`,m);return _==-1?Ee:(m=Number(f.substring(m,_)),isNaN(m)?se:(_+=1,_+m>f.length?Ee:(f=f.slice(_,_+m),a.C=_+m,f)))}ie.prototype.cancel=function(){this.J=!0,Ct(this)};function Fe(a){a.S=Date.now()+a.I,pr(a,a.I)}function pr(a,f){if(a.B!=null)throw Error("WatchDog timer not null");a.B=fr(w(a.ba,a),f)}function nn(a){a.B&&(l.clearTimeout(a.B),a.B=null)}ie.prototype.ba=function(){this.B=null;const a=Date.now();0<=a-this.S?(U(this.i,this.A),this.L!=2&&(Vr(),ot(17)),Ct(this),this.s=2,pn(this)):pr(this,this.S-a)};function pn(a){a.j.G==0||a.J||Da(a.j,a)}function Ct(a){nn(a);var f=a.M;f&&typeof f.ma=="function"&&f.ma(),a.M=null,fs(a.U),a.g&&(f=a.g,a.g=null,f.abort(),f.ma())}function mr(a,f){try{var m=a.j;if(m.G!=0&&(m.g==a||me(m.h,a))){if(!a.K&&me(m.h,a)&&m.G==3){try{var _=m.Da.g.parse(f)}catch{_=null}if(Array.isArray(_)&&_.length==3){var V=_;if(V[0]==0){e:if(!m.u){if(m.g)if(m.g.F+3e3<a.F)uo(m),lo(m);else break e;ba(m),ot(18)}}else m.za=V[1],0<m.za-m.T&&37500>V[2]&&m.F&&m.v==0&&!m.C&&(m.C=fr(w(m.Za,m),6e3));if(1>=Br(m.h)&&m.ca){try{m.ca()}catch{}m.ca=void 0}}else vr(m,11)}else if((a.K||m.g==a)&&uo(m),!E(f))for(V=m.Da.g.parse(f),f=0;f<V.length;f++){let Re=V[f];if(m.T=Re[0],Re=Re[1],m.G==2)if(Re[0]=="c"){m.K=Re[1],m.ia=Re[2];const Pt=Re[3];Pt!=null&&(m.la=Pt,m.j.info("VER="+m.la));const gt=Re[4];gt!=null&&(m.Aa=gt,m.j.info("SVER="+m.Aa));const Si=Re[5];Si!=null&&typeof Si=="number"&&0<Si&&(_=1.5*Si,m.L=_,m.j.info("backChannelRequestTimeoutMs_="+_)),_=m;const Pn=a.g;if(Pn){const fo=Pn.g?Pn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(fo){var B=_.h;B.g||fo.indexOf("spdy")==-1&&fo.indexOf("quic")==-1&&fo.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(Ue(B,B.h),B.h=null))}if(_.D){const Ci=Pn.g?Pn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ci&&(_.ya=Ci,$e(_.I,_.D,Ci))}}m.G=3,m.l&&m.l.ua(),m.ba&&(m.R=Date.now()-a.F,m.j.info("Handshake RTT: "+m.R+"ms")),_=m;var Q=a;if(_.qa=_u(_,_.J?_.ia:null,_.W),Q.K){Lt(_.h,Q);var Ve=Q,dt=_.L;dt&&(Ve.I=dt),Ve.B&&(nn(Ve),Fe(Ve)),_.g=Q}else vu(_);0<m.i.length&&Is(m)}else Re[0]!="stop"&&Re[0]!="close"||vr(m,7);else m.G==3&&(Re[0]=="stop"||Re[0]=="close"?Re[0]=="stop"?vr(m,7):Aa(m):Re[0]!="noop"&&m.l&&m.l.ta(Re),m.v=0)}}Vr(4)}catch{}}var mn=class{constructor(a,f){this.g=a,this.map=f}};function Fr(a){this.l=a||10,l.PerformanceNavigationTiming?(a=l.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ur(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function Br(a){return a.h?1:a.g?a.g.size:0}function me(a,f){return a.h?a.h==f:a.g?a.g.has(f):!1}function Ue(a,f){a.g?a.g.add(f):a.h=f}function Lt(a,f){a.h&&a.h==f?a.h=null:a.g&&a.g.has(f)&&a.g.delete(f)}Fr.prototype.cancel=function(){if(this.i=ze(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const a of this.g.values())a.cancel();this.g.clear()}};function ze(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let f=a.i;for(const m of a.g.values())f=f.concat(m.D);return f}return N(a.i)}function gn(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(u(a)){for(var f=[],m=a.length,_=0;_<m;_++)f.push(a[_]);return f}f=[],m=0;for(_ in a)f[m++]=a[_];return f}function ys(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(u(a)||typeof a=="string"){var f=[];a=a.length;for(var m=0;m<a;m++)f.push(m);return f}f=[],m=0;for(const _ in a)f[m++]=_;return f}}}function io(a,f){if(a.forEach&&typeof a.forEach=="function")a.forEach(f,void 0);else if(u(a)||typeof a=="string")Array.prototype.forEach.call(a,f,void 0);else for(var m=ys(a),_=gn(a),V=_.length,B=0;B<V;B++)f.call(void 0,_[B],m&&m[B],a)}var iu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function th(a,f){if(a){a=a.split("&");for(var m=0;m<a.length;m++){var _=a[m].indexOf("="),V=null;if(0<=_){var B=a[m].substring(0,_);V=a[m].substring(_+1)}else B=a[m];f(B,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function gr(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof gr){this.h=a.h,so(this,a.j),this.o=a.o,this.g=a.g,Xn(this,a.s),this.l=a.l;var f=a.i,m=new _s;m.i=f.i,f.g&&(m.g=new Map(f.g),m.h=f.h),Ia(this,m),this.m=a.m}else a&&(f=String(a).match(iu))?(this.h=!1,so(this,f[1]||"",!0),this.o=_i(f[2]||""),this.g=_i(f[3]||"",!0),Xn(this,f[4]),this.l=_i(f[5]||"",!0),Ia(this,f[6]||"",!0),this.m=_i(f[7]||"")):(this.h=!1,this.i=new _s(null,this.h))}gr.prototype.toString=function(){var a=[],f=this.j;f&&a.push(vs(f,su,!0),":");var m=this.g;return(m||f=="file")&&(a.push("//"),(f=this.o)&&a.push(vs(f,su,!0),"@"),a.push(encodeURIComponent(String(m)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.s,m!=null&&a.push(":",String(m))),(m=this.l)&&(this.g&&m.charAt(0)!="/"&&a.push("/"),a.push(vs(m,m.charAt(0)=="/"?ih:rh,!0))),(m=this.i.toString())&&a.push("?",m),(m=this.m)&&a.push("#",vs(m,ws)),a.join("")};function Yn(a){return new gr(a)}function so(a,f,m){a.j=m?_i(f,!0):f,a.j&&(a.j=a.j.replace(/:$/,""))}function Xn(a,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);a.s=f}else a.s=null}function Ia(a,f,m){f instanceof _s?(a.i=f,oh(a.i,a.h)):(m||(f=vs(f,sh)),a.i=new _s(f,a.h))}function $e(a,f,m){a.i.set(f,m)}function wi(a){return $e(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function _i(a,f){return a?f?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function vs(a,f,m){return typeof a=="string"?(a=encodeURI(a).replace(f,nh),m&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function nh(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var su=/[#\/\?@]/g,rh=/[#\?:]/g,ih=/[#\?]/g,sh=/[#\?@]/g,ws=/#/g;function _s(a,f){this.h=this.g=null,this.i=a||null,this.j=!!f}function Jn(a){a.g||(a.g=new Map,a.h=0,a.i&&th(a.i,function(f,m){a.add(decodeURIComponent(f.replace(/\+/g," ")),m)}))}t=_s.prototype,t.add=function(a,f){Jn(this),this.i=null,a=Ei(this,a);var m=this.g.get(a);return m||this.g.set(a,m=[]),m.push(f),this.h+=1,this};function ou(a,f){Jn(a),f=Ei(a,f),a.g.has(f)&&(a.i=null,a.h-=a.g.get(f).length,a.g.delete(f))}function au(a,f){return Jn(a),f=Ei(a,f),a.g.has(f)}t.forEach=function(a,f){Jn(this),this.g.forEach(function(m,_){m.forEach(function(V){a.call(f,V,_,this)},this)},this)},t.na=function(){Jn(this);const a=Array.from(this.g.values()),f=Array.from(this.g.keys()),m=[];for(let _=0;_<f.length;_++){const V=a[_];for(let B=0;B<V.length;B++)m.push(f[_])}return m},t.V=function(a){Jn(this);let f=[];if(typeof a=="string")au(this,a)&&(f=f.concat(this.g.get(Ei(this,a))));else{a=Array.from(this.g.values());for(let m=0;m<a.length;m++)f=f.concat(a[m])}return f},t.set=function(a,f){return Jn(this),this.i=null,a=Ei(this,a),au(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[f]),this.h+=1,this},t.get=function(a,f){return a?(a=this.V(a),0<a.length?String(a[0]):f):f};function lu(a,f,m){ou(a,f),0<m.length&&(a.i=null,a.g.set(Ei(a,f),N(m)),a.h+=m.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const a=[],f=Array.from(this.g.keys());for(var m=0;m<f.length;m++){var _=f[m];const B=encodeURIComponent(String(_)),Q=this.V(_);for(_=0;_<Q.length;_++){var V=B;Q[_]!==""&&(V+="="+encodeURIComponent(String(Q[_]))),a.push(V)}}return this.i=a.join("&")};function Ei(a,f){return f=String(f),a.j&&(f=f.toLowerCase()),f}function oh(a,f){f&&!a.j&&(Jn(a),a.i=null,a.g.forEach(function(m,_){var V=_.toLowerCase();_!=V&&(ou(this,_),lu(this,V,m))},a)),a.j=f}function ah(a,f){const m=new Mr;if(l.Image){const _=new Image;_.onload=S(yr,m,"TestLoadImage: loaded",!0,f,_),_.onerror=S(yr,m,"TestLoadImage: error",!1,f,_),_.onabort=S(yr,m,"TestLoadImage: abort",!1,f,_),_.ontimeout=S(yr,m,"TestLoadImage: timeout",!1,f,_),l.setTimeout(function(){_.ontimeout&&_.ontimeout()},1e4),_.src=a}else f(!1)}function lh(a,f){const m=new Mr,_=new AbortController,V=setTimeout(()=>{_.abort(),yr(m,"TestPingServer: timeout",!1,f)},1e4);fetch(a,{signal:_.signal}).then(B=>{clearTimeout(V),B.ok?yr(m,"TestPingServer: ok",!0,f):yr(m,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(V),yr(m,"TestPingServer: error",!1,f)})}function yr(a,f,m,_,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),_(m)}catch{}}function uh(){this.g=new Vn}function uu(a,f,m){const _=m||"";try{io(a,function(V,B){let Q=V;d(V)&&(Q=hn(V)),f.push(_+B+"="+encodeURIComponent(Q))})}catch(V){throw f.push(_+"type="+encodeURIComponent("_badmap")),V}}function oo(a){this.l=a.Ub||null,this.j=a.eb||!1}D(oo,gi),oo.prototype.g=function(){return new jr(this.l,this.j)},oo.prototype.i=function(a){return function(){return a}}({});function jr(a,f){je.call(this),this.D=a,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}D(jr,je),t=jr.prototype,t.open=function(a,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=f,this.readyState=1,Ts(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const f={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(f.body=a),(this.D||l).fetch(new Request(this.A,f)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Es(this)),this.readyState=0},t.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,Ts(this)),this.g&&(this.readyState=3,Ts(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;cu(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function cu(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}t.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var f=a.value?a.value:new Uint8Array(0);(f=this.v.decode(f,{stream:!a.done}))&&(this.response=this.responseText+=f)}a.done?Es(this):Ts(this),this.readyState==3&&cu(this)}},t.Ra=function(a){this.g&&(this.response=this.responseText=a,Es(this))},t.Qa=function(a){this.g&&(this.response=a,Es(this))},t.ga=function(){this.g&&Es(this)};function Es(a){a.readyState=4,a.l=null,a.j=null,a.v=null,Ts(a)}t.setRequestHeader=function(a,f){this.u.append(a,f)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const a=[],f=this.h.entries();for(var m=f.next();!m.done;)m=m.value,a.push(m[0]+": "+m[1]),m=f.next();return a.join(`\r
`)};function Ts(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(jr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function Ti(a){let f="";return j(a,function(m,_){f+=_,f+=":",f+=m,f+=`\r
`}),f}function Sa(a,f,m){e:{for(_ in m){var _=!1;break e}_=!0}_||(m=Ti(m),typeof a=="string"?m!=null&&encodeURIComponent(String(m)):$e(a,f,m))}function Ye(a){je.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}D(Ye,je);var ch=/^https?$/i,du=["POST","PUT"];t=Ye.prototype,t.Ha=function(a){this.J=a},t.ea=function(a,f,m,_){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);f=f?f.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ue.g(),this.v=this.o?ro(this.o):ro(ue),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(f,String(a),!0),this.B=!1}catch(B){Ca(this,B);return}if(a=m||"",m=new Map(this.headers),_)if(Object.getPrototypeOf(_)===Object.prototype)for(var V in _)m.set(V,_[V]);else if(typeof _.keys=="function"&&typeof _.get=="function")for(const B of _.keys())m.set(B,_.get(B));else throw Error("Unknown input type for opt_headers: "+String(_));_=Array.from(m.keys()).find(B=>B.toLowerCase()=="content-type"),V=l.FormData&&a instanceof l.FormData,!(0<=Array.prototype.indexOf.call(du,f,void 0))||_||V||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,Q]of m)this.g.setRequestHeader(B,Q);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{fu(this),this.u=!0,this.g.send(a),this.u=!1}catch(B){Ca(this,B)}};function Ca(a,f){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=f,a.m=5,Pa(a),ao(a)}function Pa(a){a.A||(a.A=!0,Qe(a,"complete"),Qe(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,Qe(this,"complete"),Qe(this,"abort"),ao(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ao(this,!0)),Ye.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?hu(this):this.bb())},t.bb=function(){hu(this)};function hu(a){if(a.h&&typeof o<"u"&&(!a.v[1]||Zn(a)!=4||a.Z()!=2)){if(a.u&&Zn(a)==4)mi(a.Ea,0,a);else if(Qe(a,"readystatechange"),Zn(a)==4){a.h=!1;try{const Q=a.Z();e:switch(Q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var m;if(!(m=f)){var _;if(_=Q===0){var V=String(a.D).match(iu)[1]||null;!V&&l.self&&l.self.location&&(V=l.self.location.protocol.slice(0,-1)),_=!ch.test(V?V.toLowerCase():"")}m=_}if(m)Qe(a,"complete"),Qe(a,"success");else{a.m=6;try{var B=2<Zn(a)?a.g.statusText:""}catch{B=""}a.l=B+" ["+a.Z()+"]",Pa(a)}}finally{ao(a)}}}}function ao(a,f){if(a.g){fu(a);const m=a.g,_=a.v[0]?()=>{}:null;a.g=null,a.v=null,f||Qe(a,"ready");try{m.onreadystatechange=_}catch{}}}function fu(a){a.I&&(l.clearTimeout(a.I),a.I=null)}t.isActive=function(){return!!this.g};function Zn(a){return a.g?a.g.readyState:0}t.Z=function(){try{return 2<Zn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(a){if(this.g){var f=this.g.responseText;return a&&f.indexOf(a)==0&&(f=f.substring(a.length)),no(f)}};function pu(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function dh(a){const f={};a=(a.g&&2<=Zn(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let _=0;_<a.length;_++){if(E(a[_]))continue;var m=b(a[_]);const V=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();const B=f[V]||[];f[V]=B,B.push(m)}C(f,function(_){return _.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Un(a,f,m){return m&&m.internalChannelParams&&m.internalChannelParams[a]||f}function mu(a){this.Aa=0,this.i=[],this.j=new Mr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Un("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Un("baseRetryDelayMs",5e3,a),this.cb=Un("retryDelaySeedMs",1e4,a),this.Wa=Un("forwardChannelMaxRetries",2,a),this.wa=Un("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new Fr(a&&a.concurrentRequestLimit),this.Da=new uh,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=mu.prototype,t.la=8,t.G=1,t.connect=function(a,f,m,_){ot(0),this.W=a,this.H=f||{},m&&_!==void 0&&(this.H.OSID=m,this.H.OAID=_),this.F=this.X,this.I=_u(this,null,this.W),Is(this)};function Aa(a){if(Ra(a),a.G==3){var f=a.U++,m=Yn(a.I);if($e(m,"SID",a.K),$e(m,"RID",f),$e(m,"TYPE","terminate"),Ss(a,m),f=new ie(a,a.j,f),f.L=2,f.v=wi(Yn(m)),m=!1,l.navigator&&l.navigator.sendBeacon)try{m=l.navigator.sendBeacon(f.v.toString(),"")}catch{}!m&&l.Image&&(new Image().src=f.v,m=!0),m||(f.g=Eu(f.j,null),f.g.ea(f.v)),f.F=Date.now(),Fe(f)}zr(a)}function lo(a){a.g&&(xa(a),a.g.cancel(),a.g=null)}function Ra(a){lo(a),a.u&&(l.clearTimeout(a.u),a.u=null),uo(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&l.clearTimeout(a.s),a.s=null)}function Is(a){if(!Ur(a.h)&&!a.s){a.s=!0;var f=a.Ga;ct||de(),Y||(ct(),Y=!0),Z.add(f,a),a.B=0}}function ka(a,f){return Br(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=f.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=fr(w(a.Ga,a,f),co(a,a.B)),a.B++,!0)}t.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;const V=new ie(this,this.j,a);let B=this.o;if(this.S&&(B?(B=g(B),I(B,this.S)):B=this.S),this.m!==null||this.O||(V.H=B,B=null),this.P)e:{for(var f=0,m=0;m<this.i.length;m++){t:{var _=this.i[m];if("__data__"in _.map&&(_=_.map.__data__,typeof _=="string")){_=_.length;break t}_=void 0}if(_===void 0)break;if(f+=_,4096<f){f=m;break e}if(f===4096||m===this.i.length-1){f=m+1;break e}}f=1e3}else f=1e3;f=yu(this,V,f),m=Yn(this.I),$e(m,"RID",a),$e(m,"CVER",22),this.D&&$e(m,"X-HTTP-Session-Id",this.D),Ss(this,m),B&&(this.O?f="headers="+encodeURIComponent(String(Ti(B)))+"&"+f:this.m&&Sa(m,this.m,B)),Ue(this.h,V),this.Ua&&$e(m,"TYPE","init"),this.P?($e(m,"$req",f),$e(m,"SID","null"),V.T=!0,fe(V,m,null)):fe(V,m,f),this.G=2}}else this.G==3&&(a?gu(this,a):this.i.length==0||Ur(this.h)||gu(this))};function gu(a,f){var m;f?m=f.l:m=a.U++;const _=Yn(a.I);$e(_,"SID",a.K),$e(_,"RID",m),$e(_,"AID",a.T),Ss(a,_),a.m&&a.o&&Sa(_,a.m,a.o),m=new ie(a,a.j,m,a.B+1),a.m===null&&(m.H=a.o),f&&(a.i=f.D.concat(a.i)),f=yu(a,m,1e3),m.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),Ue(a.h,m),fe(m,_,f)}function Ss(a,f){a.H&&j(a.H,function(m,_){$e(f,_,m)}),a.l&&io({},function(m,_){$e(f,_,m)})}function yu(a,f,m){m=Math.min(a.i.length,m);var _=a.l?w(a.l.Na,a.l,a):null;e:{var V=a.i;let B=-1;for(;;){const Q=["count="+m];B==-1?0<m?(B=V[0].g,Q.push("ofs="+B)):B=0:Q.push("ofs="+B);let Ve=!0;for(let dt=0;dt<m;dt++){let Re=V[dt].g;const Pt=V[dt].map;if(Re-=B,0>Re)B=Math.max(0,V[dt].g-100),Ve=!1;else try{uu(Pt,Q,"req"+Re+"_")}catch{_&&_(Pt)}}if(Ve){_=Q.join("&");break e}}}return a=a.i.splice(0,m),f.D=a,_}function vu(a){if(!a.g&&!a.u){a.Y=1;var f=a.Fa;ct||de(),Y||(ct(),Y=!0),Z.add(f,a),a.v=0}}function ba(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=fr(w(a.Fa,a),co(a,a.v)),a.v++,!0)}t.Fa=function(){if(this.u=null,wu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=fr(w(this.ab,this),a)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ot(10),lo(this),wu(this))};function xa(a){a.A!=null&&(l.clearTimeout(a.A),a.A=null)}function wu(a){a.g=new ie(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var f=Yn(a.qa);$e(f,"RID","rpc"),$e(f,"SID",a.K),$e(f,"AID",a.T),$e(f,"CI",a.F?"0":"1"),!a.F&&a.ja&&$e(f,"TO",a.ja),$e(f,"TYPE","xmlhttp"),Ss(a,f),a.m&&a.o&&Sa(f,a.m,a.o),a.L&&(a.g.I=a.L);var m=a.g;a=a.ia,m.L=1,m.v=wi(Yn(f)),m.m=null,m.P=!0,Le(m,a)}t.Za=function(){this.C!=null&&(this.C=null,lo(this),ba(this),ot(19))};function uo(a){a.C!=null&&(l.clearTimeout(a.C),a.C=null)}function Da(a,f){var m=null;if(a.g==f){uo(a),xa(a),a.g=null;var _=2}else if(me(a.h,f))m=f.D,Lt(a.h,f),_=1;else return;if(a.G!=0){if(f.o)if(_==1){m=f.m?f.m.length:0,f=Date.now()-f.F;var V=a.B;_=Fn(),Qe(_,new Qn(_,m)),Is(a)}else vu(a);else if(V=f.s,V==3||V==0&&0<f.X||!(_==1&&ka(a,f)||_==2&&ba(a)))switch(m&&0<m.length&&(f=a.h,f.i=f.i.concat(m)),V){case 1:vr(a,5);break;case 4:vr(a,10);break;case 3:vr(a,6);break;default:vr(a,2)}}}function co(a,f){let m=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(m*=2),m*f}function vr(a,f){if(a.j.info("Error code "+f),f==2){var m=w(a.fb,a),_=a.Xa;const V=!_;_=new gr(_||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||so(_,"https"),wi(_),V?ah(_.toString(),m):lh(_.toString(),m)}else ot(2);a.G=0,a.l&&a.l.sa(f),zr(a),Ra(a)}t.fb=function(a){a?(this.j.info("Successfully pinged google.com"),ot(2)):(this.j.info("Failed to ping google.com"),ot(1))};function zr(a){if(a.G=0,a.ka=[],a.l){const f=ze(a.h);(f.length!=0||a.i.length!=0)&&(F(a.ka,f),F(a.ka,a.i),a.h.i.length=0,N(a.i),a.i.length=0),a.l.ra()}}function _u(a,f,m){var _=m instanceof gr?Yn(m):new gr(m);if(_.g!="")f&&(_.g=f+"."+_.g),Xn(_,_.s);else{var V=l.location;_=V.protocol,f=f?f+"."+V.hostname:V.hostname,V=+V.port;var B=new gr(null);_&&so(B,_),f&&(B.g=f),V&&Xn(B,V),m&&(B.l=m),_=B}return m=a.D,f=a.ya,m&&f&&$e(_,m,f),$e(_,"VER",a.la),Ss(a,_),_}function Eu(a,f,m){if(f&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return f=a.Ca&&!a.pa?new Ye(new oo({eb:m})):new Ye(a.pa),f.Ha(a.J),f}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Tu(){}t=Tu.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function ho(){}ho.prototype.g=function(a,f){return new rn(a,f)};function rn(a,f){je.call(this),this.g=new mu(f),this.l=a,this.h=f&&f.messageUrlParams||null,a=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(a?a["X-WebChannel-Content-Type"]=f.messageContentType:a={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.va&&(a?a["X-WebChannel-Client-Profile"]=f.va:a={"X-WebChannel-Client-Profile":f.va}),this.g.S=a,(a=f&&f.Sb)&&!E(a)&&(this.g.m=a),this.v=f&&f.supportsCrossDomainXhr||!1,this.u=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!E(f)&&(this.g.D=f,a=this.h,a!==null&&f in a&&(a=this.h,f in a&&delete a[f])),this.j=new Ii(this)}D(rn,je),rn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},rn.prototype.close=function(){Aa(this.g)},rn.prototype.o=function(a){var f=this.g;if(typeof a=="string"){var m={};m.__data__=a,a=m}else this.u&&(m={},m.__data__=hn(a),a=m);f.i.push(new mn(f.Ya++,a)),f.G==3&&Is(f)},rn.prototype.N=function(){this.g.l=null,delete this.j,Aa(this.g),delete this.g,rn.aa.N.call(this)};function Iu(a){yi.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var f=a.__sm__;if(f){e:{for(const m in f){a=m;break e}a=void 0}(this.i=a)&&(a=this.i,f=f!==null&&a in f?f[a]:void 0),this.data=f}else this.data=a}D(Iu,yi);function Su(){Gn.call(this),this.status=1}D(Su,Gn);function Ii(a){this.g=a}D(Ii,Tu),Ii.prototype.ua=function(){Qe(this.g,"a")},Ii.prototype.ta=function(a){Qe(this.g,new Iu(a))},Ii.prototype.sa=function(a){Qe(this.g,new Su)},Ii.prototype.ra=function(){Qe(this.g,"b")},ho.prototype.createWebChannel=ho.prototype.g,rn.prototype.send=rn.prototype.o,rn.prototype.open=rn.prototype.m,rn.prototype.close=rn.prototype.close,VE=function(){return new ho},OE=function(){return Fn()},LE=fn,op={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},J.NO_ERROR=0,J.TIMEOUT=8,J.HTTP_ERROR=6,pc=J,oe.COMPLETE="complete",NE=oe,ps.EventType=Mn,Mn.OPEN="a",Mn.CLOSE="b",Mn.ERROR="c",Mn.MESSAGE="d",je.prototype.listen=je.prototype.K,Xa=ps,Ye.prototype.listenOnce=Ye.prototype.L,Ye.prototype.getLastError=Ye.prototype.Ka,Ye.prototype.getLastErrorCode=Ye.prototype.Ba,Ye.prototype.getStatus=Ye.prototype.Z,Ye.prototype.getResponseJson=Ye.prototype.Oa,Ye.prototype.getResponseText=Ye.prototype.oa,Ye.prototype.send=Ye.prototype.ea,Ye.prototype.setWithCredentials=Ye.prototype.Ha,DE=Ye}).apply(typeof qu<"u"?qu:typeof self<"u"?self:typeof window<"u"?window:{});const Iv="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Yt.UNAUTHENTICATED=new Yt(null),Yt.GOOGLE_CREDENTIALS=new Yt("google-credentials-uid"),Yt.FIRST_PARTY=new Yt("first-party-uid"),Yt.MOCK_USER=new Yt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let va="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gs=new Sm("@firebase/firestore");function vo(){return Gs.logLevel}function te(t,...e){if(Gs.logLevel<=Pe.DEBUG){const n=e.map(Vm);Gs.debug(`Firestore (${va}): ${t}`,...n)}}function oi(t,...e){if(Gs.logLevel<=Pe.ERROR){const n=e.map(Vm);Gs.error(`Firestore (${va}): ${t}`,...n)}}function ra(t,...e){if(Gs.logLevel<=Pe.WARN){const n=e.map(Vm);Gs.warn(`Firestore (${va}): ${t}`,...n)}}function Vm(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ge(t="Unexpected state"){const e=`FIRESTORE (${va}) INTERNAL ASSERTION FAILED: `+t;throw oi(e),new Error(e)}function Oe(t,e){t||ge()}function we(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends hi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ME{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class db{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Yt.UNAUTHENTICATED))}shutdown(){}}class hb{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class fb{constructor(e){this.t=e,this.currentUser=Yt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Oe(this.o===void 0);let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let s=new Ji;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ji,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const u=s;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},l=u=>{te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(te("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ji)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Oe(typeof r.accessToken=="string"),new ME(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Oe(e===null||typeof e=="string"),new Yt(e)}}class pb{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Yt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class mb{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new pb(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Yt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class gb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class yb{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Oe(this.o===void 0);const r=s=>{s.error!=null&&te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,te("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Oe(typeof n.token=="string"),this.R=n.token,new gb(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vb(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=vb(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function ke(t,e){return t<e?-1:t>e?1:0}function ia(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{static now(){return bt.fromMillis(Date.now())}static fromDate(e){return bt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new bt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new le(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new le(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new le(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new le(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ke(this.nanoseconds,e.nanoseconds):ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{static fromTimestamp(e){return new ye(e)}static min(){return new ye(new bt(0,0))}static max(){return new ye(new bt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(e,n,r){n===void 0?n=0:n>e.length&&ge(),r===void 0?r=e.length-n:r>e.length-n&&ge(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ol.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ol?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ut extends Ol{construct(e,n,r){return new ut(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new le(K.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ut(n)}static emptyPath(){return new ut([])}}const wb=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class zt extends Ol{construct(e,n,r){return new zt(e,n,r)}static isValidIdentifier(e){return wb.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),zt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new zt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new le(K.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new le(K.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new le(K.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else l==="`"?(o=!o,i++):l!=="."||o?(r+=l,i++):(s(),i++)}if(s(),o)throw new le(K.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new zt(n)}static emptyPath(){return new zt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(e){this.path=e}static fromPath(e){return new ce(ut.fromString(e))}static fromName(e){return new ce(ut.fromString(e).popFirst(5))}static empty(){return new ce(ut.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ut.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ut.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ce(new ut(e.slice()))}}function _b(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ye.fromTimestamp(r===1e9?new bt(n+1,0):new bt(n,r));return new ts(i,ce.empty(),e)}function Eb(t){return new ts(t.readTime,t.key,-1)}class ts{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ts(ye.min(),ce.empty(),-1)}static max(){return new ts(ye.max(),ce.empty(),-1)}}function Tb(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ce.comparator(t.documentKey,e.documentKey),n!==0?n:ke(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ib="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Sb{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wa(t){if(t.code!==K.FAILED_PRECONDITION||t.message!==Ib)throw t;te("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ge(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new W((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof W?n:W.resolve(n)}catch(n){return W.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):W.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):W.reject(n)}static resolve(e){return new W((n,r)=>{n(e)})}static reject(e){return new W((n,r)=>{r(e)})}static waitFor(e){return new W((n,r)=>{let i=0,s=0,o=!1;e.forEach(l=>{++i,l.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=W.resolve(!1);for(const r of e)n=n.next(i=>i?W.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new W((r,i)=>{const s=e.length,o=new Array(s);let l=0;for(let u=0;u<s;u++){const d=u;n(e[d]).next(p=>{o[d]=p,++l,l===s&&r(o)},p=>i(p))}})}static doWhile(e,n){return new W((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function Cb(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function _a(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Fd.oe=-1;function Ud(t){return t==null}function rd(t){return t===0&&1/t==-1/0}function Pb(t){return typeof t=="number"&&Number.isInteger(t)&&!rd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ab(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Sv(e)),e=Rb(t.get(n),e);return Sv(e)}function Rb(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function Sv(t){return t+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cv(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ds(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function UE(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{constructor(e,n){this.comparator=e,this.root=n||jt.EMPTY}insert(e,n){return new rt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,jt.BLACK,null,null))}remove(e){return new rt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,jt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ku(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ku(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ku(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ku(this.root,e,this.comparator,!0)}}class Ku{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class jt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??jt.RED,this.left=i??jt.EMPTY,this.right=s??jt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new jt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return jt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return jt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,jt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,jt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ge();const e=this.left.check();if(e!==this.right.check())throw ge();return e+(this.isRed()?0:1)}}jt.EMPTY=null,jt.RED=!0,jt.BLACK=!1;jt.EMPTY=new class{constructor(){this.size=0}get key(){throw ge()}get value(){throw ge()}get color(){throw ge()}get left(){throw ge()}get right(){throw ge()}copy(e,n,r,i,s){return this}insert(e,n,r){return new jt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e){this.comparator=e,this.data=new rt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Pv(this.data.getIterator())}getIteratorFrom(e){return new Pv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof xt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new xt(this.comparator);return n.data=e,n}}class Pv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e){this.fields=e,e.sort(zt.comparator)}static empty(){return new bn([])}unionWith(e){let n=new xt(zt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new bn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ia(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new BE("Invalid base64 string: "+s):s}}(e);return new Wt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Wt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Wt.EMPTY_BYTE_STRING=new Wt("");const kb=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ns(t){if(Oe(!!t),typeof t=="string"){let e=0;const n=kb.exec(t);if(Oe(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ft(t.seconds),nanos:ft(t.nanos)}}function ft(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function rs(t){return typeof t=="string"?Wt.fromBase64String(t):Wt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mm(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Bd(t){const e=t.mapValue.fields.__previous_value__;return Mm(e)?Bd(e):e}function Vl(t){const e=ns(t.mapValue.fields.__local_write_time__.timestampValue);return new bt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bb{constructor(e,n,r,i,s,o,l,u,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=d}}class Ml{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Ml("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Ml&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function is(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Mm(t)?4:Db(t)?9007199254740991:xb(t)?10:11:ge()}function Dr(t,e){if(t===e)return!0;const n=is(t);if(n!==is(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Vl(t).isEqual(Vl(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=ns(i.timestampValue),l=ns(s.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return rs(i.bytesValue).isEqual(rs(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return ft(i.geoPointValue.latitude)===ft(s.geoPointValue.latitude)&&ft(i.geoPointValue.longitude)===ft(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return ft(i.integerValue)===ft(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=ft(i.doubleValue),l=ft(s.doubleValue);return o===l?rd(o)===rd(l):isNaN(o)&&isNaN(l)}return!1}(t,e);case 9:return ia(t.arrayValue.values||[],e.arrayValue.values||[],Dr);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},l=s.mapValue.fields||{};if(Cv(o)!==Cv(l))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(l[u]===void 0||!Dr(o[u],l[u])))return!1;return!0}(t,e);default:return ge()}}function Fl(t,e){return(t.values||[]).find(n=>Dr(n,e))!==void 0}function sa(t,e){if(t===e)return 0;const n=is(t),r=is(e);if(n!==r)return ke(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ke(t.booleanValue,e.booleanValue);case 2:return function(s,o){const l=ft(s.integerValue||s.doubleValue),u=ft(o.integerValue||o.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1}(t,e);case 3:return Av(t.timestampValue,e.timestampValue);case 4:return Av(Vl(t),Vl(e));case 5:return ke(t.stringValue,e.stringValue);case 6:return function(s,o){const l=rs(s),u=rs(o);return l.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const l=s.split("/"),u=o.split("/");for(let d=0;d<l.length&&d<u.length;d++){const p=ke(l[d],u[d]);if(p!==0)return p}return ke(l.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const l=ke(ft(s.latitude),ft(o.latitude));return l!==0?l:ke(ft(s.longitude),ft(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Rv(t.arrayValue,e.arrayValue);case 10:return function(s,o){var l,u,d,p;const y=s.fields||{},w=o.fields||{},S=(l=y.value)===null||l===void 0?void 0:l.arrayValue,D=(u=w.value)===null||u===void 0?void 0:u.arrayValue,N=ke(((d=S==null?void 0:S.values)===null||d===void 0?void 0:d.length)||0,((p=D==null?void 0:D.values)===null||p===void 0?void 0:p.length)||0);return N!==0?N:Rv(S,D)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===Gu.mapValue&&o===Gu.mapValue)return 0;if(s===Gu.mapValue)return 1;if(o===Gu.mapValue)return-1;const l=s.fields||{},u=Object.keys(l),d=o.fields||{},p=Object.keys(d);u.sort(),p.sort();for(let y=0;y<u.length&&y<p.length;++y){const w=ke(u[y],p[y]);if(w!==0)return w;const S=sa(l[u[y]],d[p[y]]);if(S!==0)return S}return ke(u.length,p.length)}(t.mapValue,e.mapValue);default:throw ge()}}function Av(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ke(t,e);const n=ns(t),r=ns(e),i=ke(n.seconds,r.seconds);return i!==0?i:ke(n.nanos,r.nanos)}function Rv(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=sa(n[i],r[i]);if(s)return s}return ke(n.length,r.length)}function oa(t){return ap(t)}function ap(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ns(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return rs(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ce.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=ap(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${ap(n.fields[o])}`;return i+"}"}(t.mapValue):ge()}function mc(t){switch(is(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Bd(t);return e?16+mc(e):16;case 5:return 2*t.stringValue.length;case 6:return rs(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+mc(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return ds(r.fields,(s,o)=>{i+=s.length+mc(o)}),i}(t.mapValue);default:throw ge()}}function lp(t){return!!t&&"integerValue"in t}function Fm(t){return!!t&&"arrayValue"in t}function kv(t){return!!t&&"nullValue"in t}function bv(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function gc(t){return!!t&&"mapValue"in t}function xb(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function cl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ds(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=cl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=cl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Db(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.value=e}static empty(){return new wn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!gc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=cl(n)}setAll(e){let n=zt.emptyPath(),r={},i=[];e.forEach((o,l)=>{if(!n.isImmediateParentOf(l)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=l.popLast()}o?r[l.lastSegment()]=cl(o):i.push(l.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());gc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Dr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];gc(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ds(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new wn(cl(this.value))}}function jE(t){const e=[];return ds(t.fields,(n,r)=>{const i=new zt([n]);if(gc(r)){const s=jE(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new bn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e,n,r,i,s,o,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=l}static newInvalidDocument(e){return new Jt(e,0,ye.min(),ye.min(),ye.min(),wn.empty(),0)}static newFoundDocument(e,n,r,i){return new Jt(e,1,n,ye.min(),r,i,0)}static newNoDocument(e,n){return new Jt(e,2,n,ye.min(),ye.min(),wn.empty(),0)}static newUnknownDocument(e,n){return new Jt(e,3,n,ye.min(),ye.min(),wn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ye.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=wn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=wn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ye.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Jt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Jt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id{constructor(e,n){this.position=e,this.inclusive=n}}function xv(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=ce.comparator(ce.fromName(o.referenceValue),n.key):r=sa(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Dv(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Dr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(e,n="asc"){this.field=e,this.dir=n}}function Nb(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zE{}class Rt extends zE{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Ob(e,n,r):n==="array-contains"?new Fb(e,r):n==="in"?new Ub(e,r):n==="not-in"?new Bb(e,r):n==="array-contains-any"?new jb(e,r):new Rt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Vb(e,r):new Mb(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(sa(n,this.value)):n!==null&&is(this.value)===is(n)&&this.matchesComparison(sa(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ge()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Nr extends zE{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Nr(e,n)}matches(e){return $E(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function $E(t){return t.op==="and"}function HE(t){return Lb(t)&&$E(t)}function Lb(t){for(const e of t.filters)if(e instanceof Nr)return!1;return!0}function up(t){if(t instanceof Rt)return t.field.canonicalString()+t.op.toString()+oa(t.value);if(HE(t))return t.filters.map(e=>up(e)).join(",");{const e=t.filters.map(n=>up(n)).join(",");return`${t.op}(${e})`}}function WE(t,e){return t instanceof Rt?function(r,i){return i instanceof Rt&&r.op===i.op&&r.field.isEqual(i.field)&&Dr(r.value,i.value)}(t,e):t instanceof Nr?function(r,i){return i instanceof Nr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,l)=>s&&WE(o,i.filters[l]),!0):!1}(t,e):void ge()}function qE(t){return t instanceof Rt?function(n){return`${n.field.canonicalString()} ${n.op} ${oa(n.value)}`}(t):t instanceof Nr?function(n){return n.op.toString()+" {"+n.getFilters().map(qE).join(" ,")+"}"}(t):"Filter"}class Ob extends Rt{constructor(e,n,r){super(e,n,r),this.key=ce.fromName(r.referenceValue)}matches(e){const n=ce.comparator(e.key,this.key);return this.matchesComparison(n)}}class Vb extends Rt{constructor(e,n){super(e,"in",n),this.keys=KE("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Mb extends Rt{constructor(e,n){super(e,"not-in",n),this.keys=KE("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function KE(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ce.fromName(r.referenceValue))}class Fb extends Rt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Fm(n)&&Fl(n.arrayValue,this.value)}}class Ub extends Rt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Fl(this.value.arrayValue,n)}}class Bb extends Rt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Fl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Fl(this.value.arrayValue,n)}}class jb extends Rt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Fm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Fl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zb{constructor(e,n=null,r=[],i=[],s=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=l,this.ue=null}}function Nv(t,e=null,n=[],r=[],i=null,s=null,o=null){return new zb(t,e,n,r,i,s,o)}function Um(t){const e=we(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>up(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Ud(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>oa(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>oa(r)).join(",")),e.ue=n}return e.ue}function Bm(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Nb(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!WE(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Dv(t.startAt,e.startAt)&&Dv(t.endAt,e.endAt)}function cp(t){return ce.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd{constructor(e,n=null,r=[],i=[],s=null,o="F",l=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=l,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function $b(t,e,n,r,i,s,o,l){return new jd(t,e,n,r,i,s,o,l)}function jm(t){return new jd(t)}function Lv(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Hb(t){return t.collectionGroup!==null}function dl(t){const e=we(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new xt(zt.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(d=>{d.isInequality()&&(l=l.add(d.field))})}),l})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new sd(s,r))}),n.has(zt.keyField().canonicalString())||e.ce.push(new sd(zt.keyField(),r))}return e.ce}function kr(t){const e=we(t);return e.le||(e.le=Wb(e,dl(t))),e.le}function Wb(t,e){if(t.limitType==="F")return Nv(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new sd(i.field,s)});const n=t.endAt?new id(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new id(t.startAt.position,t.startAt.inclusive):null;return Nv(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function dp(t,e,n){return new jd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function zd(t,e){return Bm(kr(t),kr(e))&&t.limitType===e.limitType}function GE(t){return`${Um(kr(t))}|lt:${t.limitType}`}function wo(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>qE(i)).join(", ")}]`),Ud(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>oa(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>oa(i)).join(",")),`Target(${r})`}(kr(t))}; limitType=${t.limitType})`}function $d(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ce.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of dl(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,l,u){const d=xv(o,l,u);return o.inclusive?d<=0:d<0}(r.startAt,dl(r),i)||r.endAt&&!function(o,l,u){const d=xv(o,l,u);return o.inclusive?d>=0:d>0}(r.endAt,dl(r),i))}(t,e)}function qb(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function QE(t){return(e,n)=>{let r=!1;for(const i of dl(t)){const s=Kb(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function Kb(t,e,n){const r=t.field.isKeyField()?ce.comparator(e.key,n.key):function(s,o,l){const u=o.data.field(s),d=l.data.field(s);return u!==null&&d!==null?sa(u,d):ge()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ge()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ds(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return UE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gb=new rt(ce.comparator);function ai(){return Gb}const YE=new rt(ce.comparator);function Ja(...t){let e=YE;for(const n of t)e=e.insert(n.key,n);return e}function XE(t){let e=YE;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ls(){return hl()}function JE(){return hl()}function hl(){return new Js(t=>t.toString(),(t,e)=>t.isEqual(e))}const Qb=new rt(ce.comparator),Yb=new xt(ce.comparator);function Ae(...t){let e=Yb;for(const n of t)e=e.add(n);return e}const Xb=new xt(ke);function Jb(){return Xb}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zm(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:rd(e)?"-0":e}}function ZE(t){return{integerValue:""+t}}function Zb(t,e){return Pb(e)?ZE(e):zm(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hd{constructor(){this._=void 0}}function ex(t,e,n){return t instanceof od?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Mm(s)&&(s=Bd(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Ul?tT(t,e):t instanceof Bl?nT(t,e):function(i,s){const o=eT(i,s),l=Ov(o)+Ov(i.Pe);return lp(o)&&lp(i.Pe)?ZE(l):zm(i.serializer,l)}(t,e)}function tx(t,e,n){return t instanceof Ul?tT(t,e):t instanceof Bl?nT(t,e):n}function eT(t,e){return t instanceof ad?function(r){return lp(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class od extends Hd{}class Ul extends Hd{constructor(e){super(),this.elements=e}}function tT(t,e){const n=rT(e);for(const r of t.elements)n.some(i=>Dr(i,r))||n.push(r);return{arrayValue:{values:n}}}class Bl extends Hd{constructor(e){super(),this.elements=e}}function nT(t,e){let n=rT(e);for(const r of t.elements)n=n.filter(i=>!Dr(i,r));return{arrayValue:{values:n}}}class ad extends Hd{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function Ov(t){return ft(t.integerValue||t.doubleValue)}function rT(t){return Fm(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function nx(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Ul&&i instanceof Ul||r instanceof Bl&&i instanceof Bl?ia(r.elements,i.elements,Dr):r instanceof ad&&i instanceof ad?Dr(r.Pe,i.Pe):r instanceof od&&i instanceof od}(t.transform,e.transform)}class rx{constructor(e,n){this.version=e,this.transformResults=n}}class br{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new br}static exists(e){return new br(void 0,e)}static updateTime(e){return new br(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function yc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Wd{}function iT(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new oT(t.key,br.none()):new eu(t.key,t.data,br.none());{const n=t.data,r=wn.empty();let i=new xt(zt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new hs(t.key,r,new bn(i.toArray()),br.none())}}function ix(t,e,n){t instanceof eu?function(i,s,o){const l=i.value.clone(),u=Mv(i.fieldTransforms,s,o.transformResults);l.setAll(u),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):t instanceof hs?function(i,s,o){if(!yc(i.precondition,s))return void s.convertToUnknownDocument(o.version);const l=Mv(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(sT(i)),u.setAll(l),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function fl(t,e,n,r){return t instanceof eu?function(s,o,l,u){if(!yc(s.precondition,o))return l;const d=s.value.clone(),p=Fv(s.fieldTransforms,u,o);return d.setAll(p),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null}(t,e,n,r):t instanceof hs?function(s,o,l,u){if(!yc(s.precondition,o))return l;const d=Fv(s.fieldTransforms,u,o),p=o.data;return p.setAll(sT(s)),p.setAll(d),o.convertToFoundDocument(o.version,p).setHasLocalMutations(),l===null?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(y=>y.field))}(t,e,n,r):function(s,o,l){return yc(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(t,e,n)}function sx(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=eT(r.transform,i||null);s!=null&&(n===null&&(n=wn.empty()),n.set(r.field,s))}return n||null}function Vv(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ia(r,i,(s,o)=>nx(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class eu extends Wd{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class hs extends Wd{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function sT(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Mv(t,e,n){const r=new Map;Oe(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,l=e.data.field(s.field);r.set(s.field,tx(o,l,n[i]))}return r}function Fv(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,ex(s,o,e))}return r}class oT extends Wd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ox extends Wd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ax{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&ix(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=fl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=fl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=JE();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let l=this.applyToLocalView(o,s.mutatedFields);l=n.has(i.key)?null:l;const u=iT(o,l);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(ye.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ae())}isEqual(e){return this.batchId===e.batchId&&ia(this.mutations,e.mutations,(n,r)=>Vv(n,r))&&ia(this.baseMutations,e.baseMutations,(n,r)=>Vv(n,r))}}class $m{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Oe(e.mutations.length===r.length);let i=function(){return Qb}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new $m(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lx{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ux{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yt,xe;function cx(t){switch(t){default:return ge();case K.CANCELLED:case K.UNKNOWN:case K.DEADLINE_EXCEEDED:case K.RESOURCE_EXHAUSTED:case K.INTERNAL:case K.UNAVAILABLE:case K.UNAUTHENTICATED:return!1;case K.INVALID_ARGUMENT:case K.NOT_FOUND:case K.ALREADY_EXISTS:case K.PERMISSION_DENIED:case K.FAILED_PRECONDITION:case K.ABORTED:case K.OUT_OF_RANGE:case K.UNIMPLEMENTED:case K.DATA_LOSS:return!0}}function aT(t){if(t===void 0)return oi("GRPC error has no .code"),K.UNKNOWN;switch(t){case yt.OK:return K.OK;case yt.CANCELLED:return K.CANCELLED;case yt.UNKNOWN:return K.UNKNOWN;case yt.DEADLINE_EXCEEDED:return K.DEADLINE_EXCEEDED;case yt.RESOURCE_EXHAUSTED:return K.RESOURCE_EXHAUSTED;case yt.INTERNAL:return K.INTERNAL;case yt.UNAVAILABLE:return K.UNAVAILABLE;case yt.UNAUTHENTICATED:return K.UNAUTHENTICATED;case yt.INVALID_ARGUMENT:return K.INVALID_ARGUMENT;case yt.NOT_FOUND:return K.NOT_FOUND;case yt.ALREADY_EXISTS:return K.ALREADY_EXISTS;case yt.PERMISSION_DENIED:return K.PERMISSION_DENIED;case yt.FAILED_PRECONDITION:return K.FAILED_PRECONDITION;case yt.ABORTED:return K.ABORTED;case yt.OUT_OF_RANGE:return K.OUT_OF_RANGE;case yt.UNIMPLEMENTED:return K.UNIMPLEMENTED;case yt.DATA_LOSS:return K.DATA_LOSS;default:return ge()}}(xe=yt||(yt={}))[xe.OK=0]="OK",xe[xe.CANCELLED=1]="CANCELLED",xe[xe.UNKNOWN=2]="UNKNOWN",xe[xe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xe[xe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xe[xe.NOT_FOUND=5]="NOT_FOUND",xe[xe.ALREADY_EXISTS=6]="ALREADY_EXISTS",xe[xe.PERMISSION_DENIED=7]="PERMISSION_DENIED",xe[xe.UNAUTHENTICATED=16]="UNAUTHENTICATED",xe[xe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xe[xe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xe[xe.ABORTED=10]="ABORTED",xe[xe.OUT_OF_RANGE=11]="OUT_OF_RANGE",xe[xe.UNIMPLEMENTED=12]="UNIMPLEMENTED",xe[xe.INTERNAL=13]="INTERNAL",xe[xe.UNAVAILABLE=14]="UNAVAILABLE",xe[xe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dx(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hx=new Ms([4294967295,4294967295],0);function Uv(t){const e=dx().encode(t),n=new xE;return n.update(e),new Uint8Array(n.digest())}function Bv(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Ms([n,r],0),new Ms([i,s],0)]}class Hm{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Za(`Invalid padding: ${n}`);if(r<0)throw new Za(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Za(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Za(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ie=Ms.fromNumber(this.Te)}Ee(e,n,r){let i=e.add(n.multiply(Ms.fromNumber(r)));return i.compare(hx)===1&&(i=new Ms([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ie).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=Uv(e),[r,i]=Bv(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new Hm(s,i,n);return r.forEach(l=>o.insert(l)),o}insert(e){if(this.Te===0)return;const n=Uv(e),[r,i]=Bv(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Za extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qd{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,tu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new qd(ye.min(),i,new rt(ke),ai(),Ae())}}class tu{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new tu(r,n,Ae(),Ae(),Ae())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class lT{constructor(e,n){this.targetId=e,this.me=n}}class uT{constructor(e,n,r=Wt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class jv{constructor(){this.fe=0,this.ge=zv(),this.pe=Wt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ae(),n=Ae(),r=Ae();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ge()}}),new tu(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=zv()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Oe(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class fx{constructor(e){this.Le=e,this.Be=new Map,this.ke=ai(),this.qe=Qu(),this.Qe=Qu(),this.Ke=new rt(ke)}$e(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(n,e.Ve):this.We(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.We(n,e.key,e.Ve)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.je(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.De(e.resumeToken));break;default:ge()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.me.count,i=this.Ye(n);if(i){const s=i.target;if(cp(s))if(r===0){const o=new ce(s.path);this.We(n,o,Jt.newNoDocument(o,ye.min()))}else Oe(r===1);else{const o=this.Ze(n);if(o!==r){const l=this.Xe(e),u=l?this.et(l,e,o):1;if(u!==0){this.He(n);const d=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,d)}}}}}Xe(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,l;try{o=rs(r).toUint8Array()}catch(u){if(u instanceof BE)return ra("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new Hm(o,i,s)}catch(u){return ra(u instanceof Za?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.Te===0?null:l}et(e,n,r){return n.me.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.nt(),l=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(l)||(this.We(n,s,null),i++)}),i}it(e){const n=new Map;this.Be.forEach((s,o)=>{const l=this.Ye(o);if(l){if(s.current&&cp(l.target)){const u=new ce(l.target.path);this.st(u).has(o)||this.ot(o,u)||this.We(o,u,Jt.newNoDocument(u,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=Ae();this.Qe.forEach((s,o)=>{let l=!0;o.forEachWhile(u=>{const d=this.Ye(u);return!d||d.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new qd(e,n,this.Ke,this.ke,r);return this.ke=ai(),this.qe=Qu(),this.Qe=Qu(),this.Ke=new rt(ke),i}Ue(e,n){if(!this.je(e))return;const r=this.ot(e,n.key)?2:0;this.ze(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e)),this.Qe=this.Qe.insert(n.key,this._t(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.ot(e,n)?i.Fe(n,1):i.Me(n),this.Qe=this.Qe.insert(n,this._t(n).delete(e)),this.Qe=this.Qe.insert(n,this._t(n).add(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let n=this.Be.get(e);return n||(n=new jv,this.Be.set(e,n)),n}_t(e){let n=this.Qe.get(e);return n||(n=new xt(ke),this.Qe=this.Qe.insert(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new xt(ke),this.qe=this.qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||te("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ut(e)}He(e){this.Be.set(e,new jv),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}ot(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Qu(){return new rt(ce.comparator)}function zv(){return new rt(ce.comparator)}const px={asc:"ASCENDING",desc:"DESCENDING"},mx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},gx={and:"AND",or:"OR"};class yx{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function hp(t,e){return t.useProto3Json||Ud(e)?e:{value:e}}function ld(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function cT(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function vx(t,e){return ld(t,e.toTimestamp())}function xr(t){return Oe(!!t),ye.fromTimestamp(function(n){const r=ns(n);return new bt(r.seconds,r.nanos)}(t))}function Wm(t,e){return fp(t,e).canonicalString()}function fp(t,e){const n=function(i){return new ut(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function dT(t){const e=ut.fromString(t);return Oe(gT(e)),e}function pp(t,e){return Wm(t.databaseId,e.path)}function Yh(t,e){const n=dT(e);if(n.get(1)!==t.databaseId.projectId)throw new le(K.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new le(K.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ce(fT(n))}function hT(t,e){return Wm(t.databaseId,e)}function wx(t){const e=dT(t);return e.length===4?ut.emptyPath():fT(e)}function mp(t){return new ut(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function fT(t){return Oe(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function $v(t,e,n){return{name:pp(t,e),fields:n.value.mapValue.fields}}function _x(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:ge()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(d,p){return d.useProto3Json?(Oe(p===void 0||typeof p=="string"),Wt.fromBase64String(p||"")):(Oe(p===void 0||p instanceof Buffer||p instanceof Uint8Array),Wt.fromUint8Array(p||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(d){const p=d.code===void 0?K.UNKNOWN:aT(d.code);return new le(p,d.message||"")}(o);n=new uT(r,i,s,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Yh(t,r.document.name),s=xr(r.document.updateTime),o=r.document.createTime?xr(r.document.createTime):ye.min(),l=new wn({mapValue:{fields:r.document.fields}}),u=Jt.newFoundDocument(i,s,o,l),d=r.targetIds||[],p=r.removedTargetIds||[];n=new vc(d,p,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Yh(t,r.document),s=r.readTime?xr(r.readTime):ye.min(),o=Jt.newNoDocument(i,s),l=r.removedTargetIds||[];n=new vc([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Yh(t,r.document),s=r.removedTargetIds||[];n=new vc([],s,i,null)}else{if(!("filter"in e))return ge();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new ux(i,s),l=r.targetId;n=new lT(l,o)}}return n}function Ex(t,e){let n;if(e instanceof eu)n={update:$v(t,e.key,e.value)};else if(e instanceof oT)n={delete:pp(t,e.key)};else if(e instanceof hs)n={update:$v(t,e.key,e.data),updateMask:bx(e.fieldMask)};else{if(!(e instanceof ox))return ge();n={verify:pp(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const l=o.transform;if(l instanceof od)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Ul)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Bl)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof ad)return{fieldPath:o.field.canonicalString(),increment:l.Pe};throw ge()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:vx(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ge()}(t,e.precondition)),n}function Tx(t,e){return t&&t.length>0?(Oe(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?xr(i.updateTime):xr(s);return o.isEqual(ye.min())&&(o=xr(s)),new rx(o,i.transformResults||[])}(n,e))):[]}function Ix(t,e){return{documents:[hT(t,e.path)]}}function Sx(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=hT(t,i);const s=function(d){if(d.length!==0)return mT(Nr.create(d,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(d){if(d.length!==0)return d.map(p=>function(w){return{field:_o(w.field),direction:Ax(w.dir)}}(p))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const l=hp(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{ct:n,parent:i}}function Cx(t){let e=wx(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Oe(r===1);const p=n.from[0];p.allDescendants?i=p.collectionId:e=e.child(p.collectionId)}let s=[];n.where&&(s=function(y){const w=pT(y);return w instanceof Nr&&HE(w)?w.getFilters():[w]}(n.where));let o=[];n.orderBy&&(o=function(y){return y.map(w=>function(D){return new sd(Eo(D.field),function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(D.direction))}(w))}(n.orderBy));let l=null;n.limit&&(l=function(y){let w;return w=typeof y=="object"?y.value:y,Ud(w)?null:w}(n.limit));let u=null;n.startAt&&(u=function(y){const w=!!y.before,S=y.values||[];return new id(S,w)}(n.startAt));let d=null;return n.endAt&&(d=function(y){const w=!y.before,S=y.values||[];return new id(S,w)}(n.endAt)),$b(e,i,o,s,l,"F",u,d)}function Px(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ge()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function pT(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Eo(n.unaryFilter.field);return Rt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Eo(n.unaryFilter.field);return Rt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Eo(n.unaryFilter.field);return Rt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Eo(n.unaryFilter.field);return Rt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ge()}}(t):t.fieldFilter!==void 0?function(n){return Rt.create(Eo(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ge()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Nr.create(n.compositeFilter.filters.map(r=>pT(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ge()}}(n.compositeFilter.op))}(t):ge()}function Ax(t){return px[t]}function Rx(t){return mx[t]}function kx(t){return gx[t]}function _o(t){return{fieldPath:t.canonicalString()}}function Eo(t){return zt.fromServerFormat(t.fieldPath)}function mT(t){return t instanceof Rt?function(n){if(n.op==="=="){if(bv(n.value))return{unaryFilter:{field:_o(n.field),op:"IS_NAN"}};if(kv(n.value))return{unaryFilter:{field:_o(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(bv(n.value))return{unaryFilter:{field:_o(n.field),op:"IS_NOT_NAN"}};if(kv(n.value))return{unaryFilter:{field:_o(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:_o(n.field),op:Rx(n.op),value:n.value}}}(t):t instanceof Nr?function(n){const r=n.getFilters().map(i=>mT(i));return r.length===1?r[0]:{compositeFilter:{op:kx(n.op),filters:r}}}(t):ge()}function bx(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function gT(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi{constructor(e,n,r,i,s=ye.min(),o=ye.min(),l=Wt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(e){return new Bi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Bi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Bi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Bi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xx{constructor(e){this.ht=e}}function Dx(t){const e=Cx({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?dp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nx{constructor(){this.ln=new Lx}addToCollectionParentIndex(e,n){return this.ln.add(n),W.resolve()}getCollectionParents(e,n){return W.resolve(this.ln.getEntries(n))}addFieldIndex(e,n){return W.resolve()}deleteFieldIndex(e,n){return W.resolve()}deleteAllFieldIndexes(e){return W.resolve()}createTargetIndexes(e,n){return W.resolve()}getDocumentsMatchingTarget(e,n){return W.resolve(null)}getIndexType(e,n){return W.resolve(0)}getFieldIndexes(e,n){return W.resolve([])}getNextCollectionGroupToUpdate(e){return W.resolve(null)}getMinOffset(e,n){return W.resolve(ts.min())}getMinOffsetFromCollectionGroup(e,n){return W.resolve(ts.min())}updateCollectionGroup(e,n,r){return W.resolve()}updateIndexEntries(e,n){return W.resolve()}}class Lx{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new xt(ut.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new xt(ut.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class yn{static withCacheSize(e){return new yn(e,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */yn.DEFAULT_COLLECTION_PERCENTILE=10,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yn.DEFAULT=new yn(41943040,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yn.DISABLED=new yn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new aa(0)}static Qn(){return new aa(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wv([t,e],[n,r]){const i=ke(t,n);return i===0?ke(e,r):i}class Ox{constructor(e){this.Gn=e,this.buffer=new xt(Wv),this.zn=0}jn(){return++this.zn}Hn(e){const n=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Wv(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Vx{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){te("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){_a(n)?te("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await wa(n)}await this.Yn(3e5)})}}class Mx{constructor(e,n){this.Zn=e,this.params=n}calculateTargetCount(e,n){return this.Zn.Xn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return W.resolve(Fd.oe);const r=new Ox(n);return this.Zn.forEachTarget(e,i=>r.Hn(i.sequenceNumber)).next(()=>this.Zn.er(e,i=>r.Hn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Zn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Zn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(te("LruGarbageCollector","Garbage collection skipped; disabled"),W.resolve(Hv)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(te("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Hv):this.tr(e,n))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,n){let r,i,s,o,l,u,d;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(y=>(y>this.params.maximumSequenceNumbersToCollect?(te("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${y}`),i=this.params.maximumSequenceNumbersToCollect):i=y,o=Date.now(),this.nthSequenceNumber(e,i))).next(y=>(r=y,l=Date.now(),this.removeTargets(e,r,n))).next(y=>(s=y,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(y=>(d=Date.now(),vo()<=Pe.DEBUG&&te("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-p}ms
	Determined least recently used ${i} in `+(l-o)+`ms
	Removed ${s} targets in `+(u-l)+`ms
	Removed ${y} documents in `+(d-u)+`ms
Total Duration: ${d-p}ms`),W.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:y})))}}function Fx(t,e){return new Mx(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ux{constructor(){this.changes=new Js(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Jt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?W.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bx{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jx{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&fl(r.mutation,i,bn.empty(),bt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ae()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ae()){const i=Ls();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Ja();return s.forEach((l,u)=>{o=o.insert(l,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Ls();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ae()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,l)=>{n.set(o,l)})})}computeViews(e,n,r,i){let s=ai();const o=hl(),l=function(){return hl()}();return n.forEach((u,d)=>{const p=r.get(d.key);i.has(d.key)&&(p===void 0||p.mutation instanceof hs)?s=s.insert(d.key,d):p!==void 0?(o.set(d.key,p.mutation.getFieldMask()),fl(p.mutation,d,p.mutation.getFieldMask(),bt.now())):o.set(d.key,bn.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((d,p)=>o.set(d,p)),n.forEach((d,p)=>{var y;return l.set(d,new Bx(p,(y=o.get(d))!==null&&y!==void 0?y:null))}),l))}recalculateAndSaveOverlays(e,n){const r=hl();let i=new rt((o,l)=>o-l),s=Ae();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const l of o)l.keys().forEach(u=>{const d=n.get(u);if(d===null)return;let p=r.get(u)||bn.empty();p=l.applyToLocalView(d,p),r.set(u,p);const y=(i.get(l.batchId)||Ae()).add(u);i=i.insert(l.batchId,y)})}).next(()=>{const o=[],l=i.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),d=u.key,p=u.value,y=JE();p.forEach(w=>{if(!s.has(w)){const S=iT(n.get(w),r.get(w));S!==null&&y.set(w,S),s=s.add(w)}}),o.push(this.documentOverlayCache.saveOverlays(e,d,y))}return W.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return ce.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Hb(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):W.resolve(Ls());let l=-1,u=s;return o.next(d=>W.forEach(d,(p,y)=>(l<y.largestBatchId&&(l=y.largestBatchId),s.get(p)?W.resolve():this.remoteDocumentCache.getEntry(e,p).next(w=>{u=u.insert(p,w)}))).next(()=>this.populateOverlays(e,d,s)).next(()=>this.computeViews(e,u,d,Ae())).next(p=>({batchId:l,changes:XE(p)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ce(n)).next(r=>{let i=Ja();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Ja();return this.indexManager.getCollectionParents(e,s).next(l=>W.forEach(l,u=>{const d=function(y,w){return new jd(w,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,d,r,i).next(p=>{p.forEach((y,w)=>{o=o.insert(y,w)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((u,d)=>{const p=d.getKey();o.get(p)===null&&(o=o.insert(p,Jt.newInvalidDocument(p)))});let l=Ja();return o.forEach((u,d)=>{const p=s.get(u);p!==void 0&&fl(p.mutation,d,bn.empty(),bt.now()),$d(n,d)&&(l=l.insert(u,d))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zx{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,n){return W.resolve(this.Tr.get(n))}saveBundleMetadata(e,n){return this.Tr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:xr(i.createTime)}}(n)),W.resolve()}getNamedQuery(e,n){return W.resolve(this.Ir.get(n))}saveNamedQuery(e,n){return this.Ir.set(n.name,function(i){return{name:i.name,query:Dx(i.bundledQuery),readTime:xr(i.readTime)}}(n)),W.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $x{constructor(){this.overlays=new rt(ce.comparator),this.Er=new Map}getOverlay(e,n){return W.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ls();return W.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.Tt(e,n,s)}),W.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Er.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Er.delete(r)),W.resolve()}getOverlaysForCollection(e,n,r){const i=Ls(),s=n.length+1,o=new ce(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const u=l.getNext().value,d=u.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return W.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new rt((d,p)=>d-p);const o=this.overlays.getIterator();for(;o.hasNext();){const d=o.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let p=s.get(d.largestBatchId);p===null&&(p=Ls(),s=s.insert(d.largestBatchId,p)),p.set(d.getKey(),d)}}const l=Ls(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((d,p)=>l.set(d,p)),!(l.size()>=i)););return W.resolve(l)}Tt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Er.get(i.largestBatchId).delete(r.key);this.Er.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new lx(n,r));let s=this.Er.get(n);s===void 0&&(s=Ae(),this.Er.set(n,s)),this.Er.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hx{constructor(){this.sessionToken=Wt.EMPTY_BYTE_STRING}getSessionToken(e){return W.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,W.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm{constructor(){this.dr=new xt(Ot.Ar),this.Rr=new xt(Ot.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,n){const r=new Ot(e,n);this.dr=this.dr.add(r),this.Rr=this.Rr.add(r)}mr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.gr(new Ot(e,n))}pr(e,n){e.forEach(r=>this.removeReference(r,n))}yr(e){const n=new ce(new ut([])),r=new Ot(n,e),i=new Ot(n,e+1),s=[];return this.Rr.forEachInRange([r,i],o=>{this.gr(o),s.push(o.key)}),s}wr(){this.dr.forEach(e=>this.gr(e))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const n=new ce(new ut([])),r=new Ot(n,e),i=new Ot(n,e+1);let s=Ae();return this.Rr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Ot(e,0),r=this.dr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Ot{constructor(e,n){this.key=e,this.br=n}static Ar(e,n){return ce.comparator(e.key,n.key)||ke(e.br,n.br)}static Vr(e,n){return ke(e.br,n.br)||ce.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wx{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Dr=1,this.vr=new xt(Ot.Ar)}checkEmpty(e){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new ax(s,n,r,i);this.mutationQueue.push(o);for(const l of i)this.vr=this.vr.add(new Ot(l.key,s)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return W.resolve(o)}lookupMutationBatch(e,n){return W.resolve(this.Cr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Fr(r),s=i<0?0:i;return W.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ot(n,0),i=new Ot(n,Number.POSITIVE_INFINITY),s=[];return this.vr.forEachInRange([r,i],o=>{const l=this.Cr(o.br);s.push(l)}),W.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new xt(ke);return n.forEach(i=>{const s=new Ot(i,0),o=new Ot(i,Number.POSITIVE_INFINITY);this.vr.forEachInRange([s,o],l=>{r=r.add(l.br)})}),W.resolve(this.Mr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;ce.isDocumentKey(s)||(s=s.child(""));const o=new Ot(new ce(s),0);let l=new xt(ke);return this.vr.forEachWhile(u=>{const d=u.key.path;return!!r.isPrefixOf(d)&&(d.length===i&&(l=l.add(u.br)),!0)},o),W.resolve(this.Mr(l))}Mr(e){const n=[];return e.forEach(r=>{const i=this.Cr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Oe(this.Or(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.vr;return W.forEach(n.mutations,i=>{const s=new Ot(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.vr=r})}Ln(e){}containsKey(e,n){const r=new Ot(n,0),i=this.vr.firstAfterOrEqual(r);return W.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,W.resolve()}Or(e,n){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const n=this.Fr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qx{constructor(e){this.Nr=e,this.docs=function(){return new rt(ce.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Nr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return W.resolve(r?r.document.mutableCopy():Jt.newInvalidDocument(n))}getEntries(e,n){let r=ai();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Jt.newInvalidDocument(i))}),W.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=ai();const o=n.path,l=new ce(o.child("")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:d,value:{document:p}}=u.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||Tb(Eb(p),r)<=0||(i.has(p.key)||$d(n,p))&&(s=s.insert(p.key,p.mutableCopy()))}return W.resolve(s)}getAllFromCollectionGroup(e,n,r,i){ge()}Lr(e,n){return W.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Kx(this)}getSize(e){return W.resolve(this.size)}}class Kx extends Ux{constructor(e){super(),this.hr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.hr.addEntry(e,i)):this.hr.removeEntry(r)}),W.waitFor(n)}getFromCache(e,n){return this.hr.getEntry(e,n)}getAllFromCache(e,n){return this.hr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gx{constructor(e){this.persistence=e,this.Br=new Js(n=>Um(n),Bm),this.lastRemoteSnapshotVersion=ye.min(),this.highestTargetId=0,this.kr=0,this.qr=new qm,this.targetCount=0,this.Qr=aa.qn()}forEachTarget(e,n){return this.Br.forEach((r,i)=>n(i)),W.resolve()}getLastRemoteSnapshotVersion(e){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return W.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.kr&&(this.kr=n),W.resolve()}Un(e){this.Br.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Qr=new aa(n),this.highestTargetId=n),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,n){return this.Un(n),this.targetCount+=1,W.resolve()}updateTargetData(e,n){return this.Un(n),W.resolve()}removeTargetData(e,n){return this.Br.delete(n.target),this.qr.yr(n.targetId),this.targetCount-=1,W.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Br.forEach((o,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.Br.delete(o),s.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),W.waitFor(s).next(()=>i)}getTargetCount(e){return W.resolve(this.targetCount)}getTargetData(e,n){const r=this.Br.get(n)||null;return W.resolve(r)}addMatchingKeys(e,n,r){return this.qr.mr(n,r),W.resolve()}removeMatchingKeys(e,n,r){this.qr.pr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),W.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.qr.yr(n),W.resolve()}getMatchingKeysForTargetId(e,n){const r=this.qr.Sr(n);return W.resolve(r)}containsKey(e,n){return W.resolve(this.qr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yT{constructor(e,n){this.Kr={},this.overlays={},this.$r=new Fd(0),this.Ur=!1,this.Ur=!0,this.Wr=new Hx,this.referenceDelegate=e(this),this.Gr=new Gx(this),this.indexManager=new Nx,this.remoteDocumentCache=function(i){return new qx(i)}(r=>this.referenceDelegate.zr(r)),this.serializer=new xx(n),this.jr=new zx(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new $x,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Kr[e.toKey()];return r||(r=new Wx(n,this.referenceDelegate),this.Kr[e.toKey()]=r),r}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,n,r){te("MemoryPersistence","Starting transaction:",e);const i=new Qx(this.$r.next());return this.referenceDelegate.Hr(),r(i).next(s=>this.referenceDelegate.Jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Yr(e,n){return W.or(Object.values(this.Kr).map(r=>()=>r.containsKey(e,n)))}}class Qx extends Sb{constructor(e){super(),this.currentSequenceNumber=e}}class Km{constructor(e){this.persistence=e,this.Zr=new qm,this.Xr=null}static ei(e){return new Km(e)}get ti(){if(this.Xr)return this.Xr;throw ge()}addReference(e,n,r){return this.Zr.addReference(r,n),this.ti.delete(r.toString()),W.resolve()}removeReference(e,n,r){return this.Zr.removeReference(r,n),this.ti.add(r.toString()),W.resolve()}markPotentiallyOrphaned(e,n){return this.ti.add(n.toString()),W.resolve()}removeTarget(e,n){this.Zr.yr(n.targetId).forEach(i=>this.ti.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.ti.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Hr(){this.Xr=new Set}Jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.ti,r=>{const i=ce.fromPath(r);return this.ni(e,i).next(s=>{s||n.removeEntry(i,ye.min())})}).next(()=>(this.Xr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ni(e,n).next(r=>{r?this.ti.delete(n.toString()):this.ti.add(n.toString())})}zr(e){return 0}ni(e,n){return W.or([()=>W.resolve(this.Zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Yr(e,n)])}}class ud{constructor(e,n){this.persistence=e,this.ri=new Js(r=>Ab(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=Fx(this,n)}static ei(e,n){return new ud(e,n)}Hr(){}Jr(e){return W.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}Xn(e){const n=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}nr(e){let n=0;return this.er(e,r=>{n++}).next(()=>n)}er(e,n){return W.forEach(this.ri,(r,i)=>this.ir(e,r,i).next(s=>s?W.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.Lr(e,o=>this.ir(e,o,n).next(l=>{l||(r++,s.removeEntry(o,ye.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.ri.set(n,e.currentSequenceNumber),W.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.ri.set(r,e.currentSequenceNumber),W.resolve()}removeReference(e,n,r){return this.ri.set(r,e.currentSequenceNumber),W.resolve()}updateLimboDocument(e,n){return this.ri.set(n,e.currentSequenceNumber),W.resolve()}zr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=mc(e.data.value)),n}ir(e,n,r){return W.or([()=>this.persistence.Yr(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.ri.get(n);return W.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gm{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Wi=r,this.Gi=i}static zi(e,n){let r=Ae(),i=Ae();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Gm(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yx{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xx{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return SA()?8:Cb(en())>0?6:4}()}initialize(e,n){this.Zi=e,this.indexManager=n,this.ji=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Xi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.es(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new Yx;return this.ts(e,n,o).next(l=>{if(s.result=l,this.Hi)return this.ns(e,n,o,l.size)})}).next(()=>s.result)}ns(e,n,r,i){return r.documentReadCount<this.Ji?(vo()<=Pe.DEBUG&&te("QueryEngine","SDK will not create cache indexes for query:",wo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),W.resolve()):(vo()<=Pe.DEBUG&&te("QueryEngine","Query:",wo(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Yi*i?(vo()<=Pe.DEBUG&&te("QueryEngine","The SDK decides to create cache indexes for query:",wo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,kr(n))):W.resolve())}Xi(e,n){if(Lv(n))return W.resolve(null);let r=kr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=dp(n,null,"F"),r=kr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Ae(...s);return this.Zi.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,r).next(u=>{const d=this.rs(n,l);return this.ss(n,d,o,u.readTime)?this.Xi(e,dp(n,null,"F")):this.os(e,d,n,u)}))})))}es(e,n,r,i){return Lv(n)||i.isEqual(ye.min())?W.resolve(null):this.Zi.getDocuments(e,r).next(s=>{const o=this.rs(n,s);return this.ss(n,o,r,i)?W.resolve(null):(vo()<=Pe.DEBUG&&te("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),wo(n)),this.os(e,o,n,_b(i,-1)).next(l=>l))})}rs(e,n){let r=new xt(QE(e));return n.forEach((i,s)=>{$d(e,s)&&(r=r.add(s))}),r}ss(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}ts(e,n,r){return vo()<=Pe.DEBUG&&te("QueryEngine","Using full collection scan to execute query:",wo(n)),this.Zi.getDocumentsMatchingQuery(e,n,ts.min(),r)}os(e,n,r,i){return this.Zi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jx{constructor(e,n,r,i){this.persistence=e,this._s=n,this.serializer=i,this.us=new rt(ke),this.cs=new Js(s=>Um(s),Bm),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(r)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new jx(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.us))}}function Zx(t,e,n,r){return new Jx(t,e,n,r)}async function vT(t,e){const n=we(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Ps(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],l=[];let u=Ae();for(const d of i){o.push(d.batchId);for(const p of d.mutations)u=u.add(p.key)}for(const d of s){l.push(d.batchId);for(const p of d.mutations)u=u.add(p.key)}return n.localDocuments.getDocuments(r,u).next(d=>({Ts:d,removedBatchIds:o,addedBatchIds:l}))})})}function eD(t,e){const n=we(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.hs.newChangeBuffer({trackRemovals:!0});return function(l,u,d,p){const y=d.batch,w=y.keys();let S=W.resolve();return w.forEach(D=>{S=S.next(()=>p.getEntry(u,D)).next(N=>{const F=d.docVersions.get(D);Oe(F!==null),N.version.compareTo(F)<0&&(y.applyToRemoteDocument(N,d),N.isValidDocument()&&(N.setReadTime(d.commitVersion),p.addEntry(N)))})}),S.next(()=>l.mutationQueue.removeMutationBatch(u,y))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let u=Ae();for(let d=0;d<l.mutationResults.length;++d)l.mutationResults[d].transformResults.length>0&&(u=u.add(l.batch.mutations[d].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function wT(t){const e=we(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Gr.getLastRemoteSnapshotVersion(n))}function tD(t,e){const n=we(t),r=e.snapshotVersion;let i=n.us;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.hs.newChangeBuffer({trackRemovals:!0});i=n.us;const l=[];e.targetChanges.forEach((p,y)=>{const w=i.get(y);if(!w)return;l.push(n.Gr.removeMatchingKeys(s,p.removedDocuments,y).next(()=>n.Gr.addMatchingKeys(s,p.addedDocuments,y)));let S=w.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(y)!==null?S=S.withResumeToken(Wt.EMPTY_BYTE_STRING,ye.min()).withLastLimboFreeSnapshotVersion(ye.min()):p.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(p.resumeToken,r)),i=i.insert(y,S),function(N,F,R){return N.resumeToken.approximateByteSize()===0||F.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=3e8?!0:R.addedDocuments.size+R.modifiedDocuments.size+R.removedDocuments.size>0}(w,S,p)&&l.push(n.Gr.updateTargetData(s,S))});let u=ai(),d=Ae();if(e.documentUpdates.forEach(p=>{e.resolvedLimboDocuments.has(p)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,p))}),l.push(nD(s,o,e.documentUpdates).next(p=>{u=p.Is,d=p.Es})),!r.isEqual(ye.min())){const p=n.Gr.getLastRemoteSnapshotVersion(s).next(y=>n.Gr.setTargetsMetadata(s,s.currentSequenceNumber,r));l.push(p)}return W.waitFor(l).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,d)).next(()=>u)}).then(s=>(n.us=i,s))}function nD(t,e,n){let r=Ae(),i=Ae();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=ai();return n.forEach((l,u)=>{const d=s.get(l);u.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(l)),u.isNoDocument()&&u.version.isEqual(ye.min())?(e.removeEntry(l,u.readTime),o=o.insert(l,u)):!d.isValidDocument()||u.version.compareTo(d.version)>0||u.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(u),o=o.insert(l,u)):te("LocalStore","Ignoring outdated watch update for ",l,". Current version:",d.version," Watch version:",u.version)}),{Is:o,Es:i}})}function rD(t,e){const n=we(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function iD(t,e){const n=we(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Gr.getTargetData(r,e).next(s=>s?(i=s,W.resolve(i)):n.Gr.allocateTargetId(r).next(o=>(i=new Bi(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Gr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.us.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.us=n.us.insert(r.targetId,r),n.cs.set(e,r.targetId)),r})}async function gp(t,e,n){const r=we(t),i=r.us.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!_a(o))throw o;te("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.us=r.us.remove(e),r.cs.delete(i.target)}function qv(t,e,n){const r=we(t);let i=ye.min(),s=Ae();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,d,p){const y=we(u),w=y.cs.get(p);return w!==void 0?W.resolve(y.us.get(w)):y.Gr.getTargetData(d,p)}(r,o,kr(e)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.Gr.getMatchingKeysForTargetId(o,l.targetId).next(u=>{s=u})}).next(()=>r._s.getDocumentsMatchingQuery(o,e,n?i:ye.min(),n?s:Ae())).next(l=>(sD(r,qb(e),l),{documents:l,ds:s})))}function sD(t,e,n){let r=t.ls.get(e)||ye.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.ls.set(e,r)}class Kv{constructor(){this.activeTargetIds=Jb()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class oD{constructor(){this._o=new Kv,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,n,r){this.ao[e]=n}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new Kv,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gv{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){te("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){te("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yu=null;function Xh(){return Yu===null?Yu=function(){return 268435456+Math.round(2147483648*Math.random())}():Yu++,"0x"+Yu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qt="WebChannelConnection";class cD extends class{get Co(){return!1}constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Fo=r+"://"+n.host,this.Mo=`projects/${i}/databases/${s}`,this.xo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}Oo(n,r,i,s,o){const l=Xh(),u=this.No(n,r.toUriEncodedString());te("RestConnection",`Sending RPC '${n}' ${l}:`,u,i);const d={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(d,s,o),this.Bo(n,u,d,i).then(p=>(te("RestConnection",`Received RPC '${n}' ${l}: `,p),p),p=>{throw ra("RestConnection",`RPC '${n}' ${l} failed with error: `,p,"url: ",u,"request:",i),p})}ko(n,r,i,s,o,l){return this.Oo(n,r,i,s,o)}Lo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+va}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}No(n,r){const i=lD[n];return`${this.Fo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,n,r,i){const s=Xh();return new Promise((o,l)=>{const u=new DE;u.setWithCredentials(!0),u.listenOnce(NE.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case pc.NO_ERROR:const p=u.getResponseJson();te(Qt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),o(p);break;case pc.TIMEOUT:te(Qt,`RPC '${e}' ${s} timed out`),l(new le(K.DEADLINE_EXCEEDED,"Request time out"));break;case pc.HTTP_ERROR:const y=u.getStatus();if(te(Qt,`RPC '${e}' ${s} failed with status:`,y,"response text:",u.getResponseText()),y>0){let w=u.getResponseJson();Array.isArray(w)&&(w=w[0]);const S=w==null?void 0:w.error;if(S&&S.status&&S.message){const D=function(F){const R=F.toLowerCase().replace(/_/g,"-");return Object.values(K).indexOf(R)>=0?R:K.UNKNOWN}(S.status);l(new le(D,S.message))}else l(new le(K.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new le(K.UNAVAILABLE,"Connection failed."));break;default:ge()}}finally{te(Qt,`RPC '${e}' ${s} completed.`)}});const d=JSON.stringify(i);te(Qt,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",d,r,15)})}qo(e,n,r){const i=Xh(),s=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=VE(),l=OE(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(u.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Lo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const p=s.join("");te(Qt,`Creating RPC '${e}' stream ${i}: ${p}`,u);const y=o.createWebChannel(p,u);let w=!1,S=!1;const D=new uD({Eo:F=>{S?te(Qt,`Not sending because RPC '${e}' stream ${i} is closed:`,F):(w||(te(Qt,`Opening RPC '${e}' stream ${i} transport.`),y.open(),w=!0),te(Qt,`RPC '${e}' stream ${i} sending:`,F),y.send(F))},Ao:()=>y.close()}),N=(F,R,E)=>{F.listen(R,A=>{try{E(A)}catch(M){setTimeout(()=>{throw M},0)}})};return N(y,Xa.EventType.OPEN,()=>{S||(te(Qt,`RPC '${e}' stream ${i} transport opened.`),D.So())}),N(y,Xa.EventType.CLOSE,()=>{S||(S=!0,te(Qt,`RPC '${e}' stream ${i} transport closed`),D.Do())}),N(y,Xa.EventType.ERROR,F=>{S||(S=!0,ra(Qt,`RPC '${e}' stream ${i} transport errored:`,F),D.Do(new le(K.UNAVAILABLE,"The operation could not be completed")))}),N(y,Xa.EventType.MESSAGE,F=>{var R;if(!S){const E=F.data[0];Oe(!!E);const A=E,M=(A==null?void 0:A.error)||((R=A[0])===null||R===void 0?void 0:R.error);if(M){te(Qt,`RPC '${e}' stream ${i} received error:`,M);const H=M.status;let j=function(T){const I=yt[T];if(I!==void 0)return aT(I)}(H),C=M.message;j===void 0&&(j=K.INTERNAL,C="Unknown error status: "+H+" with message "+M.message),S=!0,D.Do(new le(j,C)),y.close()}else te(Qt,`RPC '${e}' stream ${i} received:`,E),D.vo(E)}}),N(l,LE.STAT_EVENT,F=>{F.stat===op.PROXY?te(Qt,`RPC '${e}' stream ${i} detected buffering proxy`):F.stat===op.NOPROXY&&te(Qt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{D.bo()},0),D}}function Jh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kd(t){return new yx(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _T{constructor(e,n,r=1e3,i=1.5,s=6e4){this.li=e,this.timerId=n,this.Qo=r,this.Ko=i,this.$o=s,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const n=Math.floor(this.Uo+this.Ho()),r=Math.max(0,Date.now()-this.Go),i=Math.max(0,n-r);i>0&&te("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Uo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,i,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{constructor(e,n,r,i,s,o,l,u){this.li=e,this.Yo=r,this.Zo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new _T(e,n)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,n){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():n&&n.code===K.RESOURCE_EXHAUSTED?(oi(n.toString()),oi("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):n&&n.code===K.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(n)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),n=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Xo===n&&this.I_(r,i)},r=>{e(()=>{const i=new le(K.UNKNOWN,"Fetching auth token failed: "+r.message);return this.E_(i)})})}I_(e,n){const r=this.T_(this.Xo);this.stream=this.d_(e,n),this.stream.Ro(()=>{r(()=>this.listener.Ro())}),this.stream.mo(()=>{r(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(i=>{r(()=>this.E_(i))}),this.stream.onMessage(i=>{r(()=>++this.n_==1?this.A_(i):this.onNext(i))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}E_(e){return te("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return n=>{this.li.enqueueAndForget(()=>this.Xo===e?n():(te("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class dD extends ET{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}d_(e,n){return this.connection.qo("Listen",e,n)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const n=_x(this.serializer,e),r=function(s){if(!("targetChange"in s))return ye.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?ye.min():o.readTime?xr(o.readTime):ye.min()}(e);return this.listener.R_(n,r)}V_(e){const n={};n.database=mp(this.serializer),n.addTarget=function(s,o){let l;const u=o.target;if(l=cp(u)?{documents:Ix(s,u)}:{query:Sx(s,u).ct},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=cT(s,o.resumeToken);const d=hp(s,o.expectedCount);d!==null&&(l.expectedCount=d)}else if(o.snapshotVersion.compareTo(ye.min())>0){l.readTime=ld(s,o.snapshotVersion.toTimestamp());const d=hp(s,o.expectedCount);d!==null&&(l.expectedCount=d)}return l}(this.serializer,e);const r=Px(this.serializer,e);r&&(n.labels=r),this.c_(n)}m_(e){const n={};n.database=mp(this.serializer),n.removeTarget=e,this.c_(n)}}class hD extends ET{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}d_(e,n){return this.connection.qo("Write",e,n)}A_(e){return Oe(!!e.streamToken),this.lastStreamToken=e.streamToken,Oe(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){Oe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const n=Tx(e.writeResults,e.commitTime),r=xr(e.commitTime);return this.listener.y_(r,n)}w_(){const e={};e.database=mp(this.serializer),this.c_(e)}g_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>Ex(this.serializer,r))};this.c_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.S_=!1}b_(){if(this.S_)throw new le(K.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,n,r,i){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Oo(e,fp(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new le(K.UNKNOWN,s.toString())})}ko(e,n,r,i,s){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.ko(e,fp(n,r),i,o,l,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new le(K.UNKNOWN,o.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class pD{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(oi(n),this.C_=!1):te("OnlineStateTracker",n)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=s,this.Q_.uo(o=>{r.enqueueAndForget(async()=>{Zs(this)&&(te("RemoteStore","Restarting streams for network reachability change."),await async function(u){const d=we(u);d.k_.add(4),await nu(d),d.K_.set("Unknown"),d.k_.delete(4),await Gd(d)}(this))})}),this.K_=new pD(r,i)}}async function Gd(t){if(Zs(t))for(const e of t.q_)await e(!0)}async function nu(t){for(const e of t.q_)await e(!1)}function TT(t,e){const n=we(t);n.B_.has(e.targetId)||(n.B_.set(e.targetId,e),Jm(n)?Xm(n):Ea(n).s_()&&Ym(n,e))}function Qm(t,e){const n=we(t),r=Ea(n);n.B_.delete(e),r.s_()&&IT(n,e),n.B_.size===0&&(r.s_()?r.a_():Zs(n)&&n.K_.set("Unknown"))}function Ym(t,e){if(t.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ye.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ea(t).V_(e)}function IT(t,e){t.U_.xe(e),Ea(t).m_(e)}function Xm(t){t.U_=new fx({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>t.B_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),Ea(t).start(),t.K_.F_()}function Jm(t){return Zs(t)&&!Ea(t).i_()&&t.B_.size>0}function Zs(t){return we(t).k_.size===0}function ST(t){t.U_=void 0}async function gD(t){t.K_.set("Online")}async function yD(t){t.B_.forEach((e,n)=>{Ym(t,e)})}async function vD(t,e){ST(t),Jm(t)?(t.K_.O_(e),Xm(t)):t.K_.set("Unknown")}async function wD(t,e,n){if(t.K_.set("Online"),e instanceof uT&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const l of s.targetIds)i.B_.has(l)&&(await i.remoteSyncer.rejectListen(l,o),i.B_.delete(l),i.U_.removeTarget(l))}(t,e)}catch(r){te("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await cd(t,r)}else if(e instanceof vc?t.U_.$e(e):e instanceof lT?t.U_.Je(e):t.U_.Ge(e),!n.isEqual(ye.min()))try{const r=await wT(t.localStore);n.compareTo(r)>=0&&await function(s,o){const l=s.U_.it(o);return l.targetChanges.forEach((u,d)=>{if(u.resumeToken.approximateByteSize()>0){const p=s.B_.get(d);p&&s.B_.set(d,p.withResumeToken(u.resumeToken,o))}}),l.targetMismatches.forEach((u,d)=>{const p=s.B_.get(u);if(!p)return;s.B_.set(u,p.withResumeToken(Wt.EMPTY_BYTE_STRING,p.snapshotVersion)),IT(s,u);const y=new Bi(p.target,u,d,p.sequenceNumber);Ym(s,y)}),s.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){te("RemoteStore","Failed to raise snapshot:",r),await cd(t,r)}}async function cd(t,e,n){if(!_a(e))throw e;t.k_.add(1),await nu(t),t.K_.set("Offline"),n||(n=()=>wT(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{te("RemoteStore","Retrying IndexedDB access"),await n(),t.k_.delete(1),await Gd(t)})}function CT(t,e){return e().catch(n=>cd(t,n,e))}async function Qd(t){const e=we(t),n=ss(e);let r=e.L_.length>0?e.L_[e.L_.length-1].batchId:-1;for(;_D(e);)try{const i=await rD(e.localStore,r);if(i===null){e.L_.length===0&&n.a_();break}r=i.batchId,ED(e,i)}catch(i){await cd(e,i)}PT(e)&&AT(e)}function _D(t){return Zs(t)&&t.L_.length<10}function ED(t,e){t.L_.push(e);const n=ss(t);n.s_()&&n.f_&&n.g_(e.mutations)}function PT(t){return Zs(t)&&!ss(t).i_()&&t.L_.length>0}function AT(t){ss(t).start()}async function TD(t){ss(t).w_()}async function ID(t){const e=ss(t);for(const n of t.L_)e.g_(n.mutations)}async function SD(t,e,n){const r=t.L_.shift(),i=$m.from(r,e,n);await CT(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Qd(t)}async function CD(t,e){e&&ss(t).f_&&await async function(r,i){if(function(o){return cx(o)&&o!==K.ABORTED}(i.code)){const s=r.L_.shift();ss(r).__(),await CT(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Qd(r)}}(t,e),PT(t)&&AT(t)}async function Qv(t,e){const n=we(t);n.asyncQueue.verifyOperationInProgress(),te("RemoteStore","RemoteStore received new credentials");const r=Zs(n);n.k_.add(3),await nu(n),r&&n.K_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.k_.delete(3),await Gd(n)}async function PD(t,e){const n=we(t);e?(n.k_.delete(2),await Gd(n)):e||(n.k_.add(2),await nu(n),n.K_.set("Unknown"))}function Ea(t){return t.W_||(t.W_=function(n,r,i){const s=we(n);return s.b_(),new dD(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Ro:gD.bind(null,t),mo:yD.bind(null,t),po:vD.bind(null,t),R_:wD.bind(null,t)}),t.q_.push(async e=>{e?(t.W_.__(),Jm(t)?Xm(t):t.K_.set("Unknown")):(await t.W_.stop(),ST(t))})),t.W_}function ss(t){return t.G_||(t.G_=function(n,r,i){const s=we(n);return s.b_(),new hD(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Ro:()=>Promise.resolve(),mo:TD.bind(null,t),po:CD.bind(null,t),p_:ID.bind(null,t),y_:SD.bind(null,t)}),t.q_.push(async e=>{e?(t.G_.__(),await Qd(t)):(await t.G_.stop(),t.L_.length>0&&(te("RemoteStore",`Stopping write stream with ${t.L_.length} pending writes`),t.L_=[]))})),t.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Ji,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,l=new Zm(e,n,o,i,s);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new le(K.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function eg(t,e){if(oi("AsyncQueue",`${e}: ${t}`),_a(t))return new le(K.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{static emptySet(e){return new Wo(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ce.comparator(n.key,r.key):(n,r)=>ce.comparator(n.key,r.key),this.keyedMap=Ja(),this.sortedSet=new rt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Wo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Wo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yv{constructor(){this.z_=new rt(ce.comparator)}track(e){const n=e.doc.key,r=this.z_.get(n);r?e.type!==0&&r.type===3?this.z_=this.z_.insert(n,e):e.type===3&&r.type!==1?this.z_=this.z_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.z_=this.z_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.z_=this.z_.remove(n):e.type===1&&r.type===2?this.z_=this.z_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):ge():this.z_=this.z_.insert(n,e)}j_(){const e=[];return this.z_.inorderTraversal((n,r)=>{e.push(r)}),e}}class la{constructor(e,n,r,i,s,o,l,u,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(l=>{o.push({type:0,doc:l})}),new la(e,n,Wo.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&zd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class RD{constructor(){this.queries=Xv(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(n,r){const i=we(n),s=i.queries;i.queries=Xv(),s.forEach((o,l)=>{for(const u of l.J_)u.onError(r)})})(this,new le(K.ABORTED,"Firestore shutting down"))}}function Xv(){return new Js(t=>GE(t),zd)}async function kD(t,e){const n=we(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.Y_()&&e.Z_()&&(r=2):(s=new AD,r=e.Z_()?0:1);try{switch(r){case 0:s.H_=await n.onListen(i,!0);break;case 1:s.H_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const l=eg(o,`Initialization of query '${wo(e.query)}' failed`);return void e.onError(l)}n.queries.set(i,s),s.J_.push(e),e.ea(n.onlineState),s.H_&&e.ta(s.H_)&&tg(n)}async function bD(t,e){const n=we(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.J_.indexOf(e);o>=0&&(s.J_.splice(o,1),s.J_.length===0?i=e.Z_()?0:1:!s.Y_()&&e.Z_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function xD(t,e){const n=we(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const l of o.J_)l.ta(i)&&(r=!0);o.H_=i}}r&&tg(n)}function DD(t,e,n){const r=we(t),i=r.queries.get(e);if(i)for(const s of i.J_)s.onError(n);r.queries.delete(e)}function tg(t){t.X_.forEach(e=>{e.next()})}var yp,Jv;(Jv=yp||(yp={})).na="default",Jv.Cache="cache";class ND{constructor(e,n,r){this.query=e,this.ra=n,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=r||{}}ta(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new la(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ia?this.oa(e)&&(this.ra.next(e),n=!0):this._a(e,this.onlineState)&&(this.aa(e),n=!0),this.sa=e,n}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let n=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),n=!0),n}_a(e,n){if(!e.fromCache||!this.Z_())return!0;const r=n!=="Offline";return(!this.options.ua||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const n=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}aa(e){e=la.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==yp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RT{constructor(e){this.key=e}}class kT{constructor(e){this.key=e}}class LD{constructor(e,n){this.query=e,this.da=n,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=Ae(),this.mutatedKeys=Ae(),this.Va=QE(e),this.ma=new Wo(this.Va)}get fa(){return this.da}ga(e,n){const r=n?n.pa:new Yv,i=n?n.ma:this.ma;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,l=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((p,y)=>{const w=i.get(p),S=$d(this.query,y)?y:null,D=!!w&&this.mutatedKeys.has(w.key),N=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let F=!1;w&&S?w.data.isEqual(S.data)?D!==N&&(r.track({type:3,doc:S}),F=!0):this.ya(w,S)||(r.track({type:2,doc:S}),F=!0,(u&&this.Va(S,u)>0||d&&this.Va(S,d)<0)&&(l=!0)):!w&&S?(r.track({type:0,doc:S}),F=!0):w&&!S&&(r.track({type:1,doc:w}),F=!0,(u||d)&&(l=!0)),F&&(S?(o=o.add(S),s=N?s.add(p):s.delete(p)):(o=o.delete(p),s=s.delete(p)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const p=this.query.limitType==="F"?o.last():o.first();o=o.delete(p.key),s=s.delete(p.key),r.track({type:1,doc:p})}return{ma:o,pa:r,ss:l,mutatedKeys:s}}ya(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const o=e.pa.j_();o.sort((p,y)=>function(S,D){const N=F=>{switch(F){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ge()}};return N(S)-N(D)}(p.type,y.type)||this.Va(p.doc,y.doc)),this.wa(r),i=i!=null&&i;const l=n&&!i?this.Sa():[],u=this.Ra.size===0&&this.current&&!i?1:0,d=u!==this.Aa;return this.Aa=u,o.length!==0||d?{snapshot:new la(this.query,e.ma,s,o,e.mutatedKeys,u===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),ba:l}:{ba:l}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new Yv,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.da.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(n=>this.da=this.da.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.da=this.da.delete(n)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=Ae(),this.ma.forEach(r=>{this.Da(r.key)&&(this.Ra=this.Ra.add(r.key))});const n=[];return e.forEach(r=>{this.Ra.has(r)||n.push(new kT(r))}),this.Ra.forEach(r=>{e.has(r)||n.push(new RT(r))}),n}va(e){this.da=e.ds,this.Ra=Ae();const n=this.ga(e.documents);return this.applyChanges(n,!0)}Ca(){return la.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class OD{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class VD{constructor(e){this.key=e,this.Fa=!1}}class MD{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ma={},this.xa=new Js(l=>GE(l),zd),this.Oa=new Map,this.Na=new Set,this.La=new rt(ce.comparator),this.Ba=new Map,this.ka=new qm,this.qa={},this.Qa=new Map,this.Ka=aa.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function FD(t,e,n=!0){const r=OT(t);let i;const s=r.xa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Ca()):i=await bT(r,e,n,!0),i}async function UD(t,e){const n=OT(t);await bT(n,e,!0,!1)}async function bT(t,e,n,r){const i=await iD(t.localStore,kr(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let l;return r&&(l=await BD(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&TT(t.remoteStore,i),l}async function BD(t,e,n,r,i){t.Ua=(y,w,S)=>async function(N,F,R,E){let A=F.view.ga(R);A.ss&&(A=await qv(N.localStore,F.query,!1).then(({documents:C})=>F.view.ga(C,A)));const M=E&&E.targetChanges.get(F.targetId),H=E&&E.targetMismatches.get(F.targetId)!=null,j=F.view.applyChanges(A,N.isPrimaryClient,M,H);return ew(N,F.targetId,j.ba),j.snapshot}(t,y,w,S);const s=await qv(t.localStore,e,!0),o=new LD(e,s.ds),l=o.ga(s.documents),u=tu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),d=o.applyChanges(l,t.isPrimaryClient,u);ew(t,n,d.ba);const p=new OD(e,n,o);return t.xa.set(e,p),t.Oa.has(n)?t.Oa.get(n).push(e):t.Oa.set(n,[e]),d.snapshot}async function jD(t,e,n){const r=we(t),i=r.xa.get(e),s=r.Oa.get(i.targetId);if(s.length>1)return r.Oa.set(i.targetId,s.filter(o=>!zd(o,e))),void r.xa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await gp(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Qm(r.remoteStore,i.targetId),vp(r,i.targetId)}).catch(wa)):(vp(r,i.targetId),await gp(r.localStore,i.targetId,!0))}async function zD(t,e){const n=we(t),r=n.xa.get(e),i=n.Oa.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Qm(n.remoteStore,r.targetId))}async function $D(t,e,n){const r=YD(t);try{const i=await function(o,l){const u=we(o),d=bt.now(),p=l.reduce((S,D)=>S.add(D.key),Ae());let y,w;return u.persistence.runTransaction("Locally write mutations","readwrite",S=>{let D=ai(),N=Ae();return u.hs.getEntries(S,p).next(F=>{D=F,D.forEach((R,E)=>{E.isValidDocument()||(N=N.add(R))})}).next(()=>u.localDocuments.getOverlayedDocuments(S,D)).next(F=>{y=F;const R=[];for(const E of l){const A=sx(E,y.get(E.key).overlayedDocument);A!=null&&R.push(new hs(E.key,A,jE(A.value.mapValue),br.exists(!0)))}return u.mutationQueue.addMutationBatch(S,d,R,l)}).next(F=>{w=F;const R=F.applyToLocalDocumentSet(y,N);return u.documentOverlayCache.saveOverlays(S,F.batchId,R)})}).then(()=>({batchId:w.batchId,changes:XE(y)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,l,u){let d=o.qa[o.currentUser.toKey()];d||(d=new rt(ke)),d=d.insert(l,u),o.qa[o.currentUser.toKey()]=d}(r,i.batchId,n),await ru(r,i.changes),await Qd(r.remoteStore)}catch(i){const s=eg(i,"Failed to persist write");n.reject(s)}}async function xT(t,e){const n=we(t);try{const r=await tD(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Ba.get(s);o&&(Oe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Fa=!0:i.modifiedDocuments.size>0?Oe(o.Fa):i.removedDocuments.size>0&&(Oe(o.Fa),o.Fa=!1))}),await ru(n,r,e)}catch(r){await wa(r)}}function Zv(t,e,n){const r=we(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.xa.forEach((s,o)=>{const l=o.view.ea(e);l.snapshot&&i.push(l.snapshot)}),function(o,l){const u=we(o);u.onlineState=l;let d=!1;u.queries.forEach((p,y)=>{for(const w of y.J_)w.ea(l)&&(d=!0)}),d&&tg(u)}(r.eventManager,e),i.length&&r.Ma.R_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function HD(t,e,n){const r=we(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Ba.get(e),s=i&&i.key;if(s){let o=new rt(ce.comparator);o=o.insert(s,Jt.newNoDocument(s,ye.min()));const l=Ae().add(s),u=new qd(ye.min(),new Map,new rt(ke),o,l);await xT(r,u),r.La=r.La.remove(s),r.Ba.delete(e),ng(r)}else await gp(r.localStore,e,!1).then(()=>vp(r,e,n)).catch(wa)}async function WD(t,e){const n=we(t),r=e.batch.batchId;try{const i=await eD(n.localStore,e);NT(n,r,null),DT(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ru(n,i)}catch(i){await wa(i)}}async function qD(t,e,n){const r=we(t);try{const i=await function(o,l){const u=we(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let p;return u.mutationQueue.lookupMutationBatch(d,l).next(y=>(Oe(y!==null),p=y.keys(),u.mutationQueue.removeMutationBatch(d,y))).next(()=>u.mutationQueue.performConsistencyCheck(d)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(d,p,l)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,p)).next(()=>u.localDocuments.getDocuments(d,p))})}(r.localStore,e);NT(r,e,n),DT(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await ru(r,i)}catch(i){await wa(i)}}function DT(t,e){(t.Qa.get(e)||[]).forEach(n=>{n.resolve()}),t.Qa.delete(e)}function NT(t,e,n){const r=we(t);let i=r.qa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.qa[r.currentUser.toKey()]=i}}function vp(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Oa.get(e))t.xa.delete(r),n&&t.Ma.Wa(r,n);t.Oa.delete(e),t.isPrimaryClient&&t.ka.yr(e).forEach(r=>{t.ka.containsKey(r)||LT(t,r)})}function LT(t,e){t.Na.delete(e.path.canonicalString());const n=t.La.get(e);n!==null&&(Qm(t.remoteStore,n),t.La=t.La.remove(e),t.Ba.delete(n),ng(t))}function ew(t,e,n){for(const r of n)r instanceof RT?(t.ka.addReference(r.key,e),KD(t,r)):r instanceof kT?(te("SyncEngine","Document no longer in limbo: "+r.key),t.ka.removeReference(r.key,e),t.ka.containsKey(r.key)||LT(t,r.key)):ge()}function KD(t,e){const n=e.key,r=n.path.canonicalString();t.La.get(n)||t.Na.has(r)||(te("SyncEngine","New document in limbo: "+n),t.Na.add(r),ng(t))}function ng(t){for(;t.Na.size>0&&t.La.size<t.maxConcurrentLimboResolutions;){const e=t.Na.values().next().value;t.Na.delete(e);const n=new ce(ut.fromString(e)),r=t.Ka.next();t.Ba.set(r,new VD(n)),t.La=t.La.insert(n,r),TT(t.remoteStore,new Bi(kr(jm(n.path)),r,"TargetPurposeLimboResolution",Fd.oe))}}async function ru(t,e,n){const r=we(t),i=[],s=[],o=[];r.xa.isEmpty()||(r.xa.forEach((l,u)=>{o.push(r.Ua(u,e,n).then(d=>{var p;if((d||n)&&r.isPrimaryClient){const y=d?!d.fromCache:(p=n==null?void 0:n.targetChanges.get(u.targetId))===null||p===void 0?void 0:p.current;r.sharedClientState.updateQueryState(u.targetId,y?"current":"not-current")}if(d){i.push(d);const y=Gm.zi(u.targetId,d);s.push(y)}}))}),await Promise.all(o),r.Ma.R_(i),await async function(u,d){const p=we(u);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",y=>W.forEach(d,w=>W.forEach(w.Wi,S=>p.persistence.referenceDelegate.addReference(y,w.targetId,S)).next(()=>W.forEach(w.Gi,S=>p.persistence.referenceDelegate.removeReference(y,w.targetId,S)))))}catch(y){if(!_a(y))throw y;te("LocalStore","Failed to update sequence numbers: "+y)}for(const y of d){const w=y.targetId;if(!y.fromCache){const S=p.us.get(w),D=S.snapshotVersion,N=S.withLastLimboFreeSnapshotVersion(D);p.us=p.us.insert(w,N)}}}(r.localStore,s))}async function GD(t,e){const n=we(t);if(!n.currentUser.isEqual(e)){te("SyncEngine","User change. New user:",e.toKey());const r=await vT(n.localStore,e);n.currentUser=e,function(s,o){s.Qa.forEach(l=>{l.forEach(u=>{u.reject(new le(K.CANCELLED,o))})}),s.Qa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ru(n,r.Ts)}}function QD(t,e){const n=we(t),r=n.Ba.get(e);if(r&&r.Fa)return Ae().add(r.key);{let i=Ae();const s=n.Oa.get(e);if(!s)return i;for(const o of s){const l=n.xa.get(o);i=i.unionWith(l.view.fa)}return i}}function OT(t){const e=we(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=xT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=QD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=HD.bind(null,e),e.Ma.R_=xD.bind(null,e.eventManager),e.Ma.Wa=DD.bind(null,e.eventManager),e}function YD(t){const e=we(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=WD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=qD.bind(null,e),e}class dd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Kd(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,n){return null}Ya(e,n){return null}Ha(e){return Zx(this.persistence,new Xx,e.initialUser,this.serializer)}ja(e){return new yT(Km.ei,this.serializer)}za(e){return new oD}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}dd.provider={build:()=>new dd};class XD extends dd{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,n){Oe(this.persistence.referenceDelegate instanceof ud);const r=this.persistence.referenceDelegate.garbageCollector;return new Vx(r,e.asyncQueue,n)}ja(e){const n=this.cacheSizeBytes!==void 0?yn.withCacheSize(this.cacheSizeBytes):yn.DEFAULT;return new yT(r=>ud.ei(r,n),this.serializer)}}class wp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Zv(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=GD.bind(null,this.syncEngine),await PD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new RD}()}createDatastore(e){const n=Kd(e.databaseInfo.databaseId),r=function(s){return new cD(s)}(e.databaseInfo);return function(s,o,l,u){return new fD(s,o,l,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,l){return new mD(r,i,s,o,l)}(this.localStore,this.datastore,e.asyncQueue,n=>Zv(this.syncEngine,n,0),function(){return Gv.p()?new Gv:new aD}())}createSyncEngine(e,n){return function(i,s,o,l,u,d,p){const y=new MD(i,s,o,l,u,d);return p&&(y.$a=!0),y}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=we(i);te("RemoteStore","RemoteStore shutting down."),s.k_.add(5),await nu(s),s.Q_.shutdown(),s.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}wp.provider={build:()=>new wp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):oi("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZD{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Yt.UNAUTHENTICATED,this.clientId=FE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{te("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(te("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ji;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=eg(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Zh(t,e){t.asyncQueue.verifyOperationInProgress(),te("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await vT(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function tw(t,e){t.asyncQueue.verifyOperationInProgress();const n=await eN(t);te("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Qv(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>Qv(e.remoteStore,i)),t._onlineComponents=e}async function eN(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){te("FirestoreClient","Using user provided OfflineComponentProvider");try{await Zh(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===K.FAILED_PRECONDITION||i.code===K.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;ra("Error using user provided cache. Falling back to memory cache: "+n),await Zh(t,new dd)}}else te("FirestoreClient","Using default OfflineComponentProvider"),await Zh(t,new XD(void 0));return t._offlineComponents}async function VT(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(te("FirestoreClient","Using user provided OnlineComponentProvider"),await tw(t,t._uninitializedComponentsProvider._online)):(te("FirestoreClient","Using default OnlineComponentProvider"),await tw(t,new wp))),t._onlineComponents}function tN(t){return VT(t).then(e=>e.syncEngine)}async function nN(t){const e=await VT(t),n=e.eventManager;return n.onListen=FD.bind(null,e.syncEngine),n.onUnlisten=jD.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=UD.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=zD.bind(null,e.syncEngine),n}function rN(t,e,n={}){const r=new Ji;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,l,u,d){const p=new JD({next:w=>{p.eu(),o.enqueueAndForget(()=>bD(s,y));const S=w.docs.has(l);!S&&w.fromCache?d.reject(new le(K.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&w.fromCache&&u&&u.source==="server"?d.reject(new le(K.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(w)},error:w=>d.reject(w)}),y=new ND(jm(l.path),p,{includeMetadataChanges:!0,ua:!0});return kD(s,y)}(await nN(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MT(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nw=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iN(t,e,n){if(!n)throw new le(K.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function sN(t,e,n,r){if(e===!0&&r===!0)throw new le(K.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function rw(t){if(!ce.isDocumentKey(t))throw new le(K.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function rg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ge()}function Qs(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new le(K.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=rg(t);throw new le(K.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iw{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new le(K.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new le(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}sN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=MT((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new le(K.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new le(K.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new le(K.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ig{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new iw({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new le(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new le(K.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new iw(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new db;switch(r.type){case"firstParty":return new mb(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new le(K.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=nw.get(n);r&&(te("ComponentProvider","Removing Datastore"),nw.delete(n),r.terminate())}(this),Promise.resolve()}}function oN(t,e,n,r={}){var i;const s=(t=Qs(t,ig))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&ra("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let l,u;if(typeof r.mockUserToken=="string")l=r.mockUserToken,u=Yt.MOCK_USER;else{l=yA(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const d=r.mockUserToken.sub||r.mockUserToken.user_id;if(!d)throw new le(K.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Yt(d)}t._authCredentials=new hb(new ME(l,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new sg(this.firestore,e,this._query)}}class Dn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new jl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Dn(this.firestore,e,this._key)}}class jl extends sg{constructor(e,n,r){super(e,n,jm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Dn(this.firestore,null,new ce(e))}withConverter(e){return new jl(this.firestore,e,this._path)}}function qN(t,e,...n){if(t=_t(t),arguments.length===1&&(e=FE.newId()),iN("doc","path",e),t instanceof ig){const r=ut.fromString(e,...n);return rw(r),new Dn(t,null,new ce(r))}{if(!(t instanceof Dn||t instanceof jl))throw new le(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ut.fromString(e,...n));return rw(r),new Dn(t.firestore,t instanceof jl?t.converter:null,new ce(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{constructor(e=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new _T(this,"async_queue_retry"),this.fu=()=>{const r=Jh();r&&te("AsyncQueue","Visibility state changed to "+r.visibilityState),this.r_.Jo()},this.gu=e;const n=Jh();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;const n=Jh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise(()=>{});const n=new Ji;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!_a(e))throw e;te("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const n=this.gu.then(()=>(this.Ru=!0,e().catch(r=>{this.Au=r,this.Ru=!1;const i=function(o){let l=o.message||"";return o.stack&&(l=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),l}(r);throw oi("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Ru=!1,r))));return this.gu=n,n}enqueueAfterDelay(e,n,r){this.pu(),this.mu.indexOf(e)>-1&&(n=0);const i=Zm.createAndSchedule(this,e,n,r,s=>this.Su(s));return this.du.push(i),i}pu(){this.Au&&ge()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const n of this.du)if(n.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.du.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.du)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const n=this.du.indexOf(e);this.du.splice(n,1)}}class Yd extends ig{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new sw,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new sw(e),this._firestoreClient=void 0,await e}}}function aN(t,e){const n=typeof t=="object"?t:W0(),r=typeof t=="string"?t:"(default)",i=Pm(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=mA("firestore");s&&oN(i,...s)}return i}function FT(t){if(t._terminated)throw new le(K.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||lN(t),t._firestoreClient}function lN(t){var e,n,r;const i=t._freezeSettings(),s=function(l,u,d,p){return new bb(l,u,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,MT(p.experimentalLongPollingOptions),p.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new ZD(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(l){const u=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ua(Wt.fromBase64String(e))}catch(n){throw new le(K.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ua(Wt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new le(K.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new zt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new le(K.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new le(K.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ke(this._lat,e._lat)||ke(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uN=/^__.*__$/;class cN{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new hs(e,this.data,this.fieldMask,n,this.fieldTransforms):new eu(e,this.data,n,this.fieldTransforms)}}class UT{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new hs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function BT(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ge()}}class ug{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Fu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new ug(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.xu({path:r,Nu:!1});return i.Lu(e),i}Bu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.xu({path:r,Nu:!1});return i.Fu(),i}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return hd(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lu(this.path.get(e))}Lu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(BT(this.Mu)&&uN.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class dN{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Kd(e)}$u(e,n,r,i=!1){return new ug({Mu:e,methodName:n,Ku:r,path:zt.emptyPath(),Nu:!1,Qu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function jT(t){const e=t._freezeSettings(),n=Kd(t._databaseId);return new dN(t._databaseId,!!e.ignoreUndefinedProperties,n)}function hN(t,e,n,r,i,s={}){const o=t.$u(s.merge||s.mergeFields?2:0,e,n,i);cg("Data must be an object, but it was:",o,r);const l=zT(r,o);let u,d;if(s.merge)u=new bn(o.fieldMask),d=o.fieldTransforms;else if(s.mergeFields){const p=[];for(const y of s.mergeFields){const w=_p(e,y,n);if(!o.contains(w))throw new le(K.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);HT(p,w)||p.push(w)}u=new bn(p),d=o.fieldTransforms.filter(y=>u.covers(y.field))}else u=null,d=o.fieldTransforms;return new cN(new wn(l),u,d)}class Jd extends og{_toFieldTransform(e){if(e.Mu!==2)throw e.Mu===1?e.qu(`${this._methodName}() can only appear at the top level of your update data`):e.qu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Jd}}function fN(t,e,n,r){const i=t.$u(1,e,n);cg("Data must be an object, but it was:",i,r);const s=[],o=wn.empty();ds(r,(u,d)=>{const p=dg(e,u,n);d=_t(d);const y=i.Bu(p);if(d instanceof Jd)s.push(p);else{const w=Zd(d,y);w!=null&&(s.push(p),o.set(p,w))}});const l=new bn(s);return new UT(o,l,i.fieldTransforms)}function pN(t,e,n,r,i,s){const o=t.$u(1,e,n),l=[_p(e,r,n)],u=[i];if(s.length%2!=0)throw new le(K.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<s.length;w+=2)l.push(_p(e,s[w])),u.push(s[w+1]);const d=[],p=wn.empty();for(let w=l.length-1;w>=0;--w)if(!HT(d,l[w])){const S=l[w];let D=u[w];D=_t(D);const N=o.Bu(S);if(D instanceof Jd)d.push(S);else{const F=Zd(D,N);F!=null&&(d.push(S),p.set(S,F))}}const y=new bn(d);return new UT(p,y,o.fieldTransforms)}function Zd(t,e){if($T(t=_t(t)))return cg("Unsupported field value:",e,t),zT(t,e);if(t instanceof og)return function(r,i){if(!BT(i.Mu))throw i.qu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.qu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const l of r){let u=Zd(l,i.ku(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=_t(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Zb(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=bt.fromDate(r);return{timestampValue:ld(i.serializer,s)}}if(r instanceof bt){const s=new bt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ld(i.serializer,s)}}if(r instanceof ag)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ua)return{bytesValue:cT(i.serializer,r._byteString)};if(r instanceof Dn){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.qu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Wm(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof lg)return function(o,l){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw l.qu("VectorValues must only contain numeric values.");return zm(l.serializer,u)})}}}}}}(r,i);throw i.qu(`Unsupported field value: ${rg(r)}`)}(t,e)}function zT(t,e){const n={};return UE(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ds(t,(r,i)=>{const s=Zd(i,e.Ou(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function $T(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof bt||t instanceof ag||t instanceof ua||t instanceof Dn||t instanceof og||t instanceof lg)}function cg(t,e,n){if(!$T(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=rg(n);throw r==="an object"?e.qu(t+" a custom object"):e.qu(t+" "+r)}}function _p(t,e,n){if((e=_t(e))instanceof Xd)return e._internalPath;if(typeof e=="string")return dg(t,e);throw hd("Field path arguments must be of type string or ",t,!1,void 0,n)}const mN=new RegExp("[~\\*/\\[\\]]");function dg(t,e,n){if(e.search(mN)>=0)throw hd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Xd(...e.split("."))._internalPath}catch{throw hd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function hd(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new le(K.INVALID_ARGUMENT,l+t+u)}function HT(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Dn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new gN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(qT("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class gN extends WT{data(){return super.data()}}function qT(t,e){return typeof e=="string"?dg(t,e):e instanceof Xd?e._internalPath:e._delegate._internalPath}class yN{convertValue(e,n="none"){switch(is(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ft(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(rs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ge()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ds(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>ft(o.doubleValue));return new lg(s)}convertGeoPoint(e){return new ag(ft(e.latitude),ft(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Bd(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Vl(e));default:return null}}convertTimestamp(e){const n=ns(e);return new bt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ut.fromString(e);Oe(gT(r));const i=new Ml(r.get(1),r.get(3)),s=new ce(r.popFirst(5));return i.isEqual(n)||oi(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vN(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wN{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class KT extends WT{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new _N(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(qT("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class _N extends KT{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KN(t){t=Qs(t,Dn);const e=Qs(t.firestore,Yd);return rN(FT(e),t._key).then(n=>TN(e,t,n))}class EN extends yN{constructor(e){super(),this.firestore=e}convertBytes(e){return new ua(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Dn(this.firestore,null,n)}}function GN(t,e,n){t=Qs(t,Dn);const r=Qs(t.firestore,Yd),i=vN(t.converter,e,n);return GT(r,[hN(jT(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,br.none())])}function QN(t,e,n,...r){t=Qs(t,Dn);const i=Qs(t.firestore,Yd),s=jT(i);let o;return o=typeof(e=_t(e))=="string"||e instanceof Xd?pN(s,"updateDoc",t._key,e,n,r):fN(s,"updateDoc",t._key,e),GT(i,[o.toMutation(t._key,br.exists(!0))])}function GT(t,e){return function(r,i){const s=new Ji;return r.asyncQueue.enqueueAndForget(async()=>$D(await tN(r),i,s)),s.promise}(FT(t),e)}function TN(t,e,n){const r=n.docs.get(e._key),i=new EN(t);return new KT(t,i,e._key,r,new wN(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){va=i})(ga),na(new Hs("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),l=new Yd(new fb(r.getProvider("auth-internal")),new yb(r.getProvider("app-check-internal")),function(d,p){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new le(K.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ml(d.options.projectId,p)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),l._setSettings(s),l},"PUBLIC").setMultipleInstances(!0)),Xi(Iv,"4.7.5",e),Xi(Iv,"4.7.5","esm2017")})();const IN={apiKey:"AIzaSyAkWG0hVG8eQ0MdHvM7r15kWYdpsp7Skiw",authDomain:"farmers-warehouse-ad080.firebaseapp.com",projectId:"farmers-warehouse-ad080",storageBucket:"farmers-warehouse-ad080.firebasestorage.app",messagingSenderId:"624391483036",appId:"1:624391483036:web:cab86303ae726667ef4759",measurementId:"G-S82WR3LEJM"},QT=H0(IN),eh=ub(QT),YN=aN(QT);var YT={exports:{}};/*!
* sweetalert2 v11.6.13
* Released under the MIT License.
*/(function(t,e){(function(n,r){t.exports=r()})(Vt,function(){var n={awaitingPromise:new WeakMap,promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap};const r="swal2-",i=c=>{const h={};for(const v in c)h[c[v]]=r+c[v];return h},s=i(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"]),o=i(["success","warning","info","question","error"]),l="SweetAlert2:",u=c=>{const h=[];for(let v=0;v<c.length;v++)h.indexOf(c[v])===-1&&h.push(c[v]);return h},d=c=>c.charAt(0).toUpperCase()+c.slice(1),p=c=>{console.warn(`${l} ${typeof c=="object"?c.join(" "):c}`)},y=c=>{console.error(`${l} ${c}`)},w=[],S=c=>{w.includes(c)||(w.push(c),p(c))},D=(c,h)=>{S(`"${c}" is deprecated and will be removed in the next major release. Please use "${h}" instead.`)},N=c=>typeof c=="function"?c():c,F=c=>c&&typeof c.toPromise=="function",R=c=>F(c)?c.toPromise():Promise.resolve(c),E=c=>c&&Promise.resolve(c)===c,A=()=>document.body.querySelector(`.${s.container}`),M=c=>{const h=A();return h?h.querySelector(c):null},H=c=>M(`.${c}`),j=()=>H(s.popup),C=()=>H(s.icon),g=()=>H(s["icon-content"]),T=()=>H(s.title),I=()=>H(s["html-container"]),b=()=>H(s.image),O=()=>H(s["progress-steps"]),k=()=>H(s["validation-message"]),ve=()=>M(`.${s.actions} .${s.confirm}`),We=()=>M(`.${s.actions} .${s.deny}`),tn=()=>H(s["input-label"]),ct=()=>M(`.${s.loader}`),Y=()=>M(`.${s.actions} .${s.cancel}`),Z=()=>H(s.actions),de=()=>H(s.footer),be=()=>H(s["timer-progress-bar"]),Ie=()=>H(s.close),De=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,mt=()=>{const c=Array.from(j().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort((v,P)=>{const z=parseInt(v.getAttribute("tabindex")),re=parseInt(P.getAttribute("tabindex"));return z>re?1:z<re?-1:0}),h=Array.from(j().querySelectorAll(De)).filter(v=>v.getAttribute("tabindex")!=="-1");return u(c.concat(h)).filter(v=>St(v))},Et=()=>It(document.body,s.shown)&&!It(document.body,s["toast-shown"])&&!It(document.body,s["no-backdrop"]),Ge=()=>j()&&It(j(),s.toast),Tt=()=>j().hasAttribute("data-loading"),qt={previousBodyPadding:null},Ut=(c,h)=>{if(c.textContent="",h){const P=new DOMParser().parseFromString(h,"text/html");Array.from(P.querySelector("head").childNodes).forEach(z=>{c.appendChild(z)}),Array.from(P.querySelector("body").childNodes).forEach(z=>{z instanceof HTMLVideoElement||z instanceof HTMLAudioElement?c.appendChild(z.cloneNode(!0)):c.appendChild(z)})}},It=(c,h)=>{if(!h)return!1;const v=h.split(/\s+/);for(let P=0;P<v.length;P++)if(!c.classList.contains(v[P]))return!1;return!0},pi=(c,h)=>{Array.from(c.classList).forEach(v=>{!Object.values(s).includes(v)&&!Object.values(o).includes(v)&&!Object.values(h.showClass).includes(v)&&c.classList.remove(v)})},Dt=(c,h,v)=>{if(pi(c,h),h.customClass&&h.customClass[v]){if(typeof h.customClass[v]!="string"&&!h.customClass[v].forEach){p(`Invalid type of customClass.${v}! Expected string or iterable object, got "${typeof h.customClass[v]}"`);return}_e(c,h.customClass[v])}},Lr=(c,h)=>{if(!h)return null;switch(h){case"select":case"textarea":case"file":return c.querySelector(`.${s.popup} > .${s[h]}`);case"checkbox":return c.querySelector(`.${s.popup} > .${s.checkbox} input`);case"radio":return c.querySelector(`.${s.popup} > .${s.radio} input:checked`)||c.querySelector(`.${s.popup} > .${s.radio} input:first-child`);case"range":return c.querySelector(`.${s.popup} > .${s.range} input`);default:return c.querySelector(`.${s.popup} > .${s.input}`)}},it=c=>{if(c.focus(),c.type!=="file"){const h=c.value;c.value="",c.value=h}},Sn=(c,h,v)=>{!c||!h||(typeof h=="string"&&(h=h.split(/\s+/).filter(Boolean)),h.forEach(P=>{Array.isArray(c)?c.forEach(z=>{v?z.classList.add(P):z.classList.remove(P)}):v?c.classList.add(P):c.classList.remove(P)}))},_e=(c,h)=>{Sn(c,h,!0)},dn=(c,h)=>{Sn(c,h,!1)},Nt=(c,h)=>{const v=Array.from(c.children);for(let P=0;P<v.length;P++){const z=v[P];if(z instanceof HTMLElement&&It(z,h))return z}},qn=(c,h,v)=>{v===`${parseInt(v)}`&&(v=parseInt(v)),v||parseInt(v)===0?c.style[h]=typeof v=="number"?`${v}px`:v:c.style.removeProperty(h)},Je=function(c){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"flex";c.style.display=h},st=c=>{c.style.display="none"},eo=(c,h,v,P)=>{const z=c.querySelector(h);z&&(z.style[v]=P)},dr=function(c,h){let v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"flex";h?Je(c,v):st(c)},St=c=>!!(c&&(c.offsetWidth||c.offsetHeight||c.getClientRects().length)),to=()=>!St(ve())&&!St(We())&&!St(Y()),je=c=>c.scrollHeight>c.clientHeight,Qe=c=>{const h=window.getComputedStyle(c),v=parseFloat(h.getPropertyValue("animation-duration")||"0"),P=parseFloat(h.getPropertyValue("transition-duration")||"0");return v>0||P>0},Kn=function(c){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const v=be();St(v)&&(h&&(v.style.transition="none",v.style.width="100%"),setTimeout(()=>{v.style.transition=`width ${c/1e3}s linear`,v.style.width="0%"},10))},mi=()=>{const c=be(),h=parseInt(window.getComputedStyle(c).width);c.style.removeProperty("transition"),c.style.width="100%";const v=parseInt(window.getComputedStyle(c).width),P=h/v*100;c.style.removeProperty("transition"),c.style.width=`${P}%`},Cn=100,he={},hr=()=>{he.previousActiveElement instanceof HTMLElement?(he.previousActiveElement.focus(),he.previousActiveElement=null):document.body&&document.body.focus()},Or=c=>new Promise(h=>{if(!c)return h();const v=window.scrollX,P=window.scrollY;he.restoreFocusTimeout=setTimeout(()=>{hr(),h()},Cn),window.scrollTo(v,P)}),fs=()=>typeof window>"u"||typeof document>"u",hn=`
 <div aria-labelledby="${s.title}" aria-describedby="${s["html-container"]}" class="${s.popup}" tabindex="-1">
   <button type="button" class="${s.close}"></button>
   <ul class="${s["progress-steps"]}"></ul>
   <div class="${s.icon}"></div>
   <img class="${s.image}" />
   <h2 class="${s.title}" id="${s.title}"></h2>
   <div class="${s["html-container"]}" id="${s["html-container"]}"></div>
   <input class="${s.input}" />
   <input type="file" class="${s.file}" />
   <div class="${s.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${s.select}"></select>
   <div class="${s.radio}"></div>
   <label for="${s.checkbox}" class="${s.checkbox}">
     <input type="checkbox" />
     <span class="${s.label}"></span>
   </label>
   <textarea class="${s.textarea}"></textarea>
   <div class="${s["validation-message"]}" id="${s["validation-message"]}"></div>
   <div class="${s.actions}">
     <div class="${s.loader}"></div>
     <button type="button" class="${s.confirm}"></button>
     <button type="button" class="${s.deny}"></button>
     <button type="button" class="${s.cancel}"></button>
   </div>
   <div class="${s.footer}"></div>
   <div class="${s["timer-progress-bar-container"]}">
     <div class="${s["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),no=()=>{const c=A();return c?(c.remove(),dn([document.documentElement,document.body],[s["no-backdrop"],s["toast-shown"],s["has-column"]]),!0):!1},Vn=()=>{he.currentInstance.resetValidationMessage()},gi=()=>{const c=j(),h=Nt(c,s.input),v=Nt(c,s.file),P=c.querySelector(`.${s.range} input`),z=c.querySelector(`.${s.range} output`),re=Nt(c,s.select),ht=c.querySelector(`.${s.checkbox} input`),_r=Nt(c,s.textarea);h.oninput=Vn,v.onchange=Vn,re.onchange=Vn,ht.onchange=Vn,_r.oninput=Vn,P.oninput=()=>{Vn(),z.value=P.value},P.onchange=()=>{Vn(),z.value=P.value}},ro=c=>typeof c=="string"?document.querySelector(c):c,ps=c=>{const h=j();h.setAttribute("role",c.toast?"alert":"dialog"),h.setAttribute("aria-live",c.toast?"polite":"assertive"),c.toast||h.setAttribute("aria-modal","true")},Mn=c=>{window.getComputedStyle(c).direction==="rtl"&&_e(A(),s.rtl)},yi=c=>{const h=no();if(fs()){y("SweetAlert2 requires document to initialize");return}const v=document.createElement("div");v.className=s.container,h&&_e(v,s["no-transition"]),Ut(v,hn);const P=ro(c.target);P.appendChild(v),ps(c),Mn(P),gi()},Gn=(c,h)=>{c instanceof HTMLElement?h.appendChild(c):typeof c=="object"?fn(c,h):c&&Ut(h,c)},fn=(c,h)=>{c.jquery?vi(h,c):Ut(h,c.toString())},vi=(c,h)=>{if(c.textContent="",0 in h)for(let v=0;v in h;v++)c.appendChild(h[v].cloneNode(!0));else c.appendChild(h.cloneNode(!0))},Fn=(()=>{if(fs())return!1;const c=document.createElement("div"),h={WebkitAnimation:"webkitAnimationEnd",animation:"animationend"};for(const v in h)if(Object.prototype.hasOwnProperty.call(h,v)&&typeof c.style[v]<"u")return h[v];return!1})(),ms=()=>{const c=document.createElement("div");c.className=s["scrollbar-measure"],document.body.appendChild(c);const h=c.getBoundingClientRect().width-c.clientWidth;return document.body.removeChild(c),h},Vr=(c,h)=>{const v=Z(),P=ct();!h.showConfirmButton&&!h.showDenyButton&&!h.showCancelButton?st(v):Je(v),Dt(v,h,"actions"),gs(v,P,h),Ut(P,h.loaderHtml),Dt(P,h,"loader")};function gs(c,h,v){const P=ve(),z=We(),re=Y();Qn(P,"confirm",v),Qn(z,"deny",v),Qn(re,"cancel",v),ot(P,z,re,v),v.reverseButtons&&(v.toast?(c.insertBefore(re,P),c.insertBefore(z,P)):(c.insertBefore(re,h),c.insertBefore(z,h),c.insertBefore(P,h)))}function ot(c,h,v,P){if(!P.buttonsStyling){dn([c,h,v],s.styled);return}_e([c,h,v],s.styled),P.confirmButtonColor&&(c.style.backgroundColor=P.confirmButtonColor,_e(c,s["default-outline"])),P.denyButtonColor&&(h.style.backgroundColor=P.denyButtonColor,_e(h,s["default-outline"])),P.cancelButtonColor&&(v.style.backgroundColor=P.cancelButtonColor,_e(v,s["default-outline"]))}function Qn(c,h,v){dr(c,v[`show${d(h)}Button`],"inline-block"),Ut(c,v[`${h}ButtonText`]),c.setAttribute("aria-label",v[`${h}ButtonAriaLabel`]),c.className=s[h],Dt(c,v,`${h}Button`),_e(c,v[`${h}ButtonClass`])}const fr=(c,h)=>{const v=Ie();Ut(v,h.closeButtonHtml),Dt(v,h,"closeButton"),dr(v,h.showCloseButton),v.setAttribute("aria-label",h.closeButtonAriaLabel)},Mr=(c,h)=>{const v=A();v&&(Ta(v,h.backdrop),x(v,h.position),L(v,h.grow),Dt(v,h,"container"))};function Ta(c,h){typeof h=="string"?c.style.background=h:h||_e([document.documentElement,document.body],s["no-backdrop"])}function x(c,h){h in s?_e(c,s[h]):(p('The "position" parameter is not valid, defaulting to "center"'),_e(c,s.center))}function L(c,h){if(h&&typeof h=="string"){const v=`grow-${h}`;v in s&&_e(c,s[v])}}const U=["input","file","range","select","radio","checkbox","textarea"],q=(c,h)=>{const v=j(),P=n.innerParams.get(c),z=!P||h.input!==P.input;U.forEach(re=>{const ht=Nt(v,s[re]);ue(re,h.inputAttributes),ht.className=s[re],z&&st(ht)}),h.input&&(z&&J(h),X(h))},J=c=>{if(!fe[c.input]){y(`Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "${c.input}"`);return}const h=se(c.input),v=fe[c.input](h,c);Je(h),setTimeout(()=>{it(v)})},oe=c=>{for(let h=0;h<c.attributes.length;h++){const v=c.attributes[h].name;["type","value","style"].includes(v)||c.removeAttribute(v)}},ue=(c,h)=>{const v=Lr(j(),c);if(v){oe(v);for(const P in h)v.setAttribute(P,h[P])}},X=c=>{const h=se(c.input);typeof c.customClass=="object"&&_e(h,c.customClass.input)},ie=(c,h)=>{(!c.placeholder||h.inputPlaceholder)&&(c.placeholder=h.inputPlaceholder)},ee=(c,h,v)=>{if(v.inputLabel){c.id=s.input;const P=document.createElement("label"),z=s["input-label"];P.setAttribute("for",c.id),P.className=z,typeof v.customClass=="object"&&_e(P,v.customClass.inputLabel),P.innerText=v.inputLabel,h.insertAdjacentElement("beforebegin",P)}},se=c=>Nt(j(),s[c]||s.input),Ee=(c,h)=>{["string","number"].includes(typeof h)?c.value=`${h}`:E(h)||p(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof h}"`)},fe={};fe.text=fe.email=fe.password=fe.number=fe.tel=fe.url=(c,h)=>(Ee(c,h.inputValue),ee(c,c,h),ie(c,h),c.type=h.input,c),fe.file=(c,h)=>(ee(c,c,h),ie(c,h),c),fe.range=(c,h)=>{const v=c.querySelector("input"),P=c.querySelector("output");return Ee(v,h.inputValue),v.type=h.input,Ee(P,h.inputValue),ee(v,c,h),c},fe.select=(c,h)=>{if(c.textContent="",h.inputPlaceholder){const v=document.createElement("option");Ut(v,h.inputPlaceholder),v.value="",v.disabled=!0,v.selected=!0,c.appendChild(v)}return ee(c,c,h),c},fe.radio=c=>(c.textContent="",c),fe.checkbox=(c,h)=>{const v=Lr(j(),"checkbox");v.value="1",v.id=s.checkbox,v.checked=!!h.inputValue;const P=c.querySelector("span");return Ut(P,h.inputPlaceholder),v},fe.textarea=(c,h)=>{Ee(c,h.inputValue),ie(c,h),ee(c,c,h);const v=P=>parseInt(window.getComputedStyle(P).marginLeft)+parseInt(window.getComputedStyle(P).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const P=parseInt(window.getComputedStyle(j()).width),z=()=>{const re=c.offsetWidth+v(c);re>P?j().style.width=`${re}px`:j().style.width=null};new MutationObserver(z).observe(c,{attributes:!0,attributeFilter:["style"]})}}),c};const Le=(c,h)=>{const v=I();Dt(v,h,"htmlContainer"),h.html?(Gn(h.html,v),Je(v,"block")):h.text?(v.textContent=h.text,Je(v,"block")):st(v),q(c,h)},Se=(c,h)=>{const v=de();dr(v,h.footer),h.footer&&Gn(h.footer,v),Dt(v,h,"footer")},at=(c,h)=>{const v=n.innerParams.get(c),P=C();if(v&&h.icon===v.icon){Ct(P,h),Fe(P,h);return}if(!h.icon&&!h.iconHtml){st(P);return}if(h.icon&&Object.keys(o).indexOf(h.icon)===-1){y(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${h.icon}"`),st(P);return}Je(P),Ct(P,h),Fe(P,h),_e(P,h.showClass.icon)},Fe=(c,h)=>{for(const v in o)h.icon!==v&&dn(c,o[v]);_e(c,o[h.icon]),mr(c,h),pr(),Dt(c,h,"icon")},pr=()=>{const c=j(),h=window.getComputedStyle(c).getPropertyValue("background-color"),v=c.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let P=0;P<v.length;P++)v[P].style.backgroundColor=h},nn=`
  <div class="swal2-success-circular-line-left"></div>
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
  <div class="swal2-success-circular-line-right"></div>
`,pn=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,Ct=(c,h)=>{let v=c.innerHTML,P;h.iconHtml?P=mn(h.iconHtml):h.icon==="success"?(P=nn,v=v.replace(/ style=".*?"/g,"")):h.icon==="error"?P=pn:P=mn({question:"?",warning:"!",info:"i"}[h.icon]),v.trim()!==P.trim()&&Ut(c,P)},mr=(c,h)=>{if(h.iconColor){c.style.color=h.iconColor,c.style.borderColor=h.iconColor;for(const v of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])eo(c,v,"backgroundColor",h.iconColor);eo(c,".swal2-success-ring","borderColor",h.iconColor)}},mn=c=>`<div class="${s["icon-content"]}">${c}</div>`,Fr=(c,h)=>{const v=b();if(!h.imageUrl){st(v);return}Je(v,""),v.setAttribute("src",h.imageUrl),v.setAttribute("alt",h.imageAlt),qn(v,"width",h.imageWidth),qn(v,"height",h.imageHeight),v.className=s.image,Dt(v,h,"image")},Ur=(c,h)=>{const v=A(),P=j();h.toast?(qn(v,"width",h.width),P.style.width="100%",P.insertBefore(ct(),C())):qn(P,"width",h.width),qn(P,"padding",h.padding),h.color&&(P.style.color=h.color),h.background&&(P.style.background=h.background),st(k()),Br(P,h)},Br=(c,h)=>{c.className=`${s.popup} ${St(c)?h.showClass.popup:""}`,h.toast?(_e([document.documentElement,document.body],s["toast-shown"]),_e(c,s.toast)):_e(c,s.modal),Dt(c,h,"popup"),typeof h.customClass=="string"&&_e(c,h.customClass),h.icon&&_e(c,s[`icon-${h.icon}`])},me=(c,h)=>{const v=O();if(!h.progressSteps||h.progressSteps.length===0){st(v);return}Je(v),v.textContent="",h.currentProgressStep>=h.progressSteps.length&&p("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),h.progressSteps.forEach((P,z)=>{const re=Ue(P);if(v.appendChild(re),z===h.currentProgressStep&&_e(re,s["active-progress-step"]),z!==h.progressSteps.length-1){const ht=Lt(h);v.appendChild(ht)}})},Ue=c=>{const h=document.createElement("li");return _e(h,s["progress-step"]),Ut(h,c),h},Lt=c=>{const h=document.createElement("li");return _e(h,s["progress-step-line"]),c.progressStepsDistance&&qn(h,"width",c.progressStepsDistance),h},ze=(c,h)=>{const v=T();dr(v,h.title||h.titleText,"block"),h.title&&Gn(h.title,v),h.titleText&&(v.innerText=h.titleText),Dt(v,h,"title")},gn=(c,h)=>{Ur(c,h),Mr(c,h),me(c,h),at(c,h),Fr(c,h),ze(c,h),fr(c,h),Le(c,h),Vr(c,h),Se(c,h),typeof h.didRender=="function"&&h.didRender(j())};function ys(){const c=n.innerParams.get(this);if(!c)return;const h=n.domCache.get(this);st(h.loader),Ge()?c.icon&&Je(C()):io(h),dn([h.popup,h.actions],s.loading),h.popup.removeAttribute("aria-busy"),h.popup.removeAttribute("data-loading"),h.confirmButton.disabled=!1,h.denyButton.disabled=!1,h.cancelButton.disabled=!1}const io=c=>{const h=c.popup.getElementsByClassName(c.loader.getAttribute("data-button-to-replace"));h.length?Je(h[0],"inline-block"):to()&&st(c.actions)};function iu(c){const h=n.innerParams.get(c||this),v=n.domCache.get(c||this);return v?Lr(v.popup,h.input):null}const th=()=>St(j()),gr=()=>ve()&&ve().click(),Yn=()=>We()&&We().click(),so=()=>Y()&&Y().click(),Xn=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),Ia=c=>{c.keydownTarget&&c.keydownHandlerAdded&&(c.keydownTarget.removeEventListener("keydown",c.keydownHandler,{capture:c.keydownListenerCapture}),c.keydownHandlerAdded=!1)},$e=(c,h,v,P)=>{Ia(h),v.toast||(h.keydownHandler=z=>nh(c,z,P),h.keydownTarget=v.keydownListenerCapture?window:j(),h.keydownListenerCapture=v.keydownListenerCapture,h.keydownTarget.addEventListener("keydown",h.keydownHandler,{capture:h.keydownListenerCapture}),h.keydownHandlerAdded=!0)},wi=(c,h,v)=>{const P=mt();if(P.length)return h=h+v,h===P.length?h=0:h===-1&&(h=P.length-1),P[h].focus();j().focus()},_i=["ArrowRight","ArrowDown"],vs=["ArrowLeft","ArrowUp"],nh=(c,h,v)=>{const P=n.innerParams.get(c);P&&(h.isComposing||h.keyCode===229||(P.stopKeydownPropagation&&h.stopPropagation(),h.key==="Enter"?su(c,h,P):h.key==="Tab"?rh(h,P):[..._i,...vs].includes(h.key)?ih(h.key):h.key==="Escape"&&sh(h,P,v)))},su=(c,h,v)=>{if(N(v.allowEnterKey)&&h.target&&c.getInput()&&h.target instanceof HTMLElement&&h.target.outerHTML===c.getInput().outerHTML){if(["textarea","file"].includes(v.input))return;gr(),h.preventDefault()}},rh=(c,h)=>{const v=c.target,P=mt();let z=-1;for(let re=0;re<P.length;re++)if(v===P[re]){z=re;break}c.shiftKey?wi(h,z,-1):wi(h,z,1),c.stopPropagation(),c.preventDefault()},ih=c=>{const h=ve(),v=We(),P=Y();if(document.activeElement instanceof HTMLElement&&![h,v,P].includes(document.activeElement))return;const z=_i.includes(c)?"nextElementSibling":"previousElementSibling";let re=document.activeElement;for(let ht=0;ht<Z().children.length;ht++){if(re=re[z],!re)return;if(re instanceof HTMLButtonElement&&St(re))break}re instanceof HTMLButtonElement&&re.focus()},sh=(c,h,v)=>{N(h.allowEscapeKey)&&(c.preventDefault(),v(Xn.esc))};var ws={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const _s=()=>{Array.from(document.body.children).forEach(h=>{h===A()||h.contains(A())||(h.hasAttribute("aria-hidden")&&h.setAttribute("data-previous-aria-hidden",h.getAttribute("aria-hidden")),h.setAttribute("aria-hidden","true"))})},Jn=()=>{Array.from(document.body.children).forEach(h=>{h.hasAttribute("data-previous-aria-hidden")?(h.setAttribute("aria-hidden",h.getAttribute("data-previous-aria-hidden")),h.removeAttribute("data-previous-aria-hidden")):h.removeAttribute("aria-hidden")})},ou=()=>{if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1)&&!It(document.body,s.iosfix)){const h=document.body.scrollTop;document.body.style.top=`${h*-1}px`,_e(document.body,s.iosfix),lu(),au()}},au=()=>{const c=navigator.userAgent,h=!!c.match(/iPad/i)||!!c.match(/iPhone/i),v=!!c.match(/WebKit/i);h&&v&&!c.match(/CriOS/i)&&j().scrollHeight>window.innerHeight-44&&(A().style.paddingBottom="44px")},lu=()=>{const c=A();let h;c.ontouchstart=v=>{h=Ei(v)},c.ontouchmove=v=>{h&&(v.preventDefault(),v.stopPropagation())}},Ei=c=>{const h=c.target,v=A();return oh(c)||ah(c)?!1:h===v||!je(v)&&h instanceof HTMLElement&&h.tagName!=="INPUT"&&h.tagName!=="TEXTAREA"&&!(je(I())&&I().contains(h))},oh=c=>c.touches&&c.touches.length&&c.touches[0].touchType==="stylus",ah=c=>c.touches&&c.touches.length>1,lh=()=>{if(It(document.body,s.iosfix)){const c=parseInt(document.body.style.top,10);dn(document.body,s.iosfix),document.body.style.top="",document.body.scrollTop=c*-1}},yr=()=>{qt.previousBodyPadding===null&&document.body.scrollHeight>window.innerHeight&&(qt.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${qt.previousBodyPadding+ms()}px`)},uh=()=>{qt.previousBodyPadding!==null&&(document.body.style.paddingRight=`${qt.previousBodyPadding}px`,qt.previousBodyPadding=null)};function uu(c,h,v,P){Ge()?du(c,P):(Or(v).then(()=>du(c,P)),Ia(he)),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?(h.setAttribute("style","display:none !important"),h.removeAttribute("class"),h.innerHTML=""):h.remove(),Et()&&(uh(),lh(),Jn()),oo()}function oo(){dn([document.documentElement,document.body],[s.shown,s["height-auto"],s["no-backdrop"],s["toast-shown"]])}function jr(c){c=Sa(c);const h=ws.swalPromiseResolve.get(this),v=Es(this);this.isAwaitingPromise()?c.isDismissed||(Ti(this),h(c)):v&&h(c)}function cu(){return!!n.awaitingPromise.get(this)}const Es=c=>{const h=j();if(!h)return!1;const v=n.innerParams.get(c);if(!v||It(h,v.hideClass.popup))return!1;dn(h,v.showClass.popup),_e(h,v.hideClass.popup);const P=A();return dn(P,v.showClass.backdrop),_e(P,v.hideClass.backdrop),Ye(c,h,v),!0};function Ts(c){const h=ws.swalPromiseReject.get(this);Ti(this),h&&h(c)}const Ti=c=>{c.isAwaitingPromise()&&(n.awaitingPromise.delete(c),n.innerParams.get(c)||c._destroy())},Sa=c=>typeof c>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},c),Ye=(c,h,v)=>{const P=A(),z=Fn&&Qe(h);typeof v.willClose=="function"&&v.willClose(h),z?ch(c,h,P,v.returnFocus,v.didClose):uu(c,P,v.returnFocus,v.didClose)},ch=(c,h,v,P,z)=>{he.swalCloseEventFinishedCallback=uu.bind(null,c,v,P,z),h.addEventListener(Fn,function(re){re.target===h&&(he.swalCloseEventFinishedCallback(),delete he.swalCloseEventFinishedCallback)})},du=(c,h)=>{setTimeout(()=>{typeof h=="function"&&h.bind(c.params)(),c._destroy()})};function Ca(c,h,v){const P=n.domCache.get(c);h.forEach(z=>{P[z].disabled=v})}function Pa(c,h){if(c)if(c.type==="radio"){const P=c.parentNode.parentNode.querySelectorAll("input");for(let z=0;z<P.length;z++)P[z].disabled=h}else c.disabled=h}function hu(){Ca(this,["confirmButton","denyButton","cancelButton"],!1)}function ao(){Ca(this,["confirmButton","denyButton","cancelButton"],!0)}function fu(){Pa(this.getInput(),!1)}function Zn(){Pa(this.getInput(),!0)}function pu(c){const h=n.domCache.get(this),v=n.innerParams.get(this);Ut(h.validationMessage,c),h.validationMessage.className=s["validation-message"],v.customClass&&v.customClass.validationMessage&&_e(h.validationMessage,v.customClass.validationMessage),Je(h.validationMessage);const P=this.getInput();P&&(P.setAttribute("aria-invalid",!0),P.setAttribute("aria-describedby",s["validation-message"]),it(P),_e(P,s.inputerror))}function dh(){const c=n.domCache.get(this);c.validationMessage&&st(c.validationMessage);const h=this.getInput();h&&(h.removeAttribute("aria-invalid"),h.removeAttribute("aria-describedby"),dn(h,s.inputerror))}const Un={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},mu=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],Aa={},lo=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],Ra=c=>Object.prototype.hasOwnProperty.call(Un,c),Is=c=>mu.indexOf(c)!==-1,ka=c=>Aa[c],gu=c=>{Ra(c)||p(`Unknown parameter "${c}"`)},Ss=c=>{lo.includes(c)&&p(`The parameter "${c}" is incompatible with toasts`)},yu=c=>{ka(c)&&D(c,ka(c))},vu=c=>{c.backdrop===!1&&c.allowOutsideClick&&p('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const h in c)gu(h),c.toast&&Ss(h),yu(h)};function ba(c){const h=j(),v=n.innerParams.get(this);if(!h||It(h,v.hideClass.popup)){p("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}const P=xa(c),z=Object.assign({},v,P);gn(this,z),n.innerParams.set(this,z),Object.defineProperties(this,{params:{value:Object.assign({},this.params,c),writable:!1,enumerable:!0}})}const xa=c=>{const h={};return Object.keys(c).forEach(v=>{Is(v)?h[v]=c[v]:p(`Invalid parameter to update: ${v}`)}),h};function wu(){const c=n.domCache.get(this),h=n.innerParams.get(this);if(!h){Da(this);return}c.popup&&he.swalCloseEventFinishedCallback&&(he.swalCloseEventFinishedCallback(),delete he.swalCloseEventFinishedCallback),typeof h.didDestroy=="function"&&h.didDestroy(),uo(this)}const uo=c=>{Da(c),delete c.params,delete he.keydownHandler,delete he.keydownTarget,delete he.currentInstance},Da=c=>{c.isAwaitingPromise()?(co(n,c),n.awaitingPromise.set(c,!0)):(co(ws,c),co(n,c))},co=(c,h)=>{for(const v in c)c[v].delete(h)};var vr=Object.freeze({__proto__:null,hideLoading:ys,disableLoading:ys,getInput:iu,close:jr,isAwaitingPromise:cu,rejectPromise:Ts,handleAwaitingPromise:Ti,closePopup:jr,closeModal:jr,closeToast:jr,enableButtons:hu,disableButtons:ao,enableInput:fu,disableInput:Zn,showValidationMessage:pu,resetValidationMessage:dh,update:ba,_destroy:wu});const zr=c=>{let h=j();h||new Cu,h=j();const v=ct();Ge()?st(C()):_u(h,c),Je(v),h.setAttribute("data-loading","true"),h.setAttribute("aria-busy","true"),h.focus()},_u=(c,h)=>{const v=Z(),P=ct();!h&&St(ve())&&(h=ve()),Je(v),h&&(st(h),P.setAttribute("data-button-to-replace",h.className)),P.parentNode.insertBefore(P,h),_e([c,v],s.loading)},Eu=(c,h)=>{h.input==="select"||h.input==="radio"?Su(c,h):["text","email","number","tel","textarea"].includes(h.input)&&(F(h.inputValue)||E(h.inputValue))&&(zr(ve()),Ii(c,h))},Tu=(c,h)=>{const v=c.getInput();if(!v)return null;switch(h.input){case"checkbox":return ho(v);case"radio":return rn(v);case"file":return Iu(v);default:return h.inputAutoTrim?v.value.trim():v.value}},ho=c=>c.checked?1:0,rn=c=>c.checked?c.value:null,Iu=c=>c.files.length?c.getAttribute("multiple")!==null?c.files:c.files[0]:null,Su=(c,h)=>{const v=j(),P=z=>{a[h.input](v,f(z),h)};F(h.inputOptions)||E(h.inputOptions)?(zr(ve()),R(h.inputOptions).then(z=>{c.hideLoading(),P(z)})):typeof h.inputOptions=="object"?P(h.inputOptions):y(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof h.inputOptions}`)},Ii=(c,h)=>{const v=c.getInput();st(v),R(h.inputValue).then(P=>{v.value=h.input==="number"?`${parseFloat(P)||0}`:`${P}`,Je(v),v.focus(),c.hideLoading()}).catch(P=>{y(`Error in inputValue promise: ${P}`),v.value="",Je(v),v.focus(),c.hideLoading()})},a={select:(c,h,v)=>{const P=Nt(c,s.select),z=(re,ht,_r)=>{const sn=document.createElement("option");sn.value=_r,Ut(sn,ht),sn.selected=m(_r,v.inputValue),re.appendChild(sn)};h.forEach(re=>{const ht=re[0],_r=re[1];if(Array.isArray(_r)){const sn=document.createElement("optgroup");sn.label=ht,sn.disabled=!1,P.appendChild(sn),_r.forEach(mo=>z(sn,mo[1],mo[0]))}else z(P,_r,ht)}),P.focus()},radio:(c,h,v)=>{const P=Nt(c,s.radio);h.forEach(re=>{const ht=re[0],_r=re[1],sn=document.createElement("input"),mo=document.createElement("label");sn.type="radio",sn.name=s.radio,sn.value=ht,m(ht,v.inputValue)&&(sn.checked=!0);const fh=document.createElement("span");Ut(fh,_r),fh.className=s.label,mo.appendChild(sn),mo.appendChild(fh),P.appendChild(mo)});const z=P.querySelectorAll("input");z.length&&z[0].focus()}},f=c=>{const h=[];return typeof Map<"u"&&c instanceof Map?c.forEach((v,P)=>{let z=v;typeof z=="object"&&(z=f(z)),h.push([P,z])}):Object.keys(c).forEach(v=>{let P=c[v];typeof P=="object"&&(P=f(P)),h.push([v,P])}),h},m=(c,h)=>h&&h.toString()===c.toString(),_=c=>{const h=n.innerParams.get(c);c.disableButtons(),h.input?Q(c,"confirm"):gt(c,!0)},V=c=>{const h=n.innerParams.get(c);c.disableButtons(),h.returnInputValueOnDeny?Q(c,"deny"):dt(c,!1)},B=(c,h)=>{c.disableButtons(),h(Xn.cancel)},Q=(c,h)=>{const v=n.innerParams.get(c);if(!v.input){y(`The "input" parameter is needed to be set when using returnInputValueOn${d(h)}`);return}const P=Tu(c,v);v.inputValidator?Ve(c,P,h):c.getInput().checkValidity()?h==="deny"?dt(c,P):gt(c,P):(c.enableButtons(),c.showValidationMessage(v.validationMessage))},Ve=(c,h,v)=>{const P=n.innerParams.get(c);c.disableInput(),Promise.resolve().then(()=>R(P.inputValidator(h,P.validationMessage))).then(re=>{c.enableButtons(),c.enableInput(),re?c.showValidationMessage(re):v==="deny"?dt(c,h):gt(c,h)})},dt=(c,h)=>{const v=n.innerParams.get(c||void 0);v.showLoaderOnDeny&&zr(We()),v.preDeny?(n.awaitingPromise.set(c||void 0,!0),Promise.resolve().then(()=>R(v.preDeny(h,v.validationMessage))).then(z=>{z===!1?(c.hideLoading(),Ti(c)):c.close({isDenied:!0,value:typeof z>"u"?h:z})}).catch(z=>Pt(c||void 0,z))):c.close({isDenied:!0,value:h})},Re=(c,h)=>{c.close({isConfirmed:!0,value:h})},Pt=(c,h)=>{c.rejectPromise(h)},gt=(c,h)=>{const v=n.innerParams.get(c||void 0);v.showLoaderOnConfirm&&zr(),v.preConfirm?(c.resetValidationMessage(),n.awaitingPromise.set(c||void 0,!0),Promise.resolve().then(()=>R(v.preConfirm(h,v.validationMessage))).then(z=>{St(k())||z===!1?(c.hideLoading(),Ti(c)):Re(c,typeof z>"u"?h:z)}).catch(z=>Pt(c||void 0,z))):Re(c,h)},Si=(c,h,v)=>{n.innerParams.get(c).toast?Pn(c,h,v):(JT(h),ZT(h),eI(c,h,v))},Pn=(c,h,v)=>{h.popup.onclick=()=>{const P=n.innerParams.get(c);P&&(fo(P)||P.timer||P.input)||v(Xn.close)}},fo=c=>c.showConfirmButton||c.showDenyButton||c.showCancelButton||c.showCloseButton;let Ci=!1;const JT=c=>{c.popup.onmousedown=()=>{c.container.onmouseup=function(h){c.container.onmouseup=void 0,h.target===c.container&&(Ci=!0)}}},ZT=c=>{c.container.onmousedown=()=>{c.popup.onmouseup=function(h){c.popup.onmouseup=void 0,(h.target===c.popup||c.popup.contains(h.target))&&(Ci=!0)}}},eI=(c,h,v)=>{h.container.onclick=P=>{const z=n.innerParams.get(c);if(Ci){Ci=!1;return}P.target===h.container&&N(z.allowOutsideClick)&&v(Xn.backdrop)}},tI=c=>typeof c=="object"&&c.jquery,hg=c=>c instanceof Element||tI(c),nI=c=>{const h={};return typeof c[0]=="object"&&!hg(c[0])?Object.assign(h,c[0]):["title","html","icon"].forEach((v,P)=>{const z=c[P];typeof z=="string"||hg(z)?h[v]=z:z!==void 0&&y(`Unexpected type of ${v}! Expected "string" or "Element", got ${typeof z}`)}),h};function rI(){const c=this;for(var h=arguments.length,v=new Array(h),P=0;P<h;P++)v[P]=arguments[P];return new c(...v)}function iI(c){class h extends this{_main(P,z){return super._main(P,Object.assign({},c,z))}}return h}const sI=()=>he.timeout&&he.timeout.getTimerLeft(),fg=()=>{if(he.timeout)return mi(),he.timeout.stop()},pg=()=>{if(he.timeout){const c=he.timeout.start();return Kn(c),c}},oI=()=>{const c=he.timeout;return c&&(c.running?fg():pg())},aI=c=>{if(he.timeout){const h=he.timeout.increase(c);return Kn(h,!0),h}},lI=()=>he.timeout&&he.timeout.isRunning();let mg=!1;const hh={};function uI(){let c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"data-swal-template";hh[c]=this,mg||(document.body.addEventListener("click",cI),mg=!0)}const cI=c=>{for(let h=c.target;h&&h!==document;h=h.parentNode)for(const v in hh){const P=h.getAttribute(v);if(P){hh[v].fire({template:P});return}}};var dI=Object.freeze({__proto__:null,isValidParameter:Ra,isUpdatableParameter:Is,isDeprecatedParameter:ka,argsToParams:nI,getContainer:A,getPopup:j,getTitle:T,getHtmlContainer:I,getImage:b,getIcon:C,getIconContent:g,getInputLabel:tn,getCloseButton:Ie,getActions:Z,getConfirmButton:ve,getDenyButton:We,getCancelButton:Y,getLoader:ct,getFooter:de,getTimerProgressBar:be,getFocusableElements:mt,getValidationMessage:k,getProgressSteps:O,isLoading:Tt,isVisible:th,clickConfirm:gr,clickDeny:Yn,clickCancel:so,fire:rI,mixin:iI,showLoading:zr,enableLoading:zr,getTimerLeft:sI,stopTimer:fg,resumeTimer:pg,toggleTimer:oI,increaseTimer:aI,isTimerRunning:lI,bindClickHandler:uI});class hI{constructor(h,v){this.callback=h,this.remaining=v,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(h){const v=this.running;return v&&this.stop(),this.remaining+=h,v&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const gg=["swal-title","swal-html","swal-footer"],fI=c=>{const h=typeof c.template=="string"?document.querySelector(c.template):c.template;if(!h)return{};const v=h.content;return EI(v),Object.assign(pI(v),mI(v),gI(v),yI(v),vI(v),wI(v),_I(v,gg))},pI=c=>{const h={};return Array.from(c.querySelectorAll("swal-param")).forEach(P=>{Cs(P,["name","value"]);const z=P.getAttribute("name"),re=P.getAttribute("value");typeof Un[z]=="boolean"?h[z]=re!=="false":typeof Un[z]=="object"?h[z]=JSON.parse(re):h[z]=re}),h},mI=c=>{const h={};return Array.from(c.querySelectorAll("swal-function-param")).forEach(P=>{const z=P.getAttribute("name"),re=P.getAttribute("value");h[z]=new Function(`return ${re}`)()}),h},gI=c=>{const h={};return Array.from(c.querySelectorAll("swal-button")).forEach(P=>{Cs(P,["type","color","aria-label"]);const z=P.getAttribute("type");h[`${z}ButtonText`]=P.innerHTML,h[`show${d(z)}Button`]=!0,P.hasAttribute("color")&&(h[`${z}ButtonColor`]=P.getAttribute("color")),P.hasAttribute("aria-label")&&(h[`${z}ButtonAriaLabel`]=P.getAttribute("aria-label"))}),h},yI=c=>{const h={},v=c.querySelector("swal-image");return v&&(Cs(v,["src","width","height","alt"]),v.hasAttribute("src")&&(h.imageUrl=v.getAttribute("src")),v.hasAttribute("width")&&(h.imageWidth=v.getAttribute("width")),v.hasAttribute("height")&&(h.imageHeight=v.getAttribute("height")),v.hasAttribute("alt")&&(h.imageAlt=v.getAttribute("alt"))),h},vI=c=>{const h={},v=c.querySelector("swal-icon");return v&&(Cs(v,["type","color"]),v.hasAttribute("type")&&(h.icon=v.getAttribute("type")),v.hasAttribute("color")&&(h.iconColor=v.getAttribute("color")),h.iconHtml=v.innerHTML),h},wI=c=>{const h={},v=c.querySelector("swal-input");v&&(Cs(v,["type","label","placeholder","value"]),h.input=v.getAttribute("type")||"text",v.hasAttribute("label")&&(h.inputLabel=v.getAttribute("label")),v.hasAttribute("placeholder")&&(h.inputPlaceholder=v.getAttribute("placeholder")),v.hasAttribute("value")&&(h.inputValue=v.getAttribute("value")));const P=Array.from(c.querySelectorAll("swal-input-option"));return P.length&&(h.inputOptions={},P.forEach(z=>{Cs(z,["value"]);const re=z.getAttribute("value"),ht=z.innerHTML;h.inputOptions[re]=ht})),h},_I=(c,h)=>{const v={};for(const P in h){const z=h[P],re=c.querySelector(z);re&&(Cs(re,[]),v[z.replace(/^swal-/,"")]=re.innerHTML.trim())}return v},EI=c=>{const h=gg.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(c.children).forEach(v=>{const P=v.tagName.toLowerCase();h.includes(P)||p(`Unrecognized element <${P}>`)})},Cs=(c,h)=>{Array.from(c.attributes).forEach(v=>{h.indexOf(v.name)===-1&&p([`Unrecognized attribute "${v.name}" on <${c.tagName.toLowerCase()}>.`,`${h.length?`Allowed attributes are: ${h.join(", ")}`:"To set the value, use HTML within the element."}`])})},yg=10,TI=c=>{const h=A(),v=j();typeof c.willOpen=="function"&&c.willOpen(v);const z=window.getComputedStyle(document.body).overflowY;CI(h,v,c),setTimeout(()=>{II(h,v)},yg),Et()&&(SI(h,c.scrollbarPadding,z),_s()),!Ge()&&!he.previousActiveElement&&(he.previousActiveElement=document.activeElement),typeof c.didOpen=="function"&&setTimeout(()=>c.didOpen(v)),dn(h,s["no-transition"])},vg=c=>{const h=j();if(c.target!==h)return;const v=A();h.removeEventListener(Fn,vg),v.style.overflowY="auto"},II=(c,h)=>{Fn&&Qe(h)?(c.style.overflowY="hidden",h.addEventListener(Fn,vg)):c.style.overflowY="auto"},SI=(c,h,v)=>{ou(),h&&v!=="hidden"&&yr(),setTimeout(()=>{c.scrollTop=0})},CI=(c,h,v)=>{_e(c,v.showClass.backdrop),h.style.setProperty("opacity","0","important"),Je(h,"grid"),setTimeout(()=>{_e(h,v.showClass.popup),h.style.removeProperty("opacity")},yg),_e([document.documentElement,document.body],s.shown),v.heightAuto&&v.backdrop&&!v.toast&&_e([document.documentElement,document.body],s["height-auto"])};var wg={email:(c,h)=>/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(c)?Promise.resolve():Promise.resolve(h||"Invalid email address"),url:(c,h)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(c)?Promise.resolve():Promise.resolve(h||"Invalid URL")};function PI(c){c.inputValidator||Object.keys(wg).forEach(h=>{c.input===h&&(c.inputValidator=wg[h])})}function AI(c){(!c.target||typeof c.target=="string"&&!document.querySelector(c.target)||typeof c.target!="string"&&!c.target.appendChild)&&(p('Target parameter is not valid, defaulting to "body"'),c.target="body")}function RI(c){PI(c),c.showLoaderOnConfirm&&!c.preConfirm&&p(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),AI(c),typeof c.title=="string"&&(c.title=c.title.split(`
`).join("<br />")),yi(c)}let wr;class po{constructor(){if(typeof window>"u")return;wr=this;for(var h=arguments.length,v=new Array(h),P=0;P<h;P++)v[P]=arguments[P];const z=Object.freeze(this.constructor.argsToParams(v));Object.defineProperties(this,{params:{value:z,writable:!1,enumerable:!0,configurable:!0}});const re=wr._main(wr.params);n.promise.set(this,re)}_main(h){let v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};vu(Object.assign({},v,h)),he.currentInstance&&(he.currentInstance._destroy(),Et()&&Jn()),he.currentInstance=wr;const P=bI(h,v);RI(P),Object.freeze(P),he.timeout&&(he.timeout.stop(),delete he.timeout),clearTimeout(he.restoreFocusTimeout);const z=xI(wr);return gn(wr,P),n.innerParams.set(wr,P),kI(wr,z,P)}then(h){return n.promise.get(this).then(h)}finally(h){return n.promise.get(this).finally(h)}}const kI=(c,h,v)=>new Promise((P,z)=>{const re=ht=>{c.close({isDismissed:!0,dismiss:ht})};ws.swalPromiseResolve.set(c,P),ws.swalPromiseReject.set(c,z),h.confirmButton.onclick=()=>{_(c)},h.denyButton.onclick=()=>{V(c)},h.cancelButton.onclick=()=>{B(c,re)},h.closeButton.onclick=()=>{re(Xn.close)},Si(c,h,re),$e(c,he,v,re),Eu(c,v),TI(v),DI(he,v,re),NI(h,v),setTimeout(()=>{h.container.scrollTop=0})}),bI=(c,h)=>{const v=fI(c),P=Object.assign({},Un,h,v,c);return P.showClass=Object.assign({},Un.showClass,P.showClass),P.hideClass=Object.assign({},Un.hideClass,P.hideClass),P},xI=c=>{const h={popup:j(),container:A(),actions:Z(),confirmButton:ve(),denyButton:We(),cancelButton:Y(),loader:ct(),closeButton:Ie(),validationMessage:k(),progressSteps:O()};return n.domCache.set(c,h),h},DI=(c,h,v)=>{const P=be();st(P),h.timer&&(c.timeout=new hI(()=>{v("timer"),delete c.timeout},h.timer),h.timerProgressBar&&(Je(P),Dt(P,h,"timerProgressBar"),setTimeout(()=>{c.timeout&&c.timeout.running&&Kn(h.timer)})))},NI=(c,h)=>{if(!h.toast){if(!N(h.allowEnterKey)){OI();return}LI(c,h)||wi(h,-1,1)}},LI=(c,h)=>h.focusDeny&&St(c.denyButton)?(c.denyButton.focus(),!0):h.focusCancel&&St(c.cancelButton)?(c.cancelButton.focus(),!0):h.focusConfirm&&St(c.confirmButton)?(c.confirmButton.focus(),!0):!1,OI=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|xn--p1ai)$/)){const c=new Date,h=localStorage.getItem("swal-initiation");h?(c.getTime()-Date.parse(h))/(1e3*60*60*24)>3&&setTimeout(()=>{document.body.style.pointerEvents="none";const v=document.createElement("audio");v.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",v.loop=!0,document.body.appendChild(v),setTimeout(()=>{v.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation",`${c}`)}Object.assign(po.prototype,vr),Object.assign(po,dI),Object.keys(vr).forEach(c=>{po[c]=function(){if(wr)return wr[c](...arguments)}}),po.DismissReason=Xn,po.version="11.6.13";const Cu=po;return Cu.default=Cu,Cu}),typeof Vt<"u"&&Vt.Sweetalert2&&(Vt.swal=Vt.sweetAlert=Vt.Swal=Vt.SweetAlert=Vt.Sweetalert2),typeof document<"u"&&function(n,r){var i=n.createElement("style");if(n.getElementsByTagName("head")[0].appendChild(i),i.styleSheet)i.styleSheet.disabled||(i.styleSheet.cssText=r);else try{i.innerHTML=r}catch{i.innerText=r}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}.swal2-container{display:grid;position:fixed;z-index:1060;top:0;right:0;bottom:0;left:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}.swal2-container.swal2-backdrop-show,.swal2-container.swal2-noanimation{background:rgba(0,0,0,.4)}.swal2-container.swal2-backdrop-hide{background:rgba(0,0,0,0) !important}.swal2-container.swal2-top-start,.swal2-container.swal2-center-start,.swal2-container.swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}.swal2-container.swal2-top,.swal2-container.swal2-center,.swal2-container.swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}.swal2-container.swal2-top-end,.swal2-container.swal2-center-end,.swal2-container.swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}.swal2-container.swal2-top-start>.swal2-popup{align-self:start}.swal2-container.swal2-top>.swal2-popup{grid-column:2;align-self:start;justify-self:center}.swal2-container.swal2-top-end>.swal2-popup,.swal2-container.swal2-top-right>.swal2-popup{grid-column:3;align-self:start;justify-self:end}.swal2-container.swal2-center-start>.swal2-popup,.swal2-container.swal2-center-left>.swal2-popup{grid-row:2;align-self:center}.swal2-container.swal2-center>.swal2-popup{grid-column:2;grid-row:2;align-self:center;justify-self:center}.swal2-container.swal2-center-end>.swal2-popup,.swal2-container.swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;align-self:center;justify-self:end}.swal2-container.swal2-bottom-start>.swal2-popup,.swal2-container.swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}.swal2-container.swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;justify-self:center;align-self:end}.swal2-container.swal2-bottom-end>.swal2-popup,.swal2-container.swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;align-self:end;justify-self:end}.swal2-container.swal2-grow-row>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}.swal2-container.swal2-grow-column>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}.swal2-container.swal2-no-transition{transition:none !important}.swal2-popup{display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}.swal2-popup:focus{outline:none}.swal2-popup.swal2-loading{overflow-y:hidden}.swal2-title{position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}.swal2-actions{display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}.swal2-actions:not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}.swal2-actions:not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}.swal2-actions:not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}.swal2-loader{display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}.swal2-styled{margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}.swal2-styled:not([disabled]){cursor:pointer}.swal2-styled.swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}.swal2-styled.swal2-confirm:focus{box-shadow:0 0 0 3px rgba(112,102,224,.5)}.swal2-styled.swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}.swal2-styled.swal2-deny:focus{box-shadow:0 0 0 3px rgba(220,55,65,.5)}.swal2-styled.swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}.swal2-styled.swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,120,129,.5)}.swal2-styled.swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}.swal2-styled:focus{outline:none}.swal2-styled::-moz-focus-inner{border:0}.swal2-footer{justify-content:center;margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em}.swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}.swal2-timer-progress-bar{width:100%;height:.25em;background:rgba(0,0,0,.2)}.swal2-image{max-width:100%;margin:2em auto 1em}.swal2-close{z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:serif;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}.swal2-close:hover{transform:none;background:rgba(0,0,0,0);color:#f27474}.swal2-close:focus{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}.swal2-close::-moz-focus-inner{border:0}.swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}.swal2-input,.swal2-file,.swal2-textarea,.swal2-select,.swal2-radio,.swal2-checkbox{margin:1em 2em 3px}.swal2-input,.swal2-file,.swal2-textarea{box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}.swal2-input.swal2-inputerror,.swal2-file.swal2-inputerror,.swal2-textarea.swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}.swal2-input:focus,.swal2-file:focus,.swal2-textarea:focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}.swal2-input::placeholder,.swal2-file::placeholder,.swal2-textarea::placeholder{color:#ccc}.swal2-range{margin:1em 2em 3px;background:#fff}.swal2-range input{width:80%}.swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}.swal2-range input,.swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}.swal2-input{height:2.625em;padding:0 .75em}.swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}.swal2-textarea{height:6.75em;padding:.75em}.swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}.swal2-radio,.swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}.swal2-radio label,.swal2-checkbox label{margin:0 .6em;font-size:1.125em}.swal2-radio input,.swal2-checkbox input{flex-shrink:0;margin:0 .4em}.swal2-input-label{display:flex;justify-content:center;margin:1em auto 0}.swal2-validation-message{align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}.swal2-validation-message::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}.swal2-icon{position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}.swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}.swal2-icon.swal2-error{border-color:#f27474;color:#f27474}.swal2-icon.swal2-error .swal2-x-mark{position:relative;flex-grow:1}.swal2-icon.swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}.swal2-icon.swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}.swal2-icon.swal2-warning{border-color:#facea8;color:#f8bb86}.swal2-icon.swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}.swal2-icon.swal2-info{border-color:#9de0f6;color:#3fc3ee}.swal2-icon.swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}.swal2-icon.swal2-question{border-color:#c9dae1;color:#87adbd}.swal2-icon.swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}.swal2-icon.swal2-success{border-color:#a5dc86;color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}.swal2-icon.swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}.swal2-icon.swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}.swal2-icon.swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}.swal2-icon.swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}.swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}.swal2-progress-steps li{display:inline-block;position:relative}.swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}.swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{top:0;right:auto;bottom:auto;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{top:0;right:0;bottom:auto;left:auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{top:0;right:auto;bottom:auto;left:0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{top:50%;right:auto;bottom:auto;left:0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{top:50%;right:auto;bottom:auto;left:50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{top:50%;right:0;bottom:auto;left:auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{top:auto;right:auto;bottom:0;left:0}body.swal2-toast-shown .swal2-container.swal2-bottom{top:auto;right:auto;bottom:0;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{top:auto;right:0;bottom:0;left:auto}')})(YT);var SN=YT.exports;const ca=Ep(SN),XN=async(t,e)=>{await $k(eh,t,e).catch(n=>{console.log(n)})},CN=(t,e)=>{Hk(eh,t,e).catch(n=>{console.log(n)})},JN=t=>Jk(t);eh.currentUser;const ZN=t=>{console.log("... email verification called"),Wk(t).then(()=>{console.log("Verificatoin Email sent Successfully")}).catch(e=>console.error("Error in sending verification email",e))},eL=async(t,e)=>{await zk(t,e).then(()=>ca.fire("Reset Email","Reset email is sent to your email successfully !","success")).catch(n=>{ca.fire("Error",n,"error")})},tL=async(t,e)=>{await Gk(t,e).then(()=>ca.fire("Password Updated","Password updated successfully !","success")).catch(n=>{ca.fire("Error updating password",n,"error"),console.log("ERROR!!!",n)})},nL=async(t,e)=>{await Kk(t,e).then(()=>ca.fire("Email Updated","Email updated successfully !","success")).catch(n=>{ca.fire("Error updating password",n,"error"),console.log("ERROR!!!",n)})},XT=Pp.createContext();function PN(){return $.useContext(XT)}function AN({children:t}){const[e,n]=$.useState(null),[r,i]=$.useState(!1),[s,o]=$.useState(!1);$.useEffect(()=>Xk(eh,l),[]);async function l(d){d?(n({...d}),i(!0),o(!0)):(n(null),i(!1),o(!1))}const u={currentUser:e,userLoggedIn:r,isLoading:s};return ae.jsx(XT.Provider,{value:u,children:t})}function RN(){const[t,e]=$.useState("password"),n=()=>{e(t==="password"?"text":"password")},{userLoggedIn:r}=PN(),[i,s]=$.useState(""),[o,l]=$.useState(""),u=Im(),d=p=>{p.preventDefault(),r||CN(o,i)};return ae.jsxs(ae.Fragment,{children:[r==!0&&u("../"),ae.jsxs("div",{className:"grid place-items-center min-h-[100vh]",children:[ae.jsx("div",{className:"relative",children:ae.jsxs("form",{className:"bg-green-50 drop-shadow-md w-[400px] shadow-lg rounded-md ",onSubmit:d,children:[ae.jsx("p",{className:"text-green-400 font-bold text-xl p-4 flex justify-center",children:"Sign in"}),ae.jsxs("div",{className:"px-4 py-3 flex flex-col gap-x-2 gap-y-3 relative",children:[ae.jsx("div",{className:" w-full",children:ae.jsx("input",{type:"email",name:"emai",id:"email",placeholder:"Email Address",className:"ring-1 ring-gray-400 outline-none p-2 rounded-md bg-gray-100 w-full focus:placeholder:gray-5",value:o,onChange:p=>l(p.target.value),required:!0})}),ae.jsxs("div",{className:"flex justify-between items-center ring-1 ring-gray-400 p-2 bg-gray-100 w-full focus:placeholder:text-gray-500 rounded-md ",children:[ae.jsx("input",{type:`${t}`,name:"password",id:"password",placeholder:"New Password",className:" outline-none bg-transparent w-[75%] ",value:i,onChange:p=>s(p.target.value),required:!0}),ae.jsx("span",{className:"text-xs text-gray-400 hover:underline hover:underline-offset-2 cursor-pointer",onClick:n,children:"show password"})]}),ae.jsxs("div",{className:"flex gap-2",children:[ae.jsx("input",{type:"checkbox",name:"remember-me",id:"remember-me"}),ae.jsx("label",{htmlFor:"remember-me",children:"Remember Me"})]}),ae.jsx("div",{className:"w-full flex items-center justify-center overflow-hidden relative",children:ae.jsx("button",{className:"px-2 py-3 text-neutral-50 bg-green-400 w-full rounded-md hover:text-neutral-100 hover:bg-green-300",children:"Login"})}),ae.jsxs("div",{className:"flex flex-col items-center justify-center gap-2 relative",children:[ae.jsx(Yf,{to:"/ForgotPassword",className:"relative text-sm font-bold hover:underline underline-offset-2",children:"Forgot you password ?"}),ae.jsx("p",{className:"text-gray-500 font-bold text-sm",children:"Or"}),ae.jsx(Yf,{to:"/Signup",className:"text-gray-600 hover:underline hover:text-gray-500 ",children:"Create new account"})]})]})]})}),ae.jsx(PP,{})]})]})}const kN=$.lazy(()=>li(()=>import("./Home-D85xov10.js"),__vite__mapDeps([0,1,2,3,4,5]))),bN=$.lazy(()=>li(()=>import("./Inventory-D-_t2SLa.js"),__vite__mapDeps([6,3,2]))),xN=$.lazy(()=>li(()=>import("./Navigation-BJLDpNqM.js"),__vite__mapDeps([7,3,2]))),DN=$.lazy(()=>li(()=>import("./AboutUs-CXLHOnk8.js"),[])),NN=$.lazy(()=>li(()=>import("./ContactUs-uLP5ucIE.js"),[])),LN=$.lazy(()=>li(()=>import("./Storages-BllkgiJK.js"),__vite__mapDeps([8,5,1,2,9,10]))),ON=$.lazy(()=>li(()=>import("./Signup-Cyfsnqle.js"),__vite__mapDeps([11,9,5]))),VN=$.lazy(()=>li(()=>import("./Profile-Pe-kFbA8.js"),__vite__mapDeps([12,5,1,2,4,10]))),MN=$.lazy(()=>li(()=>import("./ForgotPassword-DTr94bEj.js"),[])),FN=LP([{path:"/",element:ae.jsx(AN,{children:ae.jsx(xN,{})}),children:[{index:!0,element:ae.jsx($.Suspense,{fallback:ae.jsx($r,{}),children:ae.jsx(kN,{})})},{path:"/Inventory",element:ae.jsx($.Suspense,{fallback:ae.jsx($r,{}),children:ae.jsx(bN,{})})},{path:"/AboutUs",element:ae.jsx($.Suspense,{fallback:ae.jsx($r,{}),children:ae.jsx(DN,{})})},{path:"/ContactUs",element:ae.jsx($.Suspense,{fallback:ae.jsx($r,{}),children:ae.jsx(NN,{})})},{path:"/Storages",element:ae.jsx($.Suspense,{fallback:ae.jsx($r,{}),children:ae.jsx(LN,{})})},{path:"/Signup",element:ae.jsx($.Suspense,{fallback:ae.jsx($r,{}),children:ae.jsx(ON,{})})},{path:"/Signin",element:ae.jsx($.Suspense,{fallback:ae.jsx($r,{}),children:ae.jsx(RN,{})})},{path:"/Profile",element:ae.jsx($.Suspense,{fallback:ae.jsx($r,{}),children:ae.jsx(VN,{})})},{path:"/ForgotPassword",element:ae.jsx($.Suspense,{fallback:ae.jsx($r,{}),children:ae.jsx(MN,{})})}]}],{basename:"/farmers-warehous"});ef.createRoot(document.getElementById("root")).render(ae.jsx(Pp.StrictMode,{children:ae.jsx(zP,{router:FN})}));export{Yf as L,jN as N,PP as O,Pp as R,ca as S,eh as a,$r as b,Im as c,JN as d,UN as e,XN as f,ub as g,tL as h,nL as i,ae as j,ZN as k,qN as l,YN as m,KN as n,zN as o,QN as p,eL as q,$ as r,GN as s,PN as u};
